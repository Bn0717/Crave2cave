/*! For license information please see main.1f686aa8.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return D(e(t))}catch(It){}}return null}var j=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=M[z],M[z]=null,z--)}function V(e,t){z++,M[z]=e.current,e.current=t}var B=F(null),W=F(null),q=F(null),H=F(null);function K(e,t){switch(V(q,t),V(W,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function G(){U(B),U(W),U(q)}function Q(e){null!==e.memoizedState&&V(H,e);var t=B.current,n=ad(t,e.type);t!==n&&(V(W,e),V(B,n))}function Y(e){W.current===e&&(U(B),U(W)),H.current===e&&(U(H),Yd._currentValue=L)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ve(r):0!==(a&=s)?i=ve(a):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~o)?i=ve(s):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=P.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Re=Math.random().toString(36).slice(2),De="__reactFiber$"+Re,je="__reactProps$"+Re,Oe="__reactContainer$"+Re,Pe="__reactEvents$"+Re,Le="__reactListeners$"+Re,Me="__reactHandles$"+Re,ze="__reactResources$"+Re,Fe="__reactMarker$"+Re;function Ue(e){delete e[De],delete e[je],delete e[Pe],delete e[Le],delete e[Me]}function Ve(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[De])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[De]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(It){var t=It.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<It.stack.indexOf("\n    at")?" (<anonymous>)":-1<It.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(It){var r=It}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(It){return"\nError generating stack: "+It.message+"\n"+It.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(j(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Ot=null;function Pt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(a(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==jt||null!==Ot)&&(Bc(),jt&&(t=jt,e=Ot,Ot=jt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Oh){Ut=!1}var Bt=null,Wt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Wt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,$t,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},en=Yt(Zt),tn=h({},Zt,{view:0,detail:0}),nn=Yt(tn),rn=h({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Xt=e.screenX-Jt.screenX,$t=e.screenY-Jt.screenY):$t=Xt=0,Jt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),on=Yt(rn),an=Yt(h({},rn,{dataTransfer:0})),sn=Yt(h({},tn,{relatedTarget:0})),ln=Yt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Yt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Yt(h({},Zt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function gn(){return pn}var mn=Yt(h({},tn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Yt(h({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(h({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),bn=Yt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Yt(h({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Yt(h({},Zt,{newState:0,oldState:0})),Sn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Cn=null;Ft&&"documentMode"in document&&(Cn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Cn,_n=Ft&&(!kn||Cn&&8<Cn&&11>=Cn),Tn=String.fromCharCode(32),In=!1;function An(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function On(e,t,n,r){jt?Ot?Ot.push(r):Ot=[r]:jt=r,0<(t=Hu(t,"onChange")).length&&(n=new en("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pn=null,Ln=null;function Mn(e){Mu(e,0)}function zn(e){if(ht(We(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var Bn="oninput"in document;if(!Bn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Bn="function"===typeof Wn.oninput}Vn=Bn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){Pn&&(Pn.detachEvent("onpropertychange",Hn),Ln=Pn=null)}function Hn(e){if("value"===e.propertyName&&zn(Ln)){var t=[];On(t,Ln,e,Dt(e)),Mt(Mn,t)}}function Kn(e,t,n){"focusin"===e?(qn(),Ln=n,(Pn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Ln)}function Qn(e,t){if("click"===e)return zn(t)}function Yn(e,t){if("input"===e||"change"===e)return zn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rr=Ft&&"documentMode"in document&&11>=document.documentMode,ir=null,or=null,ar=null,sr=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==ir||ir!==ft(r)||("selectionStart"in(r=ir)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&$n(ar,r)||(ar=r,0<(r=Hu(or,"onSelect")).length&&(t=new en("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},dr={},hr={};function fr(e){if(dr[e])return dr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return dr[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var pr=fr("animationend"),gr=fr("animationiteration"),mr=fr("animationstart"),yr=fr("transitionrun"),vr=fr("transitionstart"),br=fr("transitioncancel"),xr=fr("transitionend"),wr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),Qe(t,[e])}Sr.push("scrollEnd");var Cr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Tr=0,Ir=0;function Ar(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var i=_r[t];_r[t++]=null;var o=_r[t];if(_r[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&jr(n,i,o)}}function Nr(e,t,n,r){_r[Tr++]=e,_r[Tr++]=t,_r[Tr++]=n,_r[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Nr(e,t,n,r),Or(e)}function Dr(e,t){return Nr(e,null,null,t),Or(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Or(e){if(50<jc)throw jc=0,Oc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Lr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)zr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=o,e;case m:return Br(n.children,i,o,t);case y:s=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case k:return(e=Mr(13,n,t,i)).elementType=k,e.lanes=o,e;case C:return(e=Mr(19,n,t,i)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case S:s=11;break e;case E:s=14;break e;case _:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Kr=0,Gr=null,Qr=0,Yr=[],Xr=0,$r=null,Jr=1,Zr="";function ei(e,t){Hr[Kr++]=Qr,Hr[Kr++]=Gr,Gr=e,Qr=t}function ti(e,t,n){Yr[Xr++]=Jr,Yr[Xr++]=Zr,Yr[Xr++]=$r,$r=e;var r=Jr;e=Zr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-fe(t)+i|n<<i|r,Zr=o+e}else Jr=1<<o|n<<i|r,Zr=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Gr;)Gr=Hr[--Kr],Hr[Kr]=null,Qr=Hr[--Kr],Hr[Kr]=null;for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Zr=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null}var ii=null,oi=null,ai=!1,si=null,li=!1,ci=Error(a(519));function ui(e){throw mi(Er(Error(a(418,"")),e)),ci}function di(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[je]=r,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Pu.length;n++)zu(Pu[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=r.onScroll&&zu("scroll",t),null!=r.onScrollEnd&&zu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ui(e)}function hi(e){for(ii=e.return;ii;)switch(ii.tag){case 5:case 13:return void(li=!1);case 27:case 3:return void(li=!0);default:ii=ii.return}}function fi(e){if(e!==ii)return!1;if(!ai)return hi(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&oi&&ui(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oi=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oi=null}}else 27===n?(n=oi,pd(e.type)?(e=bd,bd=null,oi=e):oi=n):oi=ii?vd(e.stateNode.nextSibling):null;return!0}function pi(){oi=ii=null,ai=!1}function gi(){var e=si;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var yi=F(null),vi=null,bi=null;function xi(e,t,n){V(yi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=yi.current,U(yi)}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Si(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Si(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ci(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){vi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ai(vi,e)}function Ii(e,t){return null===vi&&_i(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bi){if(null===e)throw Error(a(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ri=r.unstable_scheduleCallback,Di=r.unstable_NormalPriority,ji={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ni,data:new Map,refCount:0}}function Pi(e){e.refCount--,0===e.refCount&&Ri(Di,(function(){e.controller.abort()}))}var Li=null,Mi=0,zi=0,Fi=null;function Ui(){if(0===--Mi&&null!==Li){null!==Fi&&(Fi.status="fulfilled");var e=Li;Li=null,zi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Mi=0,zi=Nu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Ui,Ui)}(0,t),null!==Vi&&Vi(e,t)};var Bi=F(null);function Wi(){var e=Bi.current;return null!==e?e:ic.pooledCache}function qi(e,t){V(Bi,null===t?Bi.current:t.pool)}function Hi(){var e=Wi();return null===e?null:{parent:ji._currentValue,pool:e}}var Ki=Error(a(460)),Gi=Error(a(474)),Qi=Error(a(542)),Yi={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $i(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($i,$i),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw to(e=t.reason),e;default:if("string"===typeof t.status)t.then($i,$i);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw to(e=t.reason),e}throw Zi=t,Ki}}var Zi=null;function eo(){if(null===Zi)throw Error(a(459));var e=Zi;return Zi=null,e}function to(e){if(e===Ki||e===Qi)throw Error(a(483))}var no=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ao(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),jr(e,null,n),t}return Nr(e,r,t,n),Or(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var co=!1;function uo(){if(co){if(null!==Fi)throw Fi}}function ho(e,t,n,r){co=!1;var i=e.updateQueue;no=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===zi&&(co=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,d,f):g)||void 0===f)break e;d=h({},d,f);break e;case 2:no=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=d}}function fo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fo(n[e],t)}var go=F(null),mo=F(0);function yo(e,t){V(mo,e=hc),V(go,t),hc=e|t.baseLanes}function vo(){V(mo,hc),V(go,go.current)}function bo(){hc=mo.current,U(go),U(mo)}var xo=0,wo=null,So=null,ko=null,Co=!1,Eo=!1,_o=!1,To=0,Io=0,Ao=null,No=0;function Ro(){throw Error(a(321))}function Do(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function jo(e,t,n,r,i,o){return xo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Ga:Qa,_o=!1,o=n(r,i),_o=!1,Eo&&(o=Po(t,n,r,i)),Oo(e),o}function Oo(e){O.H=Ka;var t=null!==So&&null!==So.next;if(xo=0,ko=So=wo=null,Co=!1,Io=0,Ao=null,t)throw Error(a(300));null===e||Is||null!==(e=e.dependencies)&&Ei(e)&&(Is=!0)}function Po(e,t,n,r){wo=e;var i=0;do{if(Eo&&(Ao=null),Io=0,Eo=!1,25<=i)throw Error(a(301));if(i+=1,ko=So=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Ya,o=t(n,r)}while(Eo);return o}function Lo(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==So?So.memoizedState:null)!==e&&(wo.flags|=1024),t}function Mo(){var e=0!==To;return To=0,e}function zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(Co){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Co=!1}xo=0,ko=So=wo=null,Eo=!1,Io=To=0,Ao=null}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?wo.memoizedState=ko=e:ko=ko.next=e,ko}function Vo(){if(null===So){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=So.next;var t=null===ko?wo.memoizedState:ko.next;if(null!==t)ko=t,So=e;else{if(null===e){if(null===wo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(So=e).memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},null===ko?wo.memoizedState=ko=e:ko=ko.next=e}return ko}function Bo(e){var t=Io;return Io+=1,null===Ao&&(Ao=[]),e=Ji(Ao,e,t),t=wo,null===(null===ko?t.memoizedState:ko.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Ga:Qa),e}function Wo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===w)return Ti(e)}throw Error(a(438,String(e)))}function qo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Ho(e,t){return"function"===typeof t?t(e):t}function Ko(e){return Go(Vo(),So,e)}function Go(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(xo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===zi&&(d=!0);else{if((xo&f)===f){u=u.next,f===zi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,wo.lanes|=f,pc|=f}h=u.action,_o&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,wo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Xn(o,e.memoizedState)&&(Is=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qo(e){var t=Vo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Xn(o,t.memoizedState)||(Is=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yo(e,t,n){var r=wo,i=Vo(),o=ai;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Xn((So||i).memoizedState,n);if(s&&(i.memoizedState=n,Is=!0),i=i.queue,va(2048,8,Jo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==ko&&1&ko.memoizedState.tag){if(r.flags|=2048,ga(9,{destroy:void 0,resource:void 0},$o.bind(null,r,i,n,t),null),null===ic)throw Error(a(349));o||0!==(124&xo)||Xo(r,t,n)}return n}function Xo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $o(e,t,n,r){t.value=n,t.getSnapshot=r,Zo(t)&&ea(e)}function Jo(e,t,n){return n((function(){Zo(t)&&ea(e)}))}function Zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function ea(e){var t=Dr(e,2);null!==t&&Mc(t,e,2)}function ta(e){var t=Uo();if("function"===typeof e){var n=e;if(e=n(),_o){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function na(e,t,n,r){return e.baseState=n,Go(e,So,"function"===typeof r?r:Ho)}function ra(e,t,n,r,i){if(Wa(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ia(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ia(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=O.T,a={};O.T=a;try{var s=n(i,r),l=O.S;null!==l&&l(a,s),oa(e,t,s)}catch(c){sa(e,t,c)}finally{O.T=o}}else try{oa(e,t,o=n(i,r))}catch(u){sa(e,t,u)}}function oa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){aa(e,t,n)}),(function(n){return sa(e,t,n)})):aa(e,t,n)}function aa(e,t,n){t.status="fulfilled",t.value=n,la(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ia(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,la(t),t=t.next}while(t!==r)}e.action=null}function la(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ca(e,t){return t}function ua(e,t){if(ai){var n=ic.formState;if(null!==n){e:{var r=wo;if(ai){if(oi){t:{for(var i=oi,o=li;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){oi=vd(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=Uo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},n.queue=r,n=Ua.bind(null,wo,r),r.dispatch=n,r=ta(!1),o=Ba.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Uo()).queue=i,n=ra.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function da(e){return ha(Vo(),So,e)}function ha(e,t,n){if(t=Go(e,t,ca)[0],e=Ko(Ho)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(It){if(It===Ki)throw Qi;throw It}else r=t;var i=(t=Vo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,ga(9,{destroy:void 0,resource:void 0},fa.bind(null,i,n),null)),[r,o,e]}function fa(e,t){e.action=t}function pa(e){var t=Vo(),n=So;if(null!==n)return ha(t,n,e);Vo(),t=t.memoizedState;var r=(n=Vo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ga(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return Vo().memoizedState}function ya(e,t,n,r){var i=Uo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=ga(1|t,{destroy:void 0,resource:void 0},n,r)}function va(e,t,n,r){var i=Vo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==So&&null!==r&&Do(r,So.memoizedState.deps)?i.memoizedState=ga(t,o,n,r):(wo.flags|=e,i.memoizedState=ga(1|t,o,n,r))}function ba(e,t){ya(8390656,8,e,t)}function xa(e,t){va(2048,8,e,t)}function wa(e,t){return va(4,2,e,t)}function Sa(e,t){return va(4,4,e,t)}function ka(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ca(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,va(4,4,ka.bind(null,t,e),n)}function Ea(){}function _a(e,t){var n=Vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Do(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=Vo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Do(t,r[1]))return r[0];if(r=e(),_o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ia(e,t,n){return void 0===n||0!==(1073741824&xo)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),wo.lanes|=e,pc|=e,n)}function Aa(e,t,n,r){return Xn(n,t)?n:null!==go.current?(e=Ia(e,n,r),Xn(e,t)||(Is=!0),e):0===(42&xo)?(Is=!0,e.memoizedState=n):(e=Lc(),wo.lanes|=e,pc|=e,t)}function Na(e,t,n,r,i){var o=P.p;P.p=0!==o&&8>o?o:8;var a=O.T,s={};O.T=s,Ba(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Va(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pc());else Va(e,t,r,Pc())}catch(u){Va(e,t,{then:function(){},status:"rejected",reason:u},Pc())}finally{P.p=o,O.T=a}}function Ra(){}function Da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=ja(e).queue;Na(e,i,t,L,null===n?Ra:function(){return Oa(e),n(r)})}function ja(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oa(e){Va(e,ja(e).next.queue,{},Pc())}function Pa(){return Ti(Yd)}function La(){return Vo().memoizedState}function Ma(){return Vo().memoizedState}function za(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=ao(t,e=oo(n),n);return null!==r&&(Mc(r,t,n),so(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e)?qa(t,n):null!==(n=Rr(e,t,n,r))&&(Mc(n,e,r),Ha(n,t,r))}function Ua(e,t,n){Va(e,t,n,Pc())}function Va(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,a))return Nr(e,t,i,0),null===ic&&Ar(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Mc(n,e,r),Ha(n,t,r),!0}return!1}function Ba(e,t,n,r){if(r={lane:2,revertLane:Nu(),action:r,hasEagerState:!1,eagerState:null,next:null},Wa(e)){if(t)throw Error(a(479))}else null!==(t=Rr(e,n,r,2))&&Mc(t,e,2)}function Wa(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function qa(e,t){Eo=Co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ka={readContext:Ti,use:Wo,useCallback:Ro,useContext:Ro,useEffect:Ro,useImperativeHandle:Ro,useLayoutEffect:Ro,useInsertionEffect:Ro,useMemo:Ro,useReducer:Ro,useRef:Ro,useState:Ro,useDebugValue:Ro,useDeferredValue:Ro,useTransition:Ro,useSyncExternalStore:Ro,useId:Ro,useHostTransitionStatus:Ro,useFormState:Ro,useActionState:Ro,useOptimistic:Ro,useMemoCache:Ro,useCacheRefresh:Ro},Ga={readContext:Ti,use:Wo,useCallback:function(e,t){return Uo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ba,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){ya(4,2,e,t)},useMemo:function(e,t){var n=Uo();t=void 0===t?null:t;var r=e();if(_o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Uo();if(void 0!==n){var i=n(t);if(_o){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fa.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:function(e){var t=(e=ta(e)).queue,n=Ua.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ea,useDeferredValue:function(e,t){return Ia(Uo(),e,t)},useTransition:function(){var e=ta(!1);return e=Na.bind(null,wo,e.queue,!0,!1),Uo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=Uo();if(ai){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ic)throw Error(a(349));0!==(124&ac)||Xo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ba(Jo.bind(null,r,o,e),[e]),r.flags|=2048,ga(9,{destroy:void 0,resource:void 0},$o.bind(null,r,o,n,t),null),n},useId:function(){var e=Uo(),t=ic.identifierPrefix;if(ai){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=No++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Pa,useFormState:ua,useActionState:ua,useOptimistic:function(e){var t=Uo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return Uo().memoizedState=za.bind(null,wo)}},Qa={readContext:Ti,use:Wo,useCallback:_a,useContext:Ti,useEffect:xa,useImperativeHandle:Ca,useInsertionEffect:wa,useLayoutEffect:Sa,useMemo:Ta,useReducer:Ko,useRef:ma,useState:function(){return Ko(Ho)},useDebugValue:Ea,useDeferredValue:function(e,t){return Aa(Vo(),So.memoizedState,e,t)},useTransition:function(){var e=Ko(Ho)[0],t=Vo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Yo,useId:La,useHostTransitionStatus:Pa,useFormState:da,useActionState:da,useOptimistic:function(e,t){return na(Vo(),0,e,t)},useMemoCache:qo,useCacheRefresh:Ma},Ya={readContext:Ti,use:Wo,useCallback:_a,useContext:Ti,useEffect:xa,useImperativeHandle:Ca,useInsertionEffect:wa,useLayoutEffect:Sa,useMemo:Ta,useReducer:Qo,useRef:ma,useState:function(){return Qo(Ho)},useDebugValue:Ea,useDeferredValue:function(e,t){var n=Vo();return null===So?Ia(n,e,t):Aa(n,So.memoizedState,e,t)},useTransition:function(){var e=Qo(Ho)[0],t=Vo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Yo,useId:La,useHostTransitionStatus:Pa,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=Vo();return null!==So?na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qo,useCacheRefresh:Ma},Xa=null,$a=0;function Ja(e){var t=$a;return $a+=1,null===Xa&&(Xa=[]),Ji(Xa,e,t)}function Za(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function es(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ts(e){return(0,e._init)(e._payload)}function ns(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&ts(o)===t.type)?(Za(t=i(t,n.props),n),t.return=e,t):(Za(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Za(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=qr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(j(t)||N(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ja(t),n);if(t.$$typeof===w)return h(e,Ii(e,t),n);es(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||N(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ja(n),r);if(n.$$typeof===w)return f(e,t,Ii(e,n),r);es(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),i);if(r.$$typeof===w)return y(e,t,n,Ii(t,r),i);es(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&ts(b)===c.type){n(l,c.sibling),Za(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Za(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return s(l);case _:return v(l,c,u=(b=u._init)(u._payload),d)}if(j(u))return function(i,a,s,l){for(var c=null,u=null,d=a,p=a=0,g=null;null!==d&&p<s.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var m=f(i,d,s[p],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,p),null===u?c=m:u.sibling=m,u=m,d=g}if(p===s.length)return n(i,d),ai&&ei(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(i,s[p],l))&&(a=o(d,a,p),null===u?c=d:u.sibling=d,u=d);return ai&&ei(i,p),c}for(d=r(d);p<s.length;p++)null!==(g=y(d,i,p,s[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),a=o(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ai&&ei(i,p),c}(l,c,u,d);if(N(u)){if("function"!==typeof(b=N(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=s,g=s=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,p=m}if(v.done)return n(i,p),ai&&ei(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ai&&ei(i,g),u}for(p=r(p);!v.done;g++,v=l.next())null!==(v=y(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(i,e)})),ai&&ei(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ja(u),d);if(u.$$typeof===w)return v(l,c,Ii(l,u),d);es(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{$a=0;var i=v(e,t,n,r);return Xa=null,i}catch(It){if(It===Ki||It===Qi)throw It;var o=Mr(29,It,null,e.mode);return o.lanes=r,o.return=e,o}}}var rs=ns(!0),is=ns(!1),os=F(null),as=null;function ss(e){var t=e.alternate;V(ds,1&ds.current),V(os,e),null===as&&(null===t||null!==go.current||null!==t.memoizedState)&&(as=e)}function ls(e){if(22===e.tag){if(V(ds,ds.current),V(os,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else cs()}function cs(){V(ds,ds.current),V(os,os.current)}function us(e){U(os),as===e&&(as=null),U(ds)}var ds=F(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=oo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ao(e,i,r))&&(Mc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=oo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ao(e,i,r))&&(Mc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=oo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ao(e,r,n))&&(Mc(t,e,n),so(t,e,n))}};function gs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,o))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function ys(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bs(e){vs(e)}function xs(e){console.error(e)}function ws(e){vs(e)}function Ss(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Cs(e,t,n){return(n=oo(n)).tag=3,n.payload={element:null},n.callback=function(){Ss(e,t)},n}function Es(e){return(e=oo(e)).tag=3,e}function _s(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ks(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(a(461)),Is=!1;function As(e,t,n,r){t.child=null===e?is(t,null,n,r):rs(t,e.child,n,r)}function Ns(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return _i(t),r=jo(e,t,n,a,o,i),s=Mo(),null===e||Is?(ai&&s&&ni(t),t.flags|=1,As(e,t,r,i),t.child):(zo(e,t,i),Xs(e,t,i))}function Rs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ds(e,t,o,r,i))}if(o=e.child,!$s(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ds(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if($n(o,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=o,!$s(e,i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return Ls(e,t,n,r,i)}function js(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Os(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Os(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==o?o.cachePool:null),null!==o?yo(t,o):vo(),ls(t)}else null!==o?(qi(0,o.cachePool),yo(t,o),cs(),t.memoizedState=null):(null!==e&&qi(0,null),vo(),cs());return As(e,t,i,n),t.child}function Os(e,t,n,r){var i=Wi();return i=null===i?null:{parent:ji._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),vo(),ls(t),null!==e&&Ci(e,t,r,!0),null}function Ps(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ls(e,t,n,r,i){return _i(t),n=jo(e,t,n,r,void 0,i),r=Mo(),null===e||Is?(ai&&r&&ni(t),t.flags|=1,As(e,t,n,i),t.child):(zo(e,t,i),Xs(e,t,i))}function Ms(e,t,n,r,i,o){return _i(t),t.updateQueue=null,n=Po(t,r,n,i),Oo(e),r=Mo(),null===e||Is?(ai&&r&&ni(t),t.flags|=1,As(e,t,n,o),t.child):(zo(e,t,o),Xs(e,t,o))}function zs(e,t,n,r,i){if(_i(t),null===t.stateNode){var o=Pr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ti(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ps,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},ro(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ti(a):Pr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(fs(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ps.enqueueReplaceState(o,o.state,null),ho(t,r,o,i),uo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=ys(n,s);o.props=l;var c=o.context,u=n.contextType;a=Pr,"object"===typeof u&&null!==u&&(a=Ti(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&ms(t,o,r,a),no=!1;var h=t.memoizedState;o.state=h,ho(t,r,o,i),uo(),c=t.memoizedState,s||h!==c||no?("function"===typeof d&&(fs(t,n,d,r),c=t.memoizedState),(l=no||gs(t,n,l,r,h,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,io(e,t),u=ys(n,a=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Pr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&ms(t,o,r,l),no=!1,h=t.memoizedState,o.state=h,ho(t,r,o,i),uo();var f=t.memoizedState;a!==d||h!==f||no||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof s&&(fs(t,n,s,r),f=t.memoizedState),(u=no||gs(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ps(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,n,i)):As(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Xs(e,t,i),e}function Fs(e,t,n,r){return pi(),t.flags|=256,As(e,t,n,r),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vs(e){return{baseLanes:e,cachePool:Hi()}}function Bs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ws(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ds.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(o?ss(t):cs(),ai){var l,c=oi;if(l=c){e:{for(l=c,c=li;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ii=t,oi=null,l=!0):l=!1}l||ui(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;us(t)}return c=i.children,i=i.fallback,o?(cs(),c=Hs({mode:"hidden",children:c},o=t.mode),i=Br(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Vs(n),o.childLanes=Bs(e,r,n),t.memoizedState=Us,i):(ss(t),qs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(ss(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),o=i.fallback,c=t.mode,i=Hs({mode:"visible",children:i.children},c),(o=Br(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,rs(t,e.child,null,n),(i=t.child).memoizedState=Vs(n),i.childLanes=Bs(e,r,n),t.memoizedState=Us,t=o);else if(ss(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ks(e,t,n)}else if(Is||Ci(e,t,n,!1),r=0!==(n&e.childLanes),Is||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Dr(e,i),Mc(r,e,i),Ts;"$?"===c.data||Qc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oi=vd(c.nextSibling),ii=t,ai=!0,si=null,li=!1,null!==e&&(Yr[Xr++]=Jr,Yr[Xr++]=Zr,Yr[Xr++]=$r,Jr=e.id,Zr=e.overflow,$r=t),(t=qs(t,i.children)).flags|=4096);return t}return o?(cs(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Vs(n):(null!==(l=c.cachePool)?(u=ji._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Bs(e,r,n),t.memoizedState=Us,i):(ss(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return rs(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(As(e,t,r.children,n),0!==(2&(r=ds.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(ds,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qs(t,!0,n,null,o);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ci(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Is=!0;else{if(!$s(e,n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),xi(0,ji,e.memoizedState.cache),pi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:xi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ss(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ws(e,t,n):(ss(t),null!==(e=Xs(e,t,n))?e.sibling:null);ss(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ci(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(ds,ds.current),r)break;return null;case 22:case 23:return t.lanes=0,js(e,t,n);case 24:xi(0,ji,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,ai&&0!==(1048576&t.flags)&&ti(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Ns(null,t,r,e,n);break e}if(i===E){t.tag=14,t=Rs(null,t,r,e,n);break e}}throw t=D(r)||r,Error(a(306,t,""))}zr(r)?(e=ys(r,e),t.tag=1,t=zs(null,t,r,e,n)):(t.tag=0,t=Ls(null,t,r,e,n))}return t;case 0:return Ls(e,t,t.type,t.pendingProps,n);case 1:return zs(e,t,r=t.type,i=ys(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,io(e,t),ho(t,r,null,n);var s=t.memoizedState;if(r=s.cache,xi(0,ji,r),r!==o.cache&&ki(t,[ji],n,!0),uo(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oi=vd(e.firstChild),ii=t,ai=!0,si=null,li=!0,n=is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Xs(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 26:return Ps(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=id(q.current).createElement(n))[De]=t,r[je]=e,td(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ai&&(r=t.stateNode=wd(t.type,t.pendingProps,q.current),ii=t,li=!0,i=oi,pd(t.type)?(bd=i,oi=vd(r.firstChild)):oi=i),As(e,t,t.pendingProps.children,n),Ps(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=oi)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,li))?(t.stateNode=r,ii=t,oi=vd(r.firstChild),li=!1,i=!0):i=!1),i||ui(t)),Q(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==s&&sd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=jo(e,t,Lo,null,null,n),Yd._currentValue=i),Ps(e,t),As(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=oi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,li))?(t.stateNode=n,ii=t,oi=null,e=!0):e=!1),e||ui(t)),null;case 13:return Ws(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rs(t,null,r,n):As(e,t,r,n),t.child;case 11:return Ns(e,t,t.type,t.pendingProps,n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xi(0,t.type,r.value),As(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_i(t),r=r(i=Ti(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return Rs(e,t,t.type,t.pendingProps,n);case 15:return Ds(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return js(e,t,n);case 24:return _i(t),r=Ti(ji),null===e?(null===(i=Wi())&&(i=ic,o=Oi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},ro(t),xi(0,ji,i)):(0!==(e.lanes&n)&&(io(e,t),ho(t,null,null,n),uo()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),xi(0,ji,r)):(r=o.cache,xi(0,ji,r),r!==i.cache&&ki(t,[ji],n,!0))),As(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Zs(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=os.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Zi=Yi,Gi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(ji),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,gi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}e=B.current,fi(t)?di(t):(e=wd(i,r,n),t.stateNode=e,Zs(t))}return rl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}if(e=B.current,fi(t))di(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[De]=t,e[je]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ii))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ui(t)}else(e=id(e).createTextNode(r))[De]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[De]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=gi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),rl(t),null;case 10:return wi(t.type),rl(t),null;case 19:if(U(ds),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,nl(i,!1),e=o.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return V(ds,1&ds.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!ai)return rl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ds.current,V(ds,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return us(t),bo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(ji),rl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ol(e,t){switch(ri(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(ji),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ds),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return us(t),bo(),null!==e&&U(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(ji),null;default:return null}}function al(e,t){switch(ri(t),t.tag){case 3:wi(ji),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:us(t);break;case 19:U(ds);break;case 10:wi(t.type);break;case 22:case 23:us(t),bo(),null!==e&&U(Bi);break;case 24:wi(ji)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){du(t,t.return,s)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){du(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){du(e,e.return,r)}}}function ul(e,t,n){n.props=ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){du(e,t,o)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void mt(e,s,l,c,u,d,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Zu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Zu(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Zu(e,t,s,i,r,o)}return void xt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Zu(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Zu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(_t(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[je]=t}catch(i){du(e,e.return,i)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[De]=e,t[je]=n}catch(o){du(e,e.return,o)}}var xl=!1,wl=!1,Sl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Cl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&r&&sl(5,n);break;case 1:if(zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){du(n,n.return,a)}else{var i=ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){du(n,n.return,s)}}64&r&&cl(n),512&r&&dl(n,n.return);break;case 3:if(zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(a){du(n,n.return,a)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:zl(e,n),null===t&&4&r&&fl(n),512&r&&dl(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||wl,i=xl;var o=wl;xl=r,(wl=t)&&!o?Ul(e,n,0!==(8772&n.subtreeFlags)):zl(e,n),xl=i,wl=o}break;case 30:break;default:zl(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Il=!1;function Al(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||hl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=Tl,i=Il;pd(n.type)&&(Tl=n.stateNode,Il=!1),Al(e,t,n),Sd(n.stateNode),Tl=r,Il=i;break;case 5:wl||hl(n,t);case 6:if(r=Tl,i=Il,Tl=null,Al(e,t,n),Il=i,null!==(Tl=r))if(Il)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(a){du(n,t,a)}else try{Tl.removeChild(n.stateNode)}catch(a){du(n,t,a)}break;case 18:null!==Tl&&(Il?(gd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ih(e)):gd(Tl,n.stateNode));break;case 4:r=Tl,i=Il,Tl=n.stateNode.containerInfo,Il=!0,Al(e,t,n),Tl=r,Il=i;break;case 0:case 11:case 14:case 15:wl||ll(2,n,t),wl||ll(4,n,t),Al(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Al(e,t,n),wl=r;break;default:Al(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ih(e)}catch(n){du(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function jl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Tl=l.stateNode,Il=!1;break e}break;case 5:Tl=l.stateNode,Il=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));Nl(o,s,i),Tl=null,Il=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Pl(t,e),t=t.sibling}var Ol=null;function Pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),Ll(e),4&r&&(ll(3,e,e.return),sl(3,e),ll(5,e,e.return));break;case 1:jl(t,e),Ll(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(jl(t,e),Ll(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Fe]||o[De]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),td(o,r,n),o[De]=e,He(o),r=o;break e;case"link":var s=Ud("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[De]=e,He(o),r=o}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=Pd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Vd(i,e.type,e.stateNode):Pd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:jl(t,e),Ll(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),Ll(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Sl=!0);break;case 6:if(jl(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(Fd=null,i=Ol,Ol=Ed(t.containerInfo),jl(t,e),Ol=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ih(t.containerInfo)}catch(p){du(e,e.return,p)}Sl&&(Sl=!1,Ml(e));break;case 4:r=Ol,Ol=Ed(e.stateNode.containerInfo),jl(t,e),Ll(e),Ol=r;break;case 12:default:jl(t,e),Ll(e);break;case 13:jl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=wl;if(xl=u||i,wl=d||c,jl(t,e),wl=d,xl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||xl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:jl(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(gl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;yl(e,ml(e),s);break;default:throw Error(a(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Fl(t);break;case 27:Sd(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Ul(i,o,n),sl(4,o);break;case 1:if(Ul(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fo(l[i],s)}catch(c){du(r,r.return,c)}}n&&64&a&&cl(o),dl(o,o.return);break;case 27:bl(o);case 26:case 5:Ul(i,o,n),n&&null===r&&4&a&&fl(o),dl(o,o.return);break;case 12:Ul(i,o,n);break;case 13:Ul(i,o,n),n&&4&a&&Rl(i,o);break;case 22:null===o.memoizedState&&Ul(i,o,n),dl(o,o.return);break;case 30:break;default:Ul(i,o,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Pi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pi(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pi(e)));break;case 12:if(2048&i){Wl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Wl(e,t,n,r):Kl(e,t):2&o._visibility?Wl(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(a,t);break;case 24:Wl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(o,a,s,l,i),sl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(o,a,s,l,i):Kl(o,a):(u._visibility|=2,Hl(o,a,s,l,i)),i&&2048&c&&Vl(a.alternate,a);break;case 24:Hl(o,a,s,l,i),i&&2048&c&&Bl(a.alternate,a);break;default:Hl(o,a,s,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Wd)throw Error(a(475));var r=Wd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Nd(n.href),o=e.querySelector(Rd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Dd(n),(i=kd.get(i))&&Md(n,i),He(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),td(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Ol;Ol=Ed(e.stateNode.containerInfo),Ql(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Ql(e),Gl=t):Ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,ec(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,ec(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==Cl;){var n=Cl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Pi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cl=r;else e:for(n=e;null!==Cl;){var i=(r=Cl).sibling,o=r.return;if(_l(r),r===n){Cl=null;break e}if(null!==i){i.return=o,Cl=i;break e}Cl=o}}}var tc={getCacheForType:function(e){var t=Ti(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,oc=null,ac=0,sc=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,fc=0,pc=0,gc=0,mc=0,yc=0,vc=0,bc=null,xc=null,wc=!1,Sc=0,kc=1/0,Cc=null,Ec=null,_c=0,Tc=null,Ic=null,Ac=0,Nc=0,Rc=null,Dc=null,jc=0,Oc=null;function Pc(){if(0!==(2&rc)&&0!==ac)return ac&-ac;if(null!==O.T){return 0!==zi?zi:Nu()}return Ne()}function Lc(){0===yc&&(yc=0===(536870912&ac)||ai?Se():536870912);var e=os.current;return null!==e&&(e.flags|=32),yc}function Mc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,ac,yc,!1)),Ee(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(gc|=n),4===fc&&Vc(e,ac,yc,!1)),ku(e))}function zc(e,t,n){if(0!==(6&rc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Gc();ic!==e||ac!==t?(Cc=null,kc=te()+500,qc(e,t)):uc=xe(e,t);e:for(;;)try{if(0!==sc&&null!==oc){t=oc;var o=lc;t:switch(sc){case 1:sc=0,lc=null,eu(e,t,o,1);break;case 2:case 9:if(Xi(o)){sc=0,lc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),ku(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Xi(o)?(sc=0,lc=null,Zc(t)):(sc=0,lc=null,eu(e,t,o,7));break;case 5:var s=null;switch(oc.tag){case 26:s=oc.memoizedState;case 5:case 27:var l=oc;if(!s||Bd(s)){sc=0,lc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,tu(u)):oc=null}break t}}sc=0,lc=null,eu(e,t,o,5);break;case 6:sc=0,lc=null,eu(e,t,o,6);break;case 8:Wc(),fc=6;break e;default:throw Error(a(462))}}$c();break}catch(d){Hc(e,d)}return bi=vi=null,O.H=r,O.A=i,rc=n,null!==oc?0:(ic=null,ac=0,Ar(),fc)}(e,t):Yc(e,t,!0),o=r;;){if(0===i){uc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!o||Uc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=o,gc|=o,i=4;break e}o=xc,xc=i,null!==o&&(null===xc?xc=o:xc.push.apply(xc,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,yc,!cc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Sc+300-te())){if(Vc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(Fc.bind(null,r,n,xc,Cc,wc,t,yc,gc,vc,cc,o,2,-0,0),i)}else Fc(r,n,xc,Cc,wc,t,yc,gc,vc,cc,o,0,-0,0)}break}i=Yc(e,t,!1),o=!1}ku(e)}function Fc(e,t,n,r,i,o,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Wd={stylesheets:null,count:0,unsuspend:qd},Yl(t),null!==(h=function(){if(null===Wd)throw Error(a(475));var e=Wd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,o,n,r,i,s,l,c,d,1,f,p)),void Vc(e,o,s,!u);ru(e,t,o,n,r,i,s,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&_e(e,n,t)}function Bc(){return 0!==(6&rc)||(Cu(0,!1),!1)}function Wc(){if(null!==oc){if(0===sc)var e=oc.return;else bi=vi=null,Fo(e=oc),Xa=null,$a=0,e=oc;for(;null!==e;)al(e.alternate,e),e=e.return;oc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),ic=e,oc=n=Fr(e.current,null),ac=t,sc=0,lc=null,cc=!1,uc=xe(e,t),dc=!1,vc=yc=mc=gc=pc=fc=0,xc=bc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ar(),n}function Hc(e,t){wo=null,O.H=Ka,t===Ki||t===Qi?(t=eo(),sc=3):t===Gi?(t=eo(),sc=4):sc=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===oc&&(fc=1,Ss(e,Er(t,e.current)))}function Kc(){var e=O.H;return O.H=Ka,null===e?Ka:e}function Gc(){var e=O.A;return O.A=tc,e}function Qc(){fc=4,cc||(4194048&ac)!==ac&&null!==os.current||(uc=!0),0===(134217727&pc)&&0===(134217727&gc)||null===ic||Vc(ic,ac,yc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Kc(),o=Gc();ic===e&&ac===t||(Cc=null,qc(e,t)),t=!1;var a=fc;e:for(;;)try{if(0!==sc&&null!==oc){var s=oc,l=lc;switch(sc){case 8:Wc(),a=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=sc;if(sc=0,lc=null,eu(e,s,l,c),n&&uc){a=0;break e}break;default:c=sc,sc=0,lc=null,eu(e,s,l,c)}}Xc(),a=fc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,bi=vi=null,rc=r,O.H=i,O.A=o,null===oc&&(ic=null,ac=0,Ar()),a}function Xc(){for(;null!==oc;)Jc(oc)}function $c(){for(;null!==oc&&!Z();)Jc(oc)}function Jc(e){var t=Js(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):oc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ms(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ms(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Fo(t);default:al(n,t),t=Js(n,t=oc=Ur(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):oc=t}function eu(e,t,n,r){bi=vi=null,Fo(t),Xa=null,$a=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ci(t,n,i,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===as?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Qc(),!1}if(ai)return null!==(t=os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==ci&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==ci&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),lo(e,i=Cs(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var o=Error(a(520),{cause:r});if(o=Er(o,n),null===bc?bc=[o]:bc.push(o),4!==fc&&(fc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,lo(n,e=Cs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Ec||!Ec.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,_s(i=Es(i),e,n,r),lo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return fc=1,Ss(e,Er(n,e.current)),void(oc=null)}catch(o){if(null!==i)throw oc=i,o;return fc=1,Ss(e,Er(n,e.current)),void(oc=null)}32768&t.flags?(ai||1===r?e=!0:uc||0!==(536870912&ac)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);fc=6,oc=null}function ru(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==_c);if(0!==(6&rc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Ir,s,l,c),e===ic&&(oc=ic=null,ac=0),Ic=t,Tc=e,Ac=n,Nc=o,Rc=i,Dc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(oe,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=P.p,P.p=2,s=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(o=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=ys(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{rc=s,P.p=i,O.T=r}}_c=1,iu(),ou(),au()}}function iu(){if(1===_c){_c=0;var e=Tc,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=P.p;P.p=2;var i=rc;rc|=4;try{Pl(t,e);var o=rd,a=tr(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&er(s.ownerDocument.documentElement,s)){if(null!==l&&nr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var y=Zn(s,g),v=Zn(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!nd,rd=nd=null}finally{rc=i,P.p=r,O.T=n}}e.current=t,_c=2}}function ou(){if(2===_c){_c=0;var e=Tc,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=P.p;P.p=2;var i=rc;rc|=4;try{El(e,t.alternate,t)}finally{rc=i,P.p=r,O.T=n}}_c=3}}function au(){if(4===_c||3===_c){_c=0,ee();var e=Tc,t=Ic,n=Ac,r=Dc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Ic=Tc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=P.p,P.p=2,O.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{O.T=t,P.p=i}}0!==(3&Ac)&&lu(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?jc++:(jc=0,Oc=e):jc=0,Cu(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Pi(t)))}function lu(e){return iu(),ou(),au(),cu()}function cu(){if(5!==_c)return!1;var e=Tc,t=Nc;Nc=0;var n=Ae(Ac),r=O.T,i=P.p;try{P.p=32>n?32:n,O.T=null,n=Rc,Rc=null;var o=Tc,s=Ac;if(_c=0,Ic=Tc=null,Ac=0,0!==(6&rc))throw Error(a(331));var l=rc;if(rc|=4,Jl(o.current),ql(o,o.current,s,n),rc=l,Cu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{P.p=i,O.T=r,su(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=ao(e,t=Cs(e.stateNode,t,2),2))&&(Ee(e,2),ku(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ao(t,n=Es(2),2))&&(_s(n,r,t,e),Ee(r,2),ku(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===fc||3===fc&&(62914560&ac)===ac&&300>te()-Sc?0===(2&rc)&&qc(e,0):mc|=n,vc===ac&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Dr(e,t))&&(Ee(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,xu=!1,wu=!1,Su=0;function ku(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),xu=!0,bu||(bu=!0,hd((function(){0!==(6&rc)?$(re,Eu):_u()})))}function Cu(e,t){if(!wu&&xu){wu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Au(r,o))}else o=ac,0===(3&(o=be(r,r===ic?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,o)||(n=!0,Au(r,o));r=r.next}}while(n);wu=!1}}function Eu(){_u()}function _u(){xu=bu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(xu=!0)),r=i}Cu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-fe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=we(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=ac,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=Iu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Au(e,t){if(lu())return null;zc(e,t,!0)}function Nu(){return 0===Su&&(Su=Se()),Su}function Ru(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ju=0;ju<Sr.length;ju++){var Ou=Sr[ju];kr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}kr(pr,"onAnimationEnd"),kr(gr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(yr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(br,"onTransitionCancel"),kr(xr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}}}}function zu(e,t){var n=t[Pe];void 0===n&&(n=t[Pe]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Lu.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=oh;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ve(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Mt((function(){var r=o,i=Dt(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var c=en,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case gr:case mr:c=ln;break;case xr:c=bn;break;case"scroll":case"scrollend":c=nn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=zt(g,f))&&d.push(qu(g,m,p)),h)break;g=g.return}0<d.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Oe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==c?s:We(c),p=null==u?s:We(u),(s=new d(m,g+"leave",c,n,i)).target=h,s.relatedTarget=p,m=null,Ve(i)===r&&((d=new d(f,g+"enter",u,n,i)).target=p,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(f=u,g=0,p=d=c;p;p=Ku(p))g++;for(p=0,m=f;m;m=Ku(m))p++;for(;0<g-p;)d=Ku(d),g--;for(;0<p-g;)f=Ku(f),p--;for(;g--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Gu(a,s,c,d,!1),null!==u&&null!==h&&Gu(a,h,u,d,!0)}if("select"===(c=(s=r?We(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(jn(s))if(Un)y=Yn;else{y=Gn;var v=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&_t(r.elementType)&&(y=Fn):y=Qn;switch(y&&(y=y(e,r))?On(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?We(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(ir=v,or=r,ar=null);break;case"focusout":ar=or=ir=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,lr(a,n,i);break;case"selectionchange":if(rr)break;case"keydown":case"keyup":lr(a,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?An(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(_n&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(b=Ht()):(Wt="value"in(Bt=i)?Bt.value:Bt.textContent,Rn=!0)),0<(v=Hu(r,x)).length&&(x=new un(x,e,null,n,i),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=Nn(n))&&(x.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!kn&&An(e,t)?(e=Ht(),qt=Wt=Bt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Ru((i[je]||null).action),a=r.submitter;a&&null!==(t=(t=a[je]||null)?Ru(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new en("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=a?Du(i,a):new FormData(i);Da(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Du(i,a):new FormData(i),Da(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Mu(a,t)}))}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=zt(e,n))&&r.unshift(qu(e,i,o)),null!=(i=zt(e,t))&&r.push(qu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=zt(n,o))&&a.unshift(qu(n,c,l)):i||null!=(c=zt(n,o))&&a.push(qu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function ed(e,t,n,r,i,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[je]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,r,s,n,null)}}return o&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,s,o,!1),void dt(e);case"select":for(o in zu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in zu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(e,t,s,l,n,null)}return wt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(i=0;i<Pu.length;i++)zu(Pu[i],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&Sd(a.documentElement),2&n&&Sd(a.body),4&n)for(Sd(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Ih(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ih(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,Cd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=P.d;P.d={f:function(){var e=_d.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Oa(t):_d.r(e)},D:function(e){_d.D(e),Id("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Id("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=Nd(e);break;case"script":o=jd(e)}kd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Rd(o))||"script"===t&&r.querySelector(Od(o))||(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=jd(e)}if(!kd.has(o)&&(e=h({rel:"modulepreload",href:e},t),kd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(o)))return}td(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=jd(e),o=r.get(i);o||((o=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&zd(e,t),He(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){_d.S(e,t,n);var r=Td;if(r&&e){var i=qe(r).hoistableStyles,o=Nd(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Rd(o)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(o))&&Md(e,n);var l=a=r.createElement("link");He(l),td(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Ld(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){_d.M(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=jd(e),o=r.get(i);o||((o=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&zd(e,t),He(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Td="undefined"===typeof document?null:document;function Id(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Cd.has(i)||(Cd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ad(e,t,n,r){var i,o,s,l,c=(c=q.current)?Ed(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Rd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,o=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),td(o,"link",s),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=jd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nd(e){return'href="'+gt(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function jd(e){return'[src="'+gt(e)+'"]'}function Od(e){return"script[async]"+e}function Pd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nd(n.href);var o=e.querySelector(Rd(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Dd(n),(i=kd.get(i))&&Md(r,i),He(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),td(o,"link",r),t.state.loading|=4,Ld(o,n.precedence,e),t.instance=o;case"script":return o=jd(n.src),(i=e.querySelector(Od(o)))?(t.instance=i,He(i),i):(r=n,(i=kd.get(o))&&zd(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Fe]||o[De]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Qd,e),Kd=null,Hd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Xd(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $d(e,t,n,r,i,o,a,s,l,c,u,d){return e=new Xd(e,t,n,a,s,l,c,d),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},ro(o),e}function Jd(e){return e?e=Pr:Pr}function Zd(e,t,n,r,i,o){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=oo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=ao(e,r,t))&&(Mc(n,0,t),so(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Dr(e,67108864);null!==t&&Mc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=O.T;O.T=null;var o=P.p;try{P.p=2,ah(e,t,n,r)}finally{P.p=o,O.T=i}}function oh(e,t,n,r){var i=O.T;O.T=null;var o=P.p;try{P.p=8,ah(e,t,n,r)}finally{P.p=o,O.T=i}}function ah(e,t,n,r){if(rh){var i=sh(r);if(null===i)Wu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=xh(hh,e,t,n,r,i),!0;case"dragenter":return fh=xh(fh,e,t,n,r,i),!0;case"mouseover":return ph=xh(ph,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return gh.set(o,xh(gh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,xh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var o=Be(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ve(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-fe(a);s.entanglements[1]|=l,a&=~l}ku(o),0===(6&rc)&&(kc=te()+500,Cu(0,!1))}}break;case 13:null!==(s=Dr(o,2))&&Mc(s,0,2),Bc(),th(o,2)}if(null===(o=sh(r))&&Wu(e,t,r,lh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wu(e,t,r,null,n)}}function sh(e){return ch(e=Dt(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,gh=new Map,mh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function xh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc();e=Ie(e);var t=Dr(n,e);null!==t&&Mc(t,0,e),th(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function kh(e,t,n){Sh(e)&&n.delete(t)}function Ch(){dh=!1,null!==hh&&Sh(hh)&&(hh=null),null!==fh&&Sh(fh)&&(fh=null),null!==ph&&Sh(ph)&&(ph=null),gh.forEach(kh),mh.forEach(kh)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ch)))}var _h=null;function Th(e){_h!==e&&(_h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var o=Be(n);null!==o&&(e.splice(t,3),t-=3,Da(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Ih(e){function t(t){return Eh(t,e)}null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),null!==ph&&Eh(ph,e),gh.forEach(t),mh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)wh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[je]||null;if("function"===typeof o)a||Th(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[je]||null)s=a.formAction;else if(null!==ch(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Th(n)}}}function Ah(e){this._internalRoot=e}function Nh(e){this._internalRoot=e}Nh.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zd(t.current,Pc(),e,t,null,null)},Nh.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Nh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&wh(e)}};var Rh=i.version;if("19.1.0"!==Rh)throw Error(a(527,Rh,"19.1.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Dh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ue=jh.inject(Dh),de=jh}catch(Ph){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=bs,o=xs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,i,o,l,0,null),e[Oe]=t.current,Vu(e),new Ah(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=bs,l=xs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=oo(r=Ie(r=Pc()))).callback=null,ao(n,i,r),n=r,t.current.lanes=n,Ee(t,n),ku(t),e[Oe]=t.current,Vu(e),new Nh(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function C(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+T(e,0):o,w(a)?(i="",null!=u&&(i=u.replace(_,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+u,a=C(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===o?".":o+":";if(w(e))for(var g=0;g<e.length;g++)u+=A(o=e[g],t,i,s=p+T(o,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=A(o=o.value,t,i,s=p+T(o,g++),a);else if("object"===s){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function j(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return C(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return C(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(j,D)}catch(o){D(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,C||(C=!0,k());else{var t=r(u);null!==t&&D(S,t.startTime-e)}}var k,C=!1,E=-1,_=5,T=-1;function I(){return!!y||!(t.unstable_now()-T<_)}function A(){if(y=!1,C){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(E),E=-1),p=!0;var o=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&D(S,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?k():C=!1}}}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=A,k=function(){R.postMessage(null)}}else k=function(){v(A,0)};function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(E),E=-1):m=!0,D(S,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,C||(C=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".957efc21.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="crave2cave-project:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcrave2cave_project=self.webpackChunkcrave2cave_project||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=n.p+"static/media/logo(1).a5b0c700e9ca31c31928.png",d=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new f;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){return function(e){const t=d(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},g=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const y=()=>{try{return m().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&g(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{const t=(e=>{var t,n;return null===(n=null===(t=y())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},b=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function w(e){return e.endsWith(".cloudworkstations.dev")}async function S(e){return(await fetch(e,{credentials:"include"})).ok}function k(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(o)),""].join(".")}const C={};let E=!1;function _(e,t){if("undefined"===typeof window||"undefined"===typeof document||!w(window.location.host)||C[e]===t||C[e]||E)return;function n(e){return"__firebase__banner__".concat(e)}C[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(C))C[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{E=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){var e;const t=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function A(){return!I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(j,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,o,t)}}const j=/\{\$([^}]+)}/g;function O(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(P(n)&&P(o)){if(!O(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P(e){return null!==e&&"object"===typeof e}function L(e){return e&&e._delegate?e._delegate:e}class M{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const z="[DEFAULT]";class F{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new x;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:z})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===z?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.component?this.component.multipleInstances?e:z:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new F(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const V=[];var B;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(B||(B={}));const W={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},q=B.INFO,H={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},K=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=H[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class G{constructor(e){this.name=e,this._logLevel=q,this._logHandler=K,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in B))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?W[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...t),this._logHandler(this,B.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...t),this._logHandler(this,B.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.INFO,...t),this._logHandler(this,B.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.WARN,...t),this._logHandler(this,B.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.ERROR,...t),this._logHandler(this,B.ERROR,...t)}}let Q,Y;const X=new WeakMap,$=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;let te={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $.get(e);if("objectStoreNames"===t)return e.objectStoreNames||J.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ie(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ne(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(oe(this),n),ie(X.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ie(e.apply(oe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(oe(this),t,...r);return J.set(o,t.sort?t.sort():[t]),ie(o)}}function re(e){return"function"===typeof e?ne(e):(e instanceof IDBTransaction&&function(e){if($.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));$.set(e,t)}(e),t=e,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,te):e);var t}function ie(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ie(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&X.set(t,e)})).catch((()=>{})),ee.set(t,e),t}(e);if(Z.has(e))return Z.get(e);const t=re(e);return t!==e&&(Z.set(e,t),ee.set(t,e)),t}const oe=e=>ee.get(e);const ae=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],le=new Map;function ce(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(le.get(t))return le.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=se.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ae.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return le.set(t,o),o}te=(e=>c(c({},e),{},{get:(t,n,r)=>ce(t,n)||e.get(t,n,r),has:(t,n)=>!!ce(t,n)||e.has(t,n)}))(te);class ue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const de="@firebase/app",he="0.13.1",fe=new G("@firebase/app"),pe="@firebase/app-compat",ge="@firebase/analytics-compat",me="@firebase/analytics",ye="@firebase/app-check-compat",ve="@firebase/app-check",be="@firebase/auth",xe="@firebase/auth-compat",we="@firebase/database",Se="@firebase/data-connect",ke="@firebase/database-compat",Ce="@firebase/functions",Ee="@firebase/functions-compat",_e="@firebase/installations",Te="@firebase/installations-compat",Ie="@firebase/messaging",Ae="@firebase/messaging-compat",Ne="@firebase/performance",Re="@firebase/performance-compat",De="@firebase/remote-config",je="@firebase/remote-config-compat",Oe="@firebase/storage",Pe="@firebase/storage-compat",Le="@firebase/firestore",Me="@firebase/ai",ze="@firebase/firestore-compat",Fe="firebase",Ue="[DEFAULT]",Ve={[de]:"fire-core",[pe]:"fire-core-compat",[me]:"fire-analytics",[ge]:"fire-analytics-compat",[ve]:"fire-app-check",[ye]:"fire-app-check-compat",[be]:"fire-auth",[xe]:"fire-auth-compat",[we]:"fire-rtdb",[Se]:"fire-data-connect",[ke]:"fire-rtdb-compat",[Ce]:"fire-fn",[Ee]:"fire-fn-compat",[_e]:"fire-iid",[Te]:"fire-iid-compat",[Ie]:"fire-fcm",[Ae]:"fire-fcm-compat",[Ne]:"fire-perf",[Re]:"fire-perf-compat",[De]:"fire-rc",[je]:"fire-rc-compat",[Oe]:"fire-gcs",[Pe]:"fire-gcs-compat",[Le]:"fire-fst",[ze]:"fire-fst-compat",[Me]:"fire-vertex","fire-js":"fire-js",[Fe]:"fire-js-all"},Be=new Map,We=new Map,qe=new Map;function He(e,t){try{e.container.addComponent(t)}catch(n){fe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ke(e){const t=e.name;if(qe.has(t))return fe.debug("There were multiple attempts to register component ".concat(t,".")),!1;qe.set(t,e);for(const n of Be.values())He(n,e);for(const n of We.values())He(n,e);return!0}function Ge(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Qe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ye=new D("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new M("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ye.create("app-deleted",{appName:this._name})}}const $e="11.9.0";function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ue,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Ye.create("bad-app-name",{appName:String(i)});if(n||(n=b()),!n)throw Ye.create("no-options");const o=Be.get(i);if(o){if(O(n,o.options)&&O(r,o.config))return o;throw Ye.create("duplicate-app",{appName:i})}const a=new U(i);for(const l of qe.values())a.addComponent(l);const s=new Xe(n,r,a);return Be.set(i,s),s}function Ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;const t=Be.get(e);if(!t&&e===Ue&&b())return Je();if(!t)throw Ye.create("no-app",{appName:e});return t}function et(e,t,n){var r;let i=null!==(r=Ve[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fe.warn(e.join(" "))}Ke(new M("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const tt="firebase-heartbeat-store";let nt=null;function rt(){return nt||(nt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=ie(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ie(a.result),e.oldVersion,e.newVersion,ie(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tt)}catch(n){console.warn(n)}}}).catch((e=>{throw Ye.create("idb-open",{originalErrorMessage:e.message})}))),nt}async function it(e,t){try{const n=(await rt()).transaction(tt,"readwrite"),r=n.objectStore(tt);await r.put(t,ot(e)),await n.done}catch(n){if(n instanceof R)fe.warn(n.message);else{const e=Ye.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});fe.warn(e.message)}}}function ot(e){return"".concat(e.name,"!").concat(e.options.appId)}class at{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=st();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fe.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=st(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ct(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ct(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return fe.warn(t),""}}}function st(){return(new Date).toISOString().substring(0,10)}class lt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!N()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rt()).transaction(tt),n=await t.objectStore(tt).get(ot(e));return await t.done,n}catch(t){if(t instanceof R)fe.warn(t.message);else{const e=Ye.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});fe.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ct(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var ut;ut="",Ke(new M("platform-logger",(e=>new ue(e)),"PRIVATE")),Ke(new M("heartbeat",(e=>new at(e)),"PRIVATE")),et(de,he,ut),et(de,he,"esm2017"),et("fire-js","");et("firebase","11.9.1","app");var dt,ht,ft="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ht=pt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},dt=pt.Integer=r}).apply("undefined"!==typeof ft?ft:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var gt,mt,yt,vt,bt,xt,wt,St,kt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ct={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof kt&&kt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function C(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _),(e=>e.reset()));class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(R)}};var R=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(n){k(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function D(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function P(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&P.aa.h.call(this)}}d(P,j);var L={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=W(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(o=e.g[t],n,r,i))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new P(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;w(t=new j(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){j.call(this,"d")}function be(){j.call(this,"c")}d(ve,j),d(be,j);var xe={},we=null;function Se(){return we=we||new ne}function ke(e){j.call(this,xe.La,e)}function Ce(e){const t=Se();re(t,new ke(t))}function Ee(e,t){j.call(this,xe.STAT_EVENT,e),this.stat=t}function _e(e){const t=Se();re(t,new Ee(t,e))}function Te(e,t){j.call(this,xe.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(ke,j),xe.STAT_EVENT="statevent",d(Ee,j),xe.Ma="timingevent",d(Te,j),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Re,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Re=new Oe;var Me={},ze={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),We(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Pt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||vn(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),sn(n)}pn(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else xn(n,11)}else if((e.K||n.g==e)&&yn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),We(s)),r.g=a}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||xn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ce()}catch(u){}}Pe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Ce(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=nn(this.g);e="";var o=r.length,a=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),Ge(this),Ke(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==ze){4==h&&(this.s=4,_e(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,_e(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),gn(d),d.M=!0,_e(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ne(this.i,this.l,s,null),Qe(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?vn(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Ge(this),Ke(this)}}}catch(h){}},Pe.prototype.cancel=function(){this.J=!0,Ge(this)},Pe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ce(),_e(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Rt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new Rt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Rt?(e.i=t,function(e,t){t&&!e.j&&(Dt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Pt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,At)),e.i=new Rt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,_t,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,_t,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?It:Tt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,Nt)),e.join("")};var Et,_t=/[#\/\?@]/g,Tt=/[#\?:]/g,It=/[#\?]/g,At=/[#\?@]/g,Nt=/#/g;function Rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jt(e,t){Dt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ot(e,t){return Dt(e),t=Lt(e,t),e.g.has(t)}function Pt(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),h(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function zt(){this.g=new fe}function Ft(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ut(e){this.l=e.Ub||null,this.j=e.eb||!1}function Vt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,qt(e)}function qt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Kt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Gt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rt.prototype).add=function(e,t){Dt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Dt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Dt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Dt(this);let t=[];if("string"===typeof e)Ot(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Dt(this),this.i=null,Ot(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Ut,pe),Ut.prototype.g=function(){return new Vt(this.l,this.j)},Ut.prototype.i=(Et={},function(){return Et}),d(Vt,ne),(e=Vt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,qt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):qt(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Gt,ne);var Qt=/^https?$/i,Yt=["POST","PUT"];function Xt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Zt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Jt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Qt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<tn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",$t(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new zt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),dn(e,n),(t=new Pe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}wn(e)}function sn(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function ln(e){sn(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||N(),I||(T(),I=!0),A.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),dn(e,r),e.m&&e.o&&Kt(r,e.m,e.o),n=new Pe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function dn(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ft(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||N(),I||(T(),I=!0),A.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mn(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vn(e,t){var n=null;if(e.g==t){yn(e),gn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Te(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xn(e,5);break;case 4:xn(e,10);break;case 3:xn(e,6);break;default:xn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function xn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Mt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Mt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Mt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Mt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Mt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Mt(0,0,!1,t)}))}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),wn(e),ln(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),dn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new Ut({eb:n})):new Gt(e.pa)).Ha(e.J),t}function Cn(){}function En(){}function _n(e,t){ne.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function Tn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){be.call(this),this.status=1}function An(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?ge(this.o):ge(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Xt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Xt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Jt(this):this.bb())},e.bb=function(){Jt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Et){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Et){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Pe(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),dn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ht(o)))+"&"+t:this.m&&Kt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||$e(this.h)||un(this))},e.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),sn(this),mn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),pn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Cn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new _n(e,t)},d(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){an(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&cn(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,_n.aa.N.call(this)},d(Tn,ve),d(In,be),d(An,Cn),An.prototype.ua=function(){re(this.g,"a")},An.prototype.ta=function(e){re(this.g,new Tn(e))},An.prototype.sa=function(e){re(this.g,new In)},An.prototype.ra=function(){re(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,St=Ct.createWebChannelTransport=function(){return new En},wt=Ct.getStatEventTarget=function(){return Se()},xt=Ct.Event=xe,bt=Ct.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,vt=Ct.ErrorCode=De,je.COMPLETE="complete",yt=Ct.EventType=je,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,mt=Ct.WebChannel=me,Ct.FetchXmlHttpFactory=Ut,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,gt=Ct.XhrIo=Gt}).apply("undefined"!==typeof kt?kt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Et="@firebase/firestore",_t="4.7.17";class Tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");let It="11.9.0";const At=new G("@firebase/firestore");function Nt(){return At.logLevel}function Rt(e){if(At.logLevel<=B.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ot);At.debug("Firestore (".concat(It,"): ").concat(e),...i)}}function Dt(e){if(At.logLevel<=B.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ot);At.error("Firestore (".concat(It,"): ").concat(e),...i)}}function jt(e){if(At.logLevel<=B.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ot);At.warn("Firestore (".concat(It,"): ").concat(e),...i)}}function Ot(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Pt(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Lt(e,r,n)}function Lt(e,t,n){let r="FIRESTORE (".concat(It,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Dt(r),new Error(r)}function Mt(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Lt(t,i,r)}function zt(e,t){return e}const Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends R{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Vt{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Bt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Wt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Tt.UNAUTHENTICATED)))}shutdown(){}}class qt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ht{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vt,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vt)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Mt("string"==typeof t.accessToken,31837,{l:t}),new Bt(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e,2055,{h:e}),new Tt(e)}}class Kt{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gt{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Kt(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Tt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yt{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(void 0===this.o,3512);const n=e=>{null!=e.error&&Rt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Rt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qt(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Mt("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Qt(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xt(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function $t(){return new TextEncoder}class Jt{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xt(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Zt(e,t){return e<t?-1:e>t?1:0}function en(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Zt(r,i);{const o=$t(),a=nn(o.encode(tn(e,n)),o.encode(tn(t,n)));return 0!==a?a:Zt(r,i)}}n+=r>65535?2:1}return Zt(e.length,t.length)}function tn(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function nn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Zt(e[n],t[n]);return Zt(e.length,t.length)}function rn(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const on=-62135596800,an=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*an);return new sn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<on)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/an}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-on;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{static fromTimestamp(e){return new ln(e)}static min(){return new ln(new sn(0,0))}static max(){return new ln(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cn="__name__";class un{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pt(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Pt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===un.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof un?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=un.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Zt(e.length,t.length)}static compareSegments(e,t){const n=un.isNumericId(e),r=un.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?un.extractNumericId(e).compare(un.extractNumericId(t)):en(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dt.fromString(e.substring(4,e.length-2))}}class dn extends un{construct(e,t,n){return new dn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new dn(e)}static emptyPath(){return new dn([])}}const hn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends un{construct(e,t,n){return new fn(e,t,n)}static isValidIdentifier(e){return hn.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===cn}static keyField(){return new fn([cn])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ut(Ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ut(Ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ut(Ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}class pn{constructor(e){this.path=e}static fromPath(e){return new pn(dn.fromString(e))}static fromName(e){return new pn(dn.fromString(e).popFirst(5))}static empty(){return new pn(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pn(new dn(e.slice()))}}const gn=-1;class mn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}mn.UNKNOWN_ID=-1;function yn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ln.fromTimestamp(1e9===r?new sn(n+1,0):new sn(n,r));return new bn(i,pn.empty(),t)}function vn(e){return new bn(e.readTime,e.key,gn)}class bn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new bn(ln.min(),pn.empty(),gn)}static max(){return new bn(ln.max(),pn.empty(),gn)}}function xn(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pn.comparator(e.documentKey,t.documentKey),0!==n?n:Zt(e.largestBatchId,t.largestBatchId))}const wn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kn(e){if(e.code!==Ft.FAILED_PRECONDITION||e.message!==wn)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}class Cn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Cn(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Cn?t:Cn.resolve(t)}catch(e){return Cn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Cn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Cn.reject(t)}static resolve(e){return new Cn(((t,n)=>{t(e)}))}static reject(e){return new Cn(((t,n)=>{n(e)}))}static waitFor(e){return new Cn(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Cn.resolve(!1);for(const n of e)t=t.next((e=>e?Cn.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Cn(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Cn(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function En(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _n(e){return"IndexedDbTransactionError"===e.name}class Tn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tn.le=-1;const In=-1;function An(e){return null==e}function Nn(e){return 0===e&&1/e==-1/0}function Rn(e){return"number"==typeof e&&Number.isInteger(e)&&!Nn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Dn="\x01";function jn(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Pn(t)),t=On(e.get(n),t);return Pn(t)}function On(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Dn:n+="\x01\x11";break;default:n+=t}}return n}function Pn(e){return e+Dn+"\x01"}const Ln="remoteDocuments",Mn="owner",zn="mutationQueues",Fn="mutations";const Un="documentMutations",Vn="remoteDocumentsV14",Bn="remoteDocumentGlobal",Wn="targets",qn="targetDocuments",Hn="targetGlobal",Kn="collectionParents",Gn="clientMetadata",Qn="bundles",Yn="namedQueries",Xn="indexConfiguration",$n="indexState",Jn="indexEntries",Zn="documentOverlays",er="globals",tr=[zn,Fn,Un,Ln,Wn,Mn,Hn,qn,Gn,Bn,Kn,Qn,Yn],nr=[zn,Fn,Un,Vn,Wn,Mn,Hn,qn,Gn,Bn,Kn,Qn,Yn,Zn],rr=nr,ir=[...rr,Xn,$n,Jn];function or(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ar(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class lr{constructor(e,t){this.comparator=e,this.root=t||ur.EMPTY}insert(e,t){return new lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cr(this.root,e,this.comparator,!1)}getReverseIterator(){return new cr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cr(this.root,e,this.comparator,!0)}}class cr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ur.RED,this.left=null!=r?r:ur.EMPTY,this.right=null!=i?i:ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ur(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ur.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pt(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1,ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ur(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hr(this.data.getIterator())}getIteratorFrom(e){return new hr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class hr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fr{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new fr([])}unionWith(e){let t=new dr(fn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rn(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pr("Invalid base64 string: "+e):e}}(e);return new gr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const mr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(e){if(Mt(!!e,39018),"string"==typeof e){let t=0;const n=mr.exec(e);if(Mt(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vr(e.seconds),nanos:vr(e.nanos)}}function vr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function br(e){return"string"==typeof e?gr.fromBase64String(e):gr.fromUint8Array(e)}const xr="server_timestamp",wr="__type__",Sr="__previous_value__",kr="__local_write_time__";function Cr(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[wr])||void 0===n?void 0:n.stringValue)===xr}function Er(e){const t=e.mapValue.fields[Sr];return Cr(t)?Er(t):t}function _r(e){const t=yr(e.mapValue.fields[kr].timestampValue);return new sn(t.seconds,t.nanos)}class Tr{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ir="(default)";class Ar{constructor(e,t){this.projectId=e,this.database=t||Ir}static empty(){return new Ar("","")}get isDefaultDatabase(){return this.database===Ir}isEqual(e){return e instanceof Ar&&e.projectId===this.projectId&&e.database===this.database}}const Nr="__type__",Rr="__max__",Dr={mapValue:{fields:{__type__:{stringValue:Rr}}}},jr="__vector__",Or="value";function Pr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cr(e)?4:Jr(e)?9007199254740991:Xr(e)?10:11:Pt(28295,{value:e})}function Lr(e,t){if(e===t)return!0;const n=Pr(e);if(n!==Pr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _r(e).isEqual(_r(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=yr(e.timestampValue),r=yr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return br(e.bytesValue).isEqual(br(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vr(e.geoPointValue.latitude)===vr(t.geoPointValue.latitude)&&vr(e.geoPointValue.longitude)===vr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vr(e.integerValue)===vr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vr(e.doubleValue),r=vr(t.doubleValue);return n===r?Nn(n)===Nn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rn(e.arrayValue.values||[],t.arrayValue.values||[],Lr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(or(n)!==or(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Lr(n[i],r[i])))return!1;return!0}(e,t);default:return Pt(52216,{left:e})}}function Mr(e,t){return void 0!==(e.values||[]).find((e=>Lr(e,t)))}function zr(e,t){if(e===t)return 0;const n=Pr(e),r=Pr(t);if(n!==r)return Zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vr(e.integerValue||e.doubleValue),r=vr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fr(e.timestampValue,t.timestampValue);case 4:return Fr(_r(e),_r(t));case 5:return en(e.stringValue,t.stringValue);case 6:return function(e,t){const n=br(e),r=br(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zt(n[i],r[i]);if(0!==e)return e}return Zt(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zt(vr(e.latitude),vr(t.latitude));return 0!==n?n:Zt(vr(e.longitude),vr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ur(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Or])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Or])||void 0===r?void 0:r.arrayValue,u=Zt((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ur(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dr.mapValue&&t===Dr.mapValue)return 0;if(e===Dr.mapValue)return 1;if(t===Dr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=en(r[a],o[a]);if(0!==e)return e;const t=zr(n[r[a]],i[o[a]]);if(0!==t)return t}return Zt(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Pt(23264,{Pe:n})}}function Fr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zt(e,t);const n=yr(e),r=yr(t),i=Zt(n.seconds,r.seconds);return 0!==i?i:Zt(n.nanos,r.nanos)}function Ur(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=zr(n[i],r[i]);if(e)return e}return Zt(n.length,r.length)}function Vr(e){return Br(e)}function Br(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=yr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return br(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return pn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Br(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Br(e.fields[i]));return n+"}"}(e.mapValue):Pt(61005,{value:e})}function Wr(e){switch(Pr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Er(e);return t?16+Wr(t):16;case 5:return 2*e.stringValue.length;case 6:return br(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Wr(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ar(e.fields,((e,n)=>{t+=e.length+Wr(n)})),t}(e.mapValue);default:throw Pt(13486,{value:e})}}function qr(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hr(e){return!!e&&"integerValue"in e}function Kr(e){return!!e&&"arrayValue"in e}function Gr(e){return!!e&&"nullValue"in e}function Qr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yr(e){return!!e&&"mapValue"in e}function Xr(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Nr])||void 0===n?void 0:n.stringValue)===jr}function $r(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ar(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=$r(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$r(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Jr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Rr}class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$r(t)}setAll(e){let t=fn.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=$r(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ar(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Zr($r(this.value))}}function ei(e){const t=[];return ar(e.fields,((e,n)=>{const r=new fn([e]);if(Yr(n)){const e=ei(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fr(t)}class ti{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ti(e,0,ln.min(),ln.min(),ln.min(),Zr.empty(),0)}static newFoundDocument(e,t,n,r){return new ti(e,1,t,ln.min(),n,r,0)}static newNoDocument(e,t){return new ti(e,2,t,ln.min(),ln.min(),Zr.empty(),0)}static newUnknownDocument(e,t){return new ti(e,3,t,ln.min(),ln.min(),Zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ni{constructor(e,t){this.position=e,this.inclusive=t}}function ri(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?pn.comparator(pn.fromName(a.referenceValue),n.key):zr(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ii(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Lr(e.position[n],t.position[n]))return!1;return!0}class oi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ai(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class si{}class li extends si{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new mi(e,t,n):"array-contains"===t?new xi(e,n):"in"===t?new wi(e,n):"not-in"===t?new Si(e,n):"array-contains-any"===t?new ki(e,n):new li(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yi(e,n):new vi(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(zr(t,this.value)):null!==t&&Pr(this.value)===Pr(t)&&this.matchesComparison(zr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends si{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ci(e,t)}matches(e){return ui(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ui(e){return"and"===e.op}function di(e){return hi(e)&&ui(e)}function hi(e){for(const t of e.filters)if(t instanceof ci)return!1;return!0}function fi(e){if(e instanceof li)return e.field.canonicalString()+e.op.toString()+Vr(e.value);if(di(e))return e.filters.map((e=>fi(e))).join(",");{const t=e.filters.map((e=>fi(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function pi(e,t){return e instanceof li?function(e,t){return t instanceof li&&e.op===t.op&&e.field.isEqual(t.field)&&Lr(e.value,t.value)}(e,t):e instanceof ci?function(e,t){return t instanceof ci&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&pi(n,t.filters[r])),!0)}(e,t):void Pt(19439)}function gi(e){return e instanceof li?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Vr(e.value))}(e):e instanceof ci?function(e){return e.op.toString()+" {"+e.getFilters().map(gi).join(" ,")+"}"}(e):"Filter"}class mi extends li{constructor(e,t,n){super(e,t,n),this.key=pn.fromName(n.referenceValue)}matches(e){const t=pn.comparator(e.key,this.key);return this.matchesComparison(t)}}class yi extends li{constructor(e,t){super(e,"in",t),this.keys=bi("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vi extends li{constructor(e,t){super(e,"not-in",t),this.keys=bi("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>pn.fromName(e.referenceValue)))}class xi extends li{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kr(t)&&Mr(t.arrayValue,this.value)}}class wi extends li{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mr(this.value.arrayValue,t)}}class Si extends li{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Mr(this.value.arrayValue,t)}}class ki extends li{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Mr(this.value.arrayValue,e)))}}class Ci{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Ei(e){return new Ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function _i(e){const t=zt(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>fi(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),An(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Vr(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Vr(e))).join(",")),t.Ie=e}return t.Ie}function Ti(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ai(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pi(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ii(e.startAt,t.startAt)&&ii(e.endAt,t.endAt)}function Ii(e){return pn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ai{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ni(e,t,n,r,i,o,a,s){return new Ai(e,t,n,r,i,o,a,s)}function Ri(e){return new Ai(e)}function Di(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ji(e){return null!==e.collectionGroup}function Oi(e){const t=zt(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new dr(fn.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new oi(r,n))})),e.has(fn.keyField().canonicalString())||t.Ee.push(new oi(fn.keyField(),n))}return t.Ee}function Pi(e){const t=zt(e);return t.de||(t.de=Li(t,Oi(e))),t.de}function Li(e,t){if("F"===e.limitType)return Ei(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new oi(e.field,t)}));const n=e.endAt?new ni(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ni(e.startAt.position,e.startAt.inclusive):null;return Ei(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Mi(e,t){const n=e.filters.concat([t]);return new Ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zi(e,t,n){return new Ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fi(e,t){return Ti(Pi(e),Pi(t))&&e.limitType===t.limitType}function Ui(e){return"".concat(_i(Pi(e)),"|lt:").concat(e.limitType)}function Vi(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>gi(e))).join(", "),"]")),An(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Vr(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Vr(e))).join(",")),"Target(".concat(t,")")}(Pi(e)),"; limitType=").concat(e.limitType,")")}function Bi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Oi(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ri(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Oi(e),t))&&!(e.endAt&&!function(e,t,n){const r=ri(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Oi(e),t))}(e,t)}function Wi(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qi(e){return(t,n)=>{let r=!1;for(const i of Oi(e)){const e=Hi(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hi(e,t,n){const r=e.field.isKeyField()?pn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zr(r,i):Pt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pt(19790,{direction:e.dir})}}class Ki{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ar(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sr(this.inner)}size(){return this.innerSize}}const Gi=new lr(pn.comparator);function Qi(){return Gi}const Yi=new lr(pn.comparator);function Xi(){let e=Yi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function $i(e){let t=Yi;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ji(){return eo()}function Zi(){return eo()}function eo(){return new Ki((e=>e.toString()),((e,t)=>e.isEqual(t)))}const to=new lr(pn.comparator),no=new dr(pn.comparator);function ro(){let e=no;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const io=new dr(Zt);function oo(){return io}function ao(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nn(t)?"-0":t}}function so(e){return{integerValue:""+e}}function lo(e,t){return Rn(t)?so(t):ao(e,t)}class co{constructor(){this._=void 0}}function uo(e,t,n){return e instanceof po?function(e,t){const n={fields:{[wr]:{stringValue:xr},[kr]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Cr(t)&&(t=Er(t)),t&&(n.fields[Sr]=t),{mapValue:n}}(n,t):e instanceof go?mo(e,t):e instanceof yo?vo(e,t):function(e,t){const n=fo(e,t),r=xo(n)+xo(e.Re);return Hr(n)&&Hr(e.Re)?so(r):ao(e.serializer,r)}(e,t)}function ho(e,t,n){return e instanceof go?mo(e,t):e instanceof yo?vo(e,t):n}function fo(e,t){return e instanceof bo?function(e){return Hr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class po extends co{}class go extends co{constructor(e){super(),this.elements=e}}function mo(e,t){const n=wo(t);for(const r of e.elements)n.some((e=>Lr(e,r)))||n.push(r);return{arrayValue:{values:n}}}class yo extends co{constructor(e){super(),this.elements=e}}function vo(e,t){let n=wo(t);for(const r of e.elements)n=n.filter((e=>!Lr(e,r)));return{arrayValue:{values:n}}}class bo extends co{constructor(e,t){super(),this.serializer=e,this.Re=t}}function xo(e){return vr(e.integerValue||e.doubleValue)}function wo(e){return Kr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class So{constructor(e,t){this.version=e,this.transformResults=t}}class ko{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Co(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Eo{}function _o(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Lo(e.key,ko.none()):new Ro(e.key,e.data,ko.none());{const n=e.data,r=Zr.empty();let i=new dr(fn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Do(e.key,r,new fr(i.toArray()),ko.none())}}function To(e,t,n){e instanceof Ro?function(e,t,n){const r=e.value.clone(),i=Oo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Do?function(e,t,n){if(!Co(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Oo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Io(e,t,n,r){return e instanceof Ro?function(e,t,n,r){if(!Co(e.precondition,t))return n;const i=e.value.clone(),o=Po(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Do?function(e,t,n,r){if(!Co(e.precondition,t))return n;const i=Po(e.fieldTransforms,r,t),o=t.data;return o.setAll(jo(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Co(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ao(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=fo(r.transform,e||null);null!=i&&(null===n&&(n=Zr.empty()),n.set(r.field,i))}return n||null}function No(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rn(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof go&&t instanceof go||e instanceof yo&&t instanceof yo?rn(e.elements,t.elements,Lr):e instanceof bo&&t instanceof bo?Lr(e.Re,t.Re):e instanceof po&&t instanceof po}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ro extends Eo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Do extends Eo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jo(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Oo(e,t,n){const r=new Map;Mt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ho(a,s,n[i]))}return r}function Po(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,uo(e,o,t))}return r}class Lo extends Eo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mo extends Eo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&To(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Io(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Io(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zi();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=_o(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ln.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ro())}isEqual(e){return this.batchId===e.batchId&&rn(this.mutations,e.mutations,((e,t)=>No(e,t)))&&rn(this.baseMutations,e.baseMutations,((e,t)=>No(e,t)))}}class Fo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Mt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=to;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Fo(e,t,n,r)}}class Uo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Vo{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bo,Wo;function qo(e){switch(e){case Ft.OK:return Pt(64938);case Ft.CANCELLED:case Ft.UNKNOWN:case Ft.DEADLINE_EXCEEDED:case Ft.RESOURCE_EXHAUSTED:case Ft.INTERNAL:case Ft.UNAVAILABLE:case Ft.UNAUTHENTICATED:return!1;case Ft.INVALID_ARGUMENT:case Ft.NOT_FOUND:case Ft.ALREADY_EXISTS:case Ft.PERMISSION_DENIED:case Ft.FAILED_PRECONDITION:case Ft.ABORTED:case Ft.OUT_OF_RANGE:case Ft.UNIMPLEMENTED:case Ft.DATA_LOSS:return!0;default:return Pt(15467,{code:e})}}function Ho(e){if(void 0===e)return Dt("GRPC error has no .code"),Ft.UNKNOWN;switch(e){case Bo.OK:return Ft.OK;case Bo.CANCELLED:return Ft.CANCELLED;case Bo.UNKNOWN:return Ft.UNKNOWN;case Bo.DEADLINE_EXCEEDED:return Ft.DEADLINE_EXCEEDED;case Bo.RESOURCE_EXHAUSTED:return Ft.RESOURCE_EXHAUSTED;case Bo.INTERNAL:return Ft.INTERNAL;case Bo.UNAVAILABLE:return Ft.UNAVAILABLE;case Bo.UNAUTHENTICATED:return Ft.UNAUTHENTICATED;case Bo.INVALID_ARGUMENT:return Ft.INVALID_ARGUMENT;case Bo.NOT_FOUND:return Ft.NOT_FOUND;case Bo.ALREADY_EXISTS:return Ft.ALREADY_EXISTS;case Bo.PERMISSION_DENIED:return Ft.PERMISSION_DENIED;case Bo.FAILED_PRECONDITION:return Ft.FAILED_PRECONDITION;case Bo.ABORTED:return Ft.ABORTED;case Bo.OUT_OF_RANGE:return Ft.OUT_OF_RANGE;case Bo.UNIMPLEMENTED:return Ft.UNIMPLEMENTED;case Bo.DATA_LOSS:return Ft.DATA_LOSS;default:return Pt(39323,{code:e})}}(Wo=Bo||(Bo={}))[Wo.OK=0]="OK",Wo[Wo.CANCELLED=1]="CANCELLED",Wo[Wo.UNKNOWN=2]="UNKNOWN",Wo[Wo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wo[Wo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wo[Wo.NOT_FOUND=5]="NOT_FOUND",Wo[Wo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wo[Wo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wo[Wo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wo[Wo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wo[Wo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wo[Wo.ABORTED=10]="ABORTED",Wo[Wo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wo[Wo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wo[Wo.INTERNAL=13]="INTERNAL",Wo[Wo.UNAVAILABLE=14]="UNAVAILABLE",Wo[Wo.DATA_LOSS=15]="DATA_LOSS";let Ko=null;const Go=new dt([4294967295,4294967295],0);function Qo(e){const t=$t().encode(e),n=new ht;return n.update(t),new Uint8Array(n.digest())}function Yo(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new dt([n,r],0),new dt([i,o],0)]}class Xo{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new $o("Invalid padding: ".concat(t));if(n<0)throw new $o("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new $o("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new $o("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=dt.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(dt.fromNumber(n)));return 1===r.compare(Go)&&(r=new dt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Qo(e),[n,r]=Yo(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xo(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.pe)return;const t=Qo(e),[n,r]=Yo(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jo{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Zo.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Jo(ln.min(),r,new lr(Zt),Qi(),ro())}}class Zo{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zo(n,t,ro(),ro(),ro())}}class ea{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class ta{constructor(e,t){this.targetId=e,this.Ce=t}}class na{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ra{constructor(){this.Fe=0,this.Me=aa(),this.xe=gr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ro(),t=ro(),n=ro();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pt(38017,{changeType:i})}})),new Zo(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=aa()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ia{constructor(e){this.ze=e,this.je=new Map,this.He=Qi(),this.Je=oa(),this.Ye=oa(),this.Ze=new lr(Zt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Pt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Ii(i))if(0===n){const e=new pn(i.path);this.tt(t,e,ti.newNoDocument(e,ln.min()))}else Mt(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Ko||Ko.ht(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=br(n).toUint8Array()}catch(e){if(e instanceof pr)return jt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Xo(o,r,i)}catch(e){return jt(e instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&Ii(i.target)){const t=new pn(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,ti.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=ro();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Jo(e,t,this.Ze,this.He,n);return this.He=Qi(),this.Je=oa(),this.Ye=oa(),this.Ze=new lr(Zt),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ra,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new dr(Zt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new dr(Zt),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Rt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ra),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function oa(){return new lr(pn.comparator)}function aa(){return new lr(pn.comparator)}const sa={asc:"ASCENDING",desc:"DESCENDING"},la={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ca={and:"AND",or:"OR"};class ua{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function da(e,t){return e.useProto3Json||An(t)?t:{value:t}}function ha(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fa(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pa(e,t){return ha(e,t.toTimestamp())}function ga(e){return Mt(!!e,49232),ln.fromTimestamp(function(e){const t=yr(e);return new sn(t.seconds,t.nanos)}(e))}function ma(e,t){return ya(e,t).canonicalString()}function ya(e,t){const n=function(e){return new dn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function va(e){const t=dn.fromString(e);return Mt(za(t),10190,{key:t.toString()}),t}function ba(e,t){return ma(e.databaseId,t.path)}function xa(e,t){const n=va(t);if(n.get(1)!==e.databaseId.projectId)throw new Ut(Ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ut(Ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pn(Ca(n))}function wa(e,t){return ma(e.databaseId,t)}function Sa(e){const t=va(e);return 4===t.length?dn.emptyPath():Ca(t)}function ka(e){return new dn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ca(e){return Mt(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ea(e,t,n){return{name:ba(e,t),fields:n.value.mapValue.fields}}function _a(e,t){let n;if(t instanceof Ro)n={update:Ea(e,t.key,t.value)};else if(t instanceof Lo)n={delete:ba(e,t.key)};else if(t instanceof Do)n={update:Ea(e,t.key,t.data),updateMask:Ma(t.fieldMask)};else{if(!(t instanceof Mo))return Pt(16599,{ft:t.type});n={verify:ba(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof po)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof go)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bo)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Pt(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pt(27497)}(e,t.precondition)),n}function Ta(e,t){return{documents:[wa(e,t.path)]}}function Ia(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wa(e,i);const o=function(e){if(0!==e.length)return La(ci.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Oa(e.field),direction:Ra(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=da(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Aa(e){let t=Sa(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Mt(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Na(e);return t instanceof ci&&di(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new oi(Pa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,An(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ni(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ni(n,t)}(n.endAt)),Ni(t,i,a,o,s,"F",l,c)}function Na(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pa(e.unaryFilter.field);return li.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pa(e.unaryFilter.field);return li.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pa(e.unaryFilter.field);return li.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pa(e.unaryFilter.field);return li.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pt(61313);default:return Pt(60726)}}(e):void 0!==e.fieldFilter?function(e){return li.create(Pa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pt(58110);default:return Pt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ci.create(e.compositeFilter.filters.map((e=>Na(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Pt(1026)}}(e.compositeFilter.op))}(e):Pt(30097,{filter:e})}function Ra(e){return sa[e]}function Da(e){return la[e]}function ja(e){return ca[e]}function Oa(e){return{fieldPath:e.canonicalString()}}function Pa(e){return fn.fromServerFormat(e.fieldPath)}function La(e){return e instanceof li?function(e){if("=="===e.op){if(Qr(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NAN"}};if(Gr(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qr(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NAN"}};if(Gr(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(e.field),op:Da(e.op),value:e.value}}}(e):e instanceof ci?function(e){const t=e.getFilters().map((e=>La(e)));return 1===t.length?t[0]:{compositeFilter:{op:ja(e.op),filters:t}}}(e):Pt(54877,{filter:e})}function Ma(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function za(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ln.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ln.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gr.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ua{constructor(e){this.wt=e}}function Va(e){const t=Aa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zi(t,t.limit,"L"):t}class Ba{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(vr(e.integerValue));else if("doubleValue"in e){const n=vr(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Nn(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=yr(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(br(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Jr(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Xr(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Pt(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const o=Or,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(vr(a)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),pn.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Ba.Wt=new Ba;class Wa{constructor(){this.Cn=new qa}addToCollectionParentIndex(e,t){return this.Cn.add(t),Cn.resolve()}getCollectionParents(e,t){return Cn.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Cn.resolve()}deleteFieldIndex(e,t){return Cn.resolve()}deleteAllFieldIndexes(e){return Cn.resolve()}createTargetIndexes(e,t){return Cn.resolve()}getDocumentsMatchingTarget(e,t){return Cn.resolve(null)}getIndexType(e,t){return Cn.resolve(0)}getFieldIndexes(e,t){return Cn.resolve([])}getNextCollectionGroupToUpdate(e){return Cn.resolve(null)}getMinOffset(e,t){return Cn.resolve(bn.min())}getMinOffsetFromCollectionGroup(e,t){return Cn.resolve(bn.min())}updateCollectionGroup(e,t,n){return Cn.resolve()}updateIndexEntries(e,t){return Cn.resolve()}}class qa{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dr(dn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dr(dn.comparator)).toArray()}}new Uint8Array(0);const Ha={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ka=41943040;class Ga{static withCacheSize(e){return new Ga(e,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ga.DEFAULT_COLLECTION_PERCENTILE=10,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ga.DEFAULT=new Ga(Ka,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ga.DISABLED=new Ga(-1,0,0);class Qa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Qa(0)}static lr(){return new Qa(-1)}}const Ya="LruGarbageCollector",Xa=1048576;function $a(e,t){let[n,r]=e,[i,o]=t;const a=Zt(n,i);return 0===a?Zt(r,o):a}class Ja{constructor(e){this.Er=e,this.buffer=new dr($a),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();$a(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Za{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Rt(Ya,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_n(e)?Rt(Ya,"Ignoring IndexedDB error during garbage collection: ",e):await kn(e)}await this.mr(3e5)}))}}class es{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Cn.resolve(Tn.le);const n=new Ja(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),Cn.resolve(Ha)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ha):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Nt()<=B.DEBUG&&Rt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Cn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ts(e,t){return new es(e,t)}class ns{constructor(){this.changes=new Ki((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Cn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class is{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Io(n.mutation,e,fr.empty(),sn.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ro()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ro();const r=Ji();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Xi();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ji();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ro())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Qi();const o=eo(),a=eo();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Do)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Io(a.mutation,t,a.mutation.getFieldMask(),sn.now())):o.set(t.key,fr.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new rs(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=eo();let r=new lr(((e,t)=>e-t)),i=ro();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||fr.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||ro()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Zi();l.forEach((e=>{if(!i.has(e)){const r=_o(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Cn.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return pn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ji(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Cn.resolve(Ji());let a=gn,s=i;return o.next((t=>Cn.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Cn.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,ro()))).next((e=>({batchId:a,changes:$i(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pn(t)).next((e=>{let t=Xi();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Xi();return this.indexManager.getCollectionParents(e,i).next((a=>Cn.forEach(a,(a=>{const s=function(e,t){return new Ai(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ti.newInvalidDocument(r)))}));let n=Xi();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Io(o.mutation,r,fr.empty(),sn.now()),Bi(t,r)&&(n=n.insert(e,r))})),n}))}}class os{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Cn.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ga(e.createTime)}}(t)),Cn.resolve()}getNamedQuery(e,t){return Cn.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Va(e.bundledQuery),readTime:ga(e.readTime)}}(t)),Cn.resolve()}}class as{constructor(){this.overlays=new lr(pn.comparator),this.Qr=new Map}getOverlay(e,t){return Cn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ji();return Cn.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Cn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),Cn.resolve()}getOverlaysForCollection(e,t,n){const r=Ji(),i=t.length+1,o=new pn(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Cn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new lr(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ji(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ji(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Cn.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Uo(t,n));let i=this.Qr.get(t);void 0===i&&(i=ro(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class ss{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return Cn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Cn.resolve()}}class ls{constructor(){this.$r=new dr(cs.Ur),this.Kr=new dr(cs.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new cs(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new cs(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new pn(new dn([])),n=new cs(t,e),r=new cs(t,e+1),i=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),i.push(e.key)})),i}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new pn(new dn([])),n=new cs(t,e),r=new cs(t,e+1);let i=ro();return this.Kr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cs(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cs{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return pn.comparator(e.key,t.key)||Zt(e.Zr,t.Zr)}static Wr(e,t){return Zt(e.Zr,t.Zr)||pn.comparator(e.key,t.key)}}class us{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new dr(cs.Ur)}checkEmpty(e){return Cn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zo(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Xr=this.Xr.add(new cs(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Cn.resolve(o)}lookupMutationBatch(e,t){return Cn.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return Cn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Cn.resolve(0===this.mutationQueue.length?In:this.nr-1)}getAllMutationBatches(e){return Cn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cs(t,0),r=new cs(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);i.push(t)})),Cn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dr(Zt);return t.forEach((e=>{const t=new cs(e,0),r=new cs(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),Cn.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pn.isDocumentKey(i)||(i=i.child(""));const o=new cs(new pn(i),0);let a=new dr(Zt);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)}),o),Cn.resolve(this.ni(a))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Mt(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Cn.forEach(t.mutations,(r=>{const i=new cs(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new cs(t,0),r=this.Xr.firstAfterOrEqual(n);return Cn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Cn.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ds{constructor(e){this.ii=e,this.docs=new lr(pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Cn.resolve(n?n.document.mutableCopy():ti.newInvalidDocument(t))}getEntries(e,t){let n=Qi();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ti.newInvalidDocument(e))})),Cn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Qi();const o=t.path,a=new pn(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||xn(vn(a),n)<=0||(r.has(a.key)||Bi(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Cn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Pt(9500)}si(e,t){return Cn.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new hs(this)}getSize(e){return Cn.resolve(this.size)}}class hs extends ns{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),Cn.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class fs{constructor(e){this.persistence=e,this.oi=new Ki((e=>_i(e)),Ti),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this._i=0,this.ai=new ls,this.targetCount=0,this.ui=Qa.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),Cn.resolve()}getLastRemoteSnapshotVersion(e){return Cn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Cn.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Cn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Cn.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Qa(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Cn.resolve()}updateTargetData(e,t){return this.Tr(t),Cn.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Cn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Cn.waitFor(i).next((()=>r))}getTargetCount(e){return Cn.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Cn.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Cn.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Cn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Cn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Cn.resolve(n)}containsKey(e,t){return Cn.resolve(this.ai.containsKey(t))}}class ps{constructor(e,t){this.ci={},this.overlays={},this.li=new Tn(0),this.hi=!1,this.hi=!0,this.Pi=new ss,this.referenceDelegate=e(this),this.Ti=new fs(this),this.indexManager=new Wa,this.remoteDocumentCache=function(e){return new ds(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Ua(t),this.Ei=new os(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new as,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new us(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Rt("MemoryPersistence","Starting transaction:",e);const r=new gs(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return Cn.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class gs extends Sn{constructor(e){super(),this.currentSequenceNumber=e}}class ms{constructor(e){this.persistence=e,this.Vi=new ls,this.mi=null}static fi(e){return new ms(e)}get gi(){if(this.mi)return this.mi;throw Pt(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Cn.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Cn.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Cn.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cn.forEach(this.gi,(n=>{const r=pn.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,ln.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return Cn.or([()=>Cn.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class ys{constructor(e,t){this.persistence=e,this.yi=new Ki((e=>jn(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ts(this,t)}static fi(e,t){return new ys(e,t)}di(){}Ai(e){return Cn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return Cn.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?Cn.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ln.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Cn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Cn.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Cn.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Cn.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wr(e.data.value)),t}Dr(e,t,n){return Cn.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Cn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vs{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=ro(),r=ro();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vs(e,t.fromCache,n,r)}}class bs{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xs{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=A()?8:En(T())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.bs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new bs;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>i.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Nt()<=B.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Vi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Cn.resolve()):(Nt()<=B.DEBUG&&Rt("QueryEngine","Query:",Vi(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Nt()<=B.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Vi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):Cn.resolve())}ws(e,t){if(Di(t))return Cn.resolve(null);let n=Pi(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=zi(t,null,"F"),n=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ro(...r);return this.ys.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.vs(t,r);return this.Cs(t,o,i,n.readTime)?this.ws(e,zi(t,null,"F")):this.Fs(e,o,t,n)}))))})))))}bs(e,t,n,r){return Di(t)||r.isEqual(ln.min())?Cn.resolve(null):this.ys.getDocuments(e,n).next((i=>{const o=this.vs(t,i);return this.Cs(t,o,n,r)?Cn.resolve(null):(Nt()<=B.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vi(t)),this.Fs(e,o,t,yn(r,gn)).next((e=>e)))}))}vs(e,t){let n=new dr(qi(e));return t.forEach(((t,r)=>{Bi(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Nt()<=B.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Vi(t)),this.ys.getDocumentsMatchingQuery(e,t,bn.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const ws="LocalStore";class Ss{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new lr(Zt),this.Os=new Ki((e=>_i(e)),Ti),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new is(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function ks(e,t,n,r){return new Ss(e,t,n,r)}async function Cs(e,t){const n=zt(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=ro();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({ks:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Es(e){const t=zt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function _s(e,t,n){let r=ro(),i=ro();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Qi();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ln.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Rt(ws,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{qs:r,Qs:i}}))}function Ts(e,t){const n=zt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=In),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Is(e,t){const n=zt(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((i=>i?(r=i,Cn.resolve(r)):n.Ti.allocateTargetId(e).next((i=>(r=new Fa(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function As(e,t,n){const r=zt(e),i=r.xs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!_n(e))throw e;Rt(ws,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Ns(e,t,n){const r=zt(e);let i=ln.min(),o=ro();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=zt(e),i=r.Os.get(n);return void 0!==i?Cn.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,Pi(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:ln.min(),n?o:ro()))).next((e=>(Rs(r,Wi(t),e),{documents:e,$s:o})))))}function Rs(e,t,n){let r=e.Ns.get(t)||ln.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class Ds{constructor(){this.activeTargetIds=oo()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class js{constructor(){this.xo=new Ds,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ds,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Os{No(e){}shutdown(){}}const Ps="ConnectivityMonitor";class Ls{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Rt(Ps,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Rt(Ps,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ms=null;function zs(){return null===Ms?Ms=268435456+Math.round(2147483648*Math.random()):Ms++,"0x"+Ms.toString(16)}const Fs="RestConnection",Us={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vs{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===Ir?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const o=zs(),a=this.jo(e,t.toUriEncodedString());Rt(Fs,"Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,r,i);const{host:l}=new URL(a),c=w(l);return this.Jo(e,a,s,n,c).then((t=>(Rt(Fs,"Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw jt(Fs,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}Yo(e,t,n,r,i,o){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+It,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Us[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Bs{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Ws="WebChannelConnection";class qs extends Vs{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=zs();return new Promise(((i,a)=>{const s=new gt;s.setWithCredentials(!0),s.listenOnce(yt.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case vt.NO_ERROR:const t=s.getResponseJson();Rt(Ws,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case vt.TIMEOUT:Rt(Ws,"RPC '".concat(e,"' ").concat(o," timed out")),a(new Ut(Ft.DEADLINE_EXCEEDED,"Request time out"));break;case vt.HTTP_ERROR:const n=s.getStatus();if(Rt(Ws,"RPC '".concat(e,"' ").concat(o," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ft).indexOf(t)>=0?t:Ft.UNKNOWN}(t.status);a(new Ut(e,t.message))}else a(new Ut(Ft.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ut(Ft.UNAVAILABLE,"Connection failed."));break;default:Pt(9055,{h_:e,streamId:o,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{Rt(Ws,"RPC '".concat(e,"' ").concat(o," completed."))}}));const l=JSON.stringify(r);Rt(Ws,"RPC '".concat(e,"' ").concat(o," sending request:"),r),s.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=zs(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=St(),a=wt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Rt(Ws,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);this.E_(u);let d=!1,h=!1;const f=new Bs({Zo:t=>{h?Rt(Ws,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Rt(Ws,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,mt.EventType.OPEN,(()=>{h||(Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),p(u,mt.EventType.CLOSE,(()=>{h||(h=!0,Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),p(u,mt.EventType.ERROR,(t=>{h||(h=!0,jt(Ws,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Ut(Ft.UNAVAILABLE,"The operation could not be completed")))})),p(u,mt.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Mt(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Bo[e];if(void 0!==t)return Ho(t)}(t),i=a.message;void 0===n&&(n=Ft.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.u_(new Ut(n,i)),u.close()}else Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}})),p(a,xt.STAT_EVENT,(t=>{t.stat===bt.PROXY?Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bt.NOPROXY&&Rt(Ws,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function Hs(){return"undefined"!=typeof document?document:null}function Ks(e){return new ua(e,!0)}class Gs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&Rt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Qs="PersistentStream";class Ys{constructor(e,t,n,r,i,o,a,s){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Gs(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===Ft.RESOURCE_EXHAUSTED?(Dt(t.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ft.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Ut(Ft.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return Rt(Qs,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(Rt(Qs,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xs extends Ys{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pt(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Mt(void 0===t||"string"==typeof t,58123),gr.fromBase64String(t||"")):(Mt(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),gr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ft.UNKNOWN:Ho(e.code);return new Ut(t,e.message||"")}(a);n=new na(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xa(e,r.document.name),o=ga(r.document.updateTime),a=r.document.createTime?ga(r.document.createTime):ln.min(),s=new Zr({mapValue:{fields:r.document.fields}}),l=ti.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ea(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xa(e,r.document),o=r.readTime?ga(r.readTime):ln.min(),a=ti.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ea([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xa(e,r.document),o=r.removedTargetIds||[];n=new ea([],o,i,null)}else{if(!("filter"in t))return Pt(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Vo(r,i),a=e.targetId;n=new ta(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ln.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ln.min():t.readTime?ga(t.readTime):ln.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=ka(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ii(r)?{documents:Ta(e,r)}:{query:Ia(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fa(e,t.resumeToken);const r=da(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ln.min())>0){n.readTime=ha(e,t.snapshotVersion.toTimestamp());const r=da(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=ka(this.serializer),t.removeTarget=e,this.Q_(t)}}class $s extends Ys{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(Mt(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?ga(e.updateTime):ga(t);return n.isEqual(ln.min())&&(n=ga(t)),new So(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ga(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=ka(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>_a(this.serializer,e)))};this.Q_(t)}}class Js{}class Zs extends Js{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Ut(Ft.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.zo(e,ya(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ut(Ft.UNKNOWN,e.toString())}))}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Yo(e,ya(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ut(Ft.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class el{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(Dt(t),this.ua=!1):Rt("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const tl="RemoteStore";class nl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No((e=>{n.enqueueAndForget((async()=>{dl(this)&&(Rt(tl,"Restarting streams for network reachability change."),await async function(e){const t=zt(e);t.da.add(4),await il(t),t.Va.set("Unknown"),t.da.delete(4),await rl(t)}(this))}))})),this.Va=new el(n,r)}}async function rl(e){if(dl(e))for(const t of e.Aa)await t(!0)}async function il(e){for(const t of e.Aa)await t(!1)}function ol(e,t){const n=zt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),ul(n)?cl(n):Nl(n).N_()&&sl(n,t))}function al(e,t){const n=zt(e),r=Nl(n);n.Ea.delete(t),r.N_()&&ll(n,t),0===n.Ea.size&&(r.N_()?r.k_():dl(n)&&n.Va.set("Unknown"))}function sl(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ln.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Nl(e).Z_(t)}function ll(e,t){e.ma.Ke(t),Nl(e).X_(t)}function cl(e){e.ma=new ia({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Nl(e).start(),e.Va.ca()}function ul(e){return dl(e)&&!Nl(e).O_()&&e.Ea.size>0}function dl(e){return 0===zt(e).da.size}function hl(e){e.ma=void 0}async function fl(e){e.Va.set("Online")}async function pl(e){e.Ea.forEach(((t,n)=>{sl(e,t)}))}async function gl(e,t){hl(e),ul(e)?(e.Va.Pa(t),cl(e)):e.Va.set("Unknown")}async function ml(e,t,n){if(e.Va.set("Online"),t instanceof na&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){Rt(tl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await yl(e,n)}else if(t instanceof ea?e.ma.Xe(t):t instanceof ta?e.ma.ot(t):e.ma.nt(t),!n.isEqual(ln.min()))try{const t=await Es(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(gr.EMPTY_BYTE_STRING,r.snapshotVersion)),ll(e,t);const i=new Fa(r.target,t,n,r.sequenceNumber);sl(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Rt(tl,"Failed to raise snapshot:",t),await yl(e,t)}}async function yl(e,t,n){if(!_n(t))throw t;e.da.add(1),await il(e),e.Va.set("Offline"),n||(n=()=>Es(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Rt(tl,"Retrying IndexedDB access"),await n(),e.da.delete(1),await rl(e)}))}function vl(e,t){return t().catch((n=>yl(e,n,t)))}async function bl(e){const t=zt(e),n=Rl(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:In;for(;xl(t);)try{const e=await Ts(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,wl(t,e)}catch(e){await yl(t,e)}Sl(t)&&kl(t)}function xl(e){return dl(e)&&e.Ia.length<10}function wl(e,t){e.Ia.push(t);const n=Rl(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Sl(e){return dl(e)&&!Rl(e).O_()&&e.Ia.length>0}function kl(e){Rl(e).start()}async function Cl(e){Rl(e).ia()}async function El(e){const t=Rl(e);for(const n of e.Ia)t.ta(n.mutations)}async function _l(e,t,n){const r=e.Ia.shift(),i=Fo.from(r,t,n);await vl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await bl(e)}async function Tl(e,t){t&&Rl(e).ea&&await async function(e,t){if(function(e){return qo(e)&&e!==Ft.ABORTED}(t.code)){const n=e.Ia.shift();Rl(e).L_(),await vl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await bl(e)}}(e,t),Sl(e)&&kl(e)}async function Il(e,t){const n=zt(e);n.asyncQueue.verifyOperationInProgress(),Rt(tl,"RemoteStore received new credentials");const r=dl(n);n.da.add(3),await il(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await rl(n)}async function Al(e,t){const n=zt(e);t?(n.da.delete(2),await rl(n)):t||(n.da.add(2),await il(n),n.Va.set("Unknown"))}function Nl(e){return e.fa||(e.fa=function(e,t,n){const r=zt(e);return r.oa(),new Xs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:fl.bind(null,e),n_:pl.bind(null,e),i_:gl.bind(null,e),Y_:ml.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),ul(e)?cl(e):e.Va.set("Unknown")):(await e.fa.stop(),hl(e))}))),e.fa}function Rl(e){return e.ga||(e.ga=function(e,t,n){const r=zt(e);return r.oa(),new $s(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Cl.bind(null,e),i_:Tl.bind(null,e),na:El.bind(null,e),ra:_l.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await bl(e)):(await e.ga.stop(),e.Ia.length>0&&(Rt(tl,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class Dl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Dl(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(Ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jl(e,t){if(Dt("AsyncQueue","".concat(t,": ").concat(e)),_n(e))return new Ut(Ft.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||pn.comparator(t.key,n.key):(e,t)=>pn.comparator(e.key,t.key),this.keyedMap=Xi(),this.sortedSet=new lr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ol))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ol;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Pl{constructor(){this.pa=new lr(pn.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Pt(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ll{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Ll(e,t,Ol.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ml{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class zl{constructor(){this.queries=Fl(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=zt(e),r=n.queries;n.queries=Fl(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Ut(Ft.ABORTED,"Firestore shutting down"))}}function Fl(){return new Ki((e=>Ui(e)),Fi)}async function Ul(e,t){const n=zt(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Da()&&t.va()&&(r=2):(o=new Ml,r=t.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=jl(e,"Initialization of query '".concat(Vi(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.Fa(n.onlineState),o.ba&&t.Ma(o.ba)&&ql(n)}async function Vl(e,t){const n=zt(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.va()?0:1:!o.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bl(e,t){const n=zt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&ql(n)}function Wl(e,t,n){const r=zt(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function ql(e){e.Ca.forEach((e=>{e.next()}))}var Hl,Kl;(Kl=Hl||(Hl={})).xa="default",Kl.Cache="cache";class Gl{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ll(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Hl.Cache}}class Ql{constructor(e){this.key=e}}class Yl{constructor(e){this.key=e}}class Xl{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ro(),this.mutatedKeys=ro(),this.Za=qi(e),this.Xa=new Ol(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Pl,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Bi(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Za(u,s)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:o,nu:n,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Ja;return this.Ja=s,0!==o.length||l?{snapshot:new Ll(this.query,e.Xa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Pl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ro(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new Yl(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new Ql(n))})),t}au(e){this.Ha=e.$s,this.Ya=ro();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ll.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const $l="SyncEngine";class Jl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zl{constructor(e){this.key=e,this.cu=!1}}class ec{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Ki((e=>Ui(e)),Fi),this.Pu=new Map,this.Tu=new Set,this.Iu=new lr(pn.comparator),this.Eu=new Map,this.du=new ls,this.Au={},this.Ru=new Map,this.Vu=Qa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function tc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Sc(e);let i;const o=r.hu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await rc(r,t,n,!0),i}async function nc(e,t){const n=Sc(e);await rc(n,t,!0,!1)}async function rc(e,t,n,r){const i=await Is(e.localStore,Pi(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await ic(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&ol(e.remoteStore,i),s}async function ic(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await Ns(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return mc(e,t.targetId,s.ou),s.snapshot}(e,t,n,r);const o=await Ns(e.localStore,t,!0),a=new Xl(t,o.$s),s=a.tu(o.documents),l=Zo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);mc(e,n,c.ou);const u=new Jl(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function oc(e,t,n){const r=zt(e),i=r.hu.get(t),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter((e=>!Fi(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await As(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&al(r.remoteStore,i.targetId),pc(r,i.targetId)})).catch(kn)):(pc(r,i.targetId),await As(r.localStore,i.targetId,!0))}async function ac(e,t){const n=zt(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),al(n.remoteStore,r.targetId))}async function sc(e,t){const n=zt(e);try{const e=await function(e,t){const n=zt(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ti.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(gr.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Ti.updateTargetData(e,c))}));let s=Qi(),l=ro();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(_s(e,o,t.documentUpdates).next((e=>{s=e.qs,l=e.Qs}))),!r.isEqual(ln.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Cn.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.xs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(Mt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?Mt(r.cu,14607):e.removedDocuments.size>0&&(Mt(r.cu,42227),r.cu=!1))})),await bc(n,e,t)}catch(e){await kn(e)}}function lc(e,t,n){const r=zt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=zt(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)})),r&&ql(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cc(e,t,n){const r=zt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new lr(pn.comparator);e=e.insert(o,ti.newNoDocument(o,ln.min()));const n=ro().add(o),i=new Jo(ln.min(),new Map,new lr(Zt),e,n);await sc(r,i),r.Iu=r.Iu.remove(o),r.Eu.delete(t),vc(r)}else await As(r.localStore,t,!1).then((()=>pc(r,t,n))).catch(kn)}async function uc(e,t){const n=zt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=zt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Cn.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Mt(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ro();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);fc(n,r,null),hc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,e)}catch(e){await kn(e)}}async function dc(e,t,n){const r=zt(e);try{const e=await function(e,t){const n=zt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Mt(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);fc(r,t,n),hc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bc(r,e)}catch(n){await kn(n)}}function hc(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function fc(e,t,n){const r=zt(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function pc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||gc(e,t)}))}function gc(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(al(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),vc(e))}function mc(e,t,n){for(const r of n)r instanceof Ql?(e.du.addReference(r.key,t),yc(e,r)):r instanceof Yl?(Rt($l,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||gc(e,r.key)):Pt(19791,{pu:r})}function yc(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(Rt($l,"New document in limbo: "+n),e.Tu.add(r),vc(e))}function vc(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new pn(dn.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Zl(n)),e.Iu=e.Iu.insert(n,r),ol(e.remoteStore,new Fa(Pi(Ri(n.path)),r,"TargetPurposeLimboResolution",Tn.le))}}async function bc(e,t,n){const r=zt(e),i=[],o=[],a=[];r.hu.isEmpty()||(r.hu.forEach(((e,s)=>{a.push(r.fu(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=vs.Rs(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.lu.Y_(i),await async function(e,t){const n=zt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Cn.forEach(t,(t=>Cn.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Cn.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!_n(e))throw e;Rt(ws,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,o))}async function xc(e,t){const n=zt(e);if(!n.currentUser.isEqual(t)){Rt($l,"User change. New user:",t.toKey());const e=await Cs(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Ut(Ft.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bc(n,e.ks)}}function wc(e,t){const n=zt(e),r=n.Eu.get(t);if(r&&r.cu)return ro().add(r.key);{let e=ro();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Sc(e){const t=zt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cc.bind(null,t),t.lu.Y_=Bl.bind(null,t.eventManager),t.lu.gu=Wl.bind(null,t.eventManager),t}function kc(e){const t=zt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dc.bind(null,t),t}class Cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ks(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return ks(this.persistence,new xs,e.initialUser,this.serializer)}Su(e){return new ps(ms.fi,this.serializer)}bu(e){return new js}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cc.provider={build:()=>new Cc};class Ec extends Cc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Mt(this.persistence.referenceDelegate instanceof ys,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Za(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?Ga.withCacheSize(this.cacheSizeBytes):Ga.DEFAULT;return new ps((e=>ys.fi(e,t)),this.serializer)}}class _c{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>lc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=xc.bind(null,this.syncEngine),await Al(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zl}createDatastore(e){const t=Ks(e.databaseInfo.databaseId),n=function(e){return new qs(e)}(e.databaseInfo);return function(e,t,n,r){return new Zs(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new nl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>lc(this.syncEngine,e,0)),Ls.C()?new Ls:new Os)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new ec(e,t,n,r,i,o);return a&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=zt(e);Rt(tl,"RemoteStore shutting down."),t.da.add(5),await il(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}_c.provider={build:()=>new _c};class Tc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Dt("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ic="FirestoreClient";class Ac{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=Jt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Rt(Ic,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Rt(Ic,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Nc(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(Ic,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Cs(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Rc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dc(e);Rt(Ic,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Il(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Il(t.remoteStore,n))),e._onlineComponents=t}async function Dc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(Ic,"Using user provided OfflineComponentProvider");try{await Nc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ft.FAILED_PRECONDITION||e.code===Ft.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;jt("Error using user provided cache. Falling back to memory cache: "+n),await Nc(e,new Cc)}}else Rt(Ic,"Using default OfflineComponentProvider"),await Nc(e,new Ec(void 0));return e._offlineComponents}async function jc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(Ic,"Using user provided OnlineComponentProvider"),await Rc(e,e._uninitializedComponentsProvider._online)):(Rt(Ic,"Using default OnlineComponentProvider"),await Rc(e,new _c))),e._onlineComponents}function Oc(e){return jc(e).then((e=>e.syncEngine))}async function Pc(e){const t=await jc(e),n=t.eventManager;return n.onListen=tc.bind(null,t.syncEngine),n.onUnlisten=oc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ac.bind(null,t.syncEngine),n}function Lc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vt;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Tc({next:n=>{o.xu(),t.enqueueAndForget((()=>Vl(e,a))),n.fromCache&&"server"===r.source?i.reject(new Ut(Ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Gl(n,o,{includeMetadataChanges:!0,Qa:!0});return Ul(e,a)}(await Pc(e),e.asyncQueue,t,n,r))),r.promise}function Mc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const zc=new Map;function Fc(e,t,n){if(!n)throw new Ut(Ft.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Uc(e){if(!pn.isDocumentKey(e))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vc(e){if(pn.isDocumentKey(e))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Pt(12329,{type:typeof e})}function Wc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ut(Ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bc(e);throw new Ut(Ft.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const qc="firestore.googleapis.com",Hc=!0;class Kc{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qc,this.ssl=Hc}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Hc;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ka;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Xa)throw new Ut(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ut(Ft.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ut(Ft.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ut(Ft.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ut(Ft.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kc({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ut(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kc(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wt;switch(e.type){case"firstParty":return new Gt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ut(Ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zc.get(e);t&&(Rt("ComponentProvider","Removing Datastore"),zc.delete(e),t.terminate())}(this),Promise.resolve()}}class Qc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qc(this.firestore,e,this._query)}}class Yc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yc(this.firestore,e,this._key)}}class Xc extends Qc{constructor(e,t,n){super(e,t,Ri(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yc(this.firestore,null,new pn(e))}withConverter(e){return new Xc(this.firestore,e,this._path)}}function $c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=L(e),Fc("collection","path",t),e instanceof Gc){const n=dn.fromString(t,...r);return Vc(n),new Xc(e,null,n)}{if(!(e instanceof Yc||e instanceof Xc))throw new Ut(Ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dn.fromString(t,...r));return Vc(n),new Xc(e.firestore,null,n)}}function Jc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=L(e),1===arguments.length&&(t=Jt.newId()),Fc("doc","path",t),e instanceof Gc){const n=dn.fromString(t,...r);return Uc(n),new Yc(e,null,new pn(n))}{if(!(e instanceof Yc||e instanceof Xc))throw new Ut(Ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dn.fromString(t,...r));return Uc(n),new Yc(e.firestore,e instanceof Xc?e.converter:null,new pn(n))}}const Zc="AsyncQueue";class eu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Gs(this,"async_queue_retry"),this.rc=()=>{const e=Hs();e&&Rt(Zc,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Hs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Hs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new Vt;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!_n(e))throw e;Rt(Zc,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,Dt("INTERNAL UNHANDLED ERROR: ",tu(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Dl.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&Pt(47125,{cc:tu(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function tu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class nu extends Gc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new eu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eu(e),this._firestoreClient=void 0,await e}}}function ru(e){if(e._terminated)throw new Ut(Ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iu(e),e._firestoreClient}function iu(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Tr(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Mc(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ac(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(gr.fromBase64String(e))}catch(e){throw new Ut(Ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ou(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class au{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class su{constructor(e){this._methodName=e}}class lu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(Ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(Ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}class cu{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const uu=/^__.*__$/;class du{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Do(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ro(e,this.data,t,this.fieldTransforms)}}class hu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Do(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt(40011,{Ic:e})}}class pu{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new pu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Au(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(fu(this.Ic)&&uu.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ks(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pu({Ic:e,methodName:t,wc:n,path:fn.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(e){const t=e._freezeSettings(),n=Ks(e._databaseId);return new gu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yu(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(o.merge||o.mergeFields?2:0,t,n,i);Eu("Data must be an object, but it was:",a,r);const s=ku(r,a);let l,c;if(o.merge)l=new fr(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=_u(t,r,n);if(!a.contains(i))throw new Ut(Ft.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Nu(e,i)||e.push(i)}l=new fr(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new du(new Zr(s),l,c)}class vu extends su{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vu}}function bu(e,t,n,r){const i=e.bc(1,t,n);Eu("Data must be an object, but it was:",i,r);const o=[],a=Zr.empty();ar(r,((e,r)=>{const s=Iu(t,e,n);r=L(r);const l=i.mc(s);if(r instanceof vu)o.push(s);else{const e=Su(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new fr(o);return new hu(a,s,i.fieldTransforms)}function xu(e,t,n,r,i,o){const a=e.bc(1,t,n),s=[_u(t,r,n)],l=[i];if(o.length%2!=0)throw new Ut(Ft.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(_u(t,o[h])),l.push(o[h+1]);const c=[],u=Zr.empty();for(let h=s.length-1;h>=0;--h)if(!Nu(c,s[h])){const e=s[h];let t=l[h];t=L(t);const n=a.mc(e);if(t instanceof vu)c.push(e);else{const r=Su(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new fr(c);return new hu(u,d,a.fieldTransforms)}function wu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Su(n,e.bc(r?4:3,t))}function Su(e,t){if(Cu(e=L(e)))return Eu("Unsupported field value:",t,e),ku(e,t);if(e instanceof su)return function(e,t){if(!fu(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Su(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=L(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=sn.fromDate(e);return{timestampValue:ha(t.serializer,n)}}if(e instanceof sn){const n=new sn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ha(t.serializer,n)}}if(e instanceof lu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ou)return{bytesValue:fa(t.serializer,e._byteString)};if(e instanceof Yc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ma(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cu)return function(e,t){return{mapValue:{fields:{[Nr]:{stringValue:jr},[Or]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return ao(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Bc(e)))}(e,t)}function ku(e,t){const n={};return sr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ar(e,((e,r)=>{const i=Su(r,t.Ac(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Cu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sn||e instanceof lu||e instanceof ou||e instanceof Yc||e instanceof su||e instanceof cu)}function Eu(e,t,n){if(!Cu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Bc(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function _u(e,t,n){if((t=L(t))instanceof au)return t._internalPath;if("string"==typeof t)return Iu(e,t);throw Au("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tu=new RegExp("[~\\*/\\[\\]]");function Iu(e,t,n){if(t.search(Tu)>=0)throw Au("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new au(...t.split("."))._internalPath}catch(r){throw Au("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Au(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Ut(Ft.INVALID_ARGUMENT,s+e+l)}function Nu(e,t){return e.some((e=>e.isEqual(t)))}class Ru{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Du(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ju("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Du extends Ru{data(){return super.data()}}function ju(e,t){return"string"==typeof t?Iu(e,t):t instanceof au?t._internalPath:t._delegate._internalPath}function Ou(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ut(Ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pu{}class Lu extends Pu{}function Mu(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Pu&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Uu)).length,n=e.filter((e=>e instanceof zu)).length;if(t>1||t>0&&n>0)throw new Ut(Ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class zu extends Lu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new zu(e,t,n)}_apply(e){const t=this._parse(e);return Wu(e._query,t),new Qc(e.firestore,e.converter,Mi(e._query,t))}_parse(e){const t=mu(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Bu(a,o);const t=[];for(const n of a)t.push(Vu(r,e,n));s={arrayValue:{values:t}}}else s=Vu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Bu(a,o),s=wu(n,t,a,"in"===o||"not-in"===o);return li.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Fu(e,t,n){const r=t,i=ju("where",e);return zu._create(i,r,n)}class Uu extends Pu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uu(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Wu(n,i),n=Mi(n,i)}(e._query,t),new Qc(e.firestore,e.converter,Mi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vu(e,t,n){if("string"==typeof(n=L(n))){if(""===n)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ji(t)&&-1!==n.indexOf("/"))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(dn.fromString(n));if(!pn.isDocumentKey(r))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qr(e,new pn(r))}if(n instanceof Yc)return qr(e,n._key);throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bc(n),"."))}function Bu(e,t){if(!Array.isArray(e)||0===e.length)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Wu(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class qu{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ar(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Or].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>vr(e.doubleValue)));return new cu(i)}convertGeoPoint(e){return new lu(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Er(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_r(e));default:return null}}convertTimestamp(e){const t=yr(e);return new sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dn.fromString(e);Mt(za(n),9688,{name:e});const r=new Ar(n.get(1),n.get(3)),i=new pn(n.popFirst(5));return r.isEqual(t)||Dt("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Hu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gu extends Ru{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ju("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Qu extends Gu{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ku(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Qu(this._firestore,this._userDataWriter,n.key,n,new Ku(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ut(Ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Qu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ku(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Qu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ku(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Xu(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Xu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:e})}}class $u extends qu{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yc(this.firestore,null,t)}}function Ju(e){e=Wc(e,Qc);const t=Wc(e.firestore,nu),n=ru(t),r=new $u(t);return Ou(e._query),Lc(n,e._query).then((n=>new Yu(t,r,e,n)))}function Zu(e,t,n){e=Wc(e,Yc);const r=Wc(e.firestore,nu),i=mu(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=L(t))||t instanceof au?xu(i,"updateDoc",e._key,t,n,s):bu(i,"updateDoc",e._key,t),td(r,[o.toMutation(e._key,ko.exists(!0))])}function ed(e,t){const n=Wc(e.firestore,nu),r=Jc(e),i=Hu(e.converter,t);return td(n,[yu(mu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ko.exists(!1))]).then((()=>r))}function td(e,t){return function(e,t){const n=new Vt;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=kc(e);try{const e=await function(e,t){const n=zt(e),r=sn.now(),i=t.reduce(((e,t)=>e.add(t.key)),ro());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Qi(),l=ro();return n.Bs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Ao(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Do(e.key,t,ei(t.value.mapValue),ko.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:$i(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new lr(Zt)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await bc(r,e.changes),await bl(r.remoteStore)}catch(e){const t=jl(e,"Failed to persist write");n.reject(t)}}(await Oc(e),t,n))),n.promise}(ru(e),t)}class nd{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,t,n){this._verifyNotCommitted();const r=rd(e,this._firestore),i=Hu(r.converter,t,n),o=yu(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ko.none())),this}update(e,t,n){this._verifyNotCommitted();const r=rd(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=L(t))||t instanceof au?xu(this._dataReader,"WriteBatch.update",r._key,t,n,a):bu(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ko.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rd(e,this._firestore);return this._mutations=this._mutations.concat(new Lo(t._key,ko.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(Ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rd(e,t){if((e=L(e)).firestore!==t)throw new Ut(Ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){It=e}($e),Ke(new M("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new nu(new Ht(e.getProvider("auth-internal")),new Yt(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ut(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ar(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),et(Et,_t,e),et(Et,_t,"esm2017")}();const id="firebasestorage.googleapis.com",od="storageBucket";class ad extends R{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(cd(e),"Firebase Storage: ".concat(t," (").concat(cd(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ad.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var sd,ld;function cd(e){return"storage/"+e}function ud(){return new ad(sd.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function dd(){return new ad(sd.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hd(){return new ad(sd.CANCELED,"User canceled the upload/download.")}function fd(){return new ad(sd.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pd(e){return new ad(sd.INVALID_ARGUMENT,e)}function gd(){return new ad(sd.APP_DELETED,"The Firebase app was deleted.")}function md(e,t){return new ad(sd.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yd(e){throw new ad(sd.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(sd||(sd={}));class vd{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=vd.makeFromUrl(e,t)}catch(i){return new vd(e,"")}if(""===n.path)return n;throw r=e,new ad(sd.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===id?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new vd(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new ad(sd.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class bd{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function xd(e){return"string"===typeof e||e instanceof String}function wd(e){return Sd()&&e instanceof Blob}function Sd(){return"undefined"!==typeof Blob}function kd(e,t,n,r){if(r<t)throw pd("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pd("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Cd(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ed(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function _d(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ld||(ld={}));class Td{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Id(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===ld.NO_ERROR,i=n.getStatus();if(!t||_d(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===ld.ABORT;return void e(!1,new Id(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Id(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=ud();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?gd():hd())}else{r(dd())}};this.canceled_?t(0,new Id(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function g(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Id{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ad(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Nd(){const e=Ad();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Sd())return new Blob(n);throw new ad(sd.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Rd(e){if("undefined"===typeof atob)throw t="base-64",new ad(sd.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Dd="raw",jd="base64",Od="base64url",Pd="data_url";class Ld{constructor(e,t){this.data=e,this.contentType=t||null}}function Md(e,t){switch(e){case Dd:return new Ld(zd(t));case jd:case Od:return new Ld(Fd(e,t));case Pd:return new Ld(function(e){const t=new Ud(e);return t.base64?Fd(jd,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw md(Pd,"Malformed data URL.")}return zd(t)}(t.rest)}(t),new Ud(t).contentType)}throw ud()}function zd(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Fd(e,t){switch(e){case jd:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw md(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Od:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw md(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rd(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw md(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Ud{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw md(Pd,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Vd{constructor(e,t){let n=0,r="";wd(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(wd(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Vd(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Vd(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Sd()){const e=t.map((e=>e instanceof Vd?e.data_:e));return new Vd(Nd.apply(null,e))}{const e=t.map((e=>xd(e)?Md(Dd,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Vd(r,!0)}}uploadData(){return this.data_}}function Bd(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function Wd(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qd(e,t){return t}class Hd{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||qd}}let Kd=null;function Gd(){if(Kd)return Kd;const e=[];e.push(new Hd("bucket")),e.push(new Hd("generation")),e.push(new Hd("metageneration")),e.push(new Hd("name","fullPath",!0));const t=new Hd("name");t.xform=function(e,t){return function(e){return!xd(e)||e.length<2?e:Wd(e)}(t)},e.push(t);const n=new Hd("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Hd("timeCreated")),e.push(new Hd("updated")),e.push(new Hd("md5Hash",null,!0)),e.push(new Hd("cacheControl",null,!0)),e.push(new Hd("contentDisposition",null,!0)),e.push(new Hd("contentEncoding",null,!0)),e.push(new Hd("contentLanguage",null,!0)),e.push(new Hd("contentType",null,!0)),e.push(new Hd("metadata","customMetadata",!0)),Kd=e,Kd}function Qd(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new vd(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Yd(e,t,n){const r=Bd(t);if(null===r)return null;return Qd(e,r,n)}function Xd(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class $d{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jd(e){if(!e)throw ud()}function Zd(e,t){return function(n,r){const i=Yd(e,r,t);return Jd(null!==i),i}}function eh(e,t){return function(n,r){const i=Yd(e,r,t);return Jd(null!==i),function(e,t,n,r){const i=Bd(t);if(null===i)return null;if(!xd(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Cd("/b/"+a(i)+"/o/"+a(o),n,r)+Ed({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function th(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ad(sd.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new ad(sd.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new ad(sd.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ad(sd.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function nh(e){const t=th(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new ad(sd.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function rh(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ih(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=rh(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xd(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=Vd.getBlob(c,r,u);if(null===d)throw fd();const h={name:l.fullPath},f=Cd(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new $d(f,"POST",Zd(e,n),p);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=th(t),g}class oh{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ld.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=ld.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=ld.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r,i){if(this.sent_)throw yd("cannot .send() more than once");if(w(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw yd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ah extends oh{initXhr(){this.xhr_.responseType="text"}}function sh(){return new ah}class lh{constructor(e,t){this._service=e,this._location=t instanceof vd?t:vd.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lh(e,t)}get root(){const e=new vd(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wd(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new vd(this._location.bucket,e);return new lh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ad(sd.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ch(e,t,n){e._throwIfRoot("uploadBytes");const r=ih(e.storage,e._location,Gd(),new Vd(t,!0),n);return e.storage.makeRequestWithTokens(r,sh).then((t=>({metadata:t,ref:e})))}function uh(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Cd(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new $d(r,"GET",eh(e,n),i);return o.errorHandler=nh(t),o}(e.storage,e._location,Gd());return e.storage.makeRequestWithTokens(t,sh).then((e=>{if(null===e)throw new ad(sd.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function dh(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new vd(e._location.bucket,n);return new lh(e.storage,r)}function hh(e,t){if(e instanceof gh){const n=e;if(null==n._bucket)throw new ad(sd.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+od+"' property when initializing the app?");const r=new lh(n,n._bucket);return null!=t?hh(r,t):r}return void 0!==t?dh(e,t):e}function fh(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gh)return new lh(e,t);throw pd("To use ref(service, url), the first argument must be a Storage instance.")}return hh(e,t)}function ph(e,t){const n=null===t||void 0===t?void 0:t[od];return null==n?null:vd.makeFromBucketSpec(n,e)}class gh{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=id,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vd.makeFromBucketSpec(r,this._host):ph(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=vd.makeFromBucketSpec(this._url,e):this._bucket=ph(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lh(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new bd(gd());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Ed(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Td(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const mh="@firebase/storage",yh="0.13.13",vh="storage";function bh(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new gh(r,i,o,n,$e)}Ke(new M(vh,bh,"PUBLIC").setMultipleInstances(!0)),et(mh,yh,""),et(mh,yh,"esm2017");const xh=e=>{if(!e)return!1;const t=new Date(e).toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),n=new Date(t),r=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),i=new Date(r);return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear()},wh=Je({apiKey:"AIzaSyAutoUXgR5v9QSjEsDPkaEBxNzhrVd5r1c",authDomain:"crave-2-cave.firebaseapp.com",projectId:"crave-2-cave",storageBucket:"crave-2-cave.firebasestorage.app",messagingSenderId:"291986862315",appId:"1:291986862315:web:5d4c3ee036c175ffa10eae",measurementId:"G-JGR0HQV7SQ"}),Sh=function(e,t){const n="object"==typeof e?e:Ze(),r="string"==typeof e?e:t||Ir,i=Ge(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=v("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Wc(e,Gc);const o=w(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&(S("https://".concat(l)),_("Firestore",!0)),a.host!==qc&&a.host!==l&&jt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!O(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tt.MOCK_USER;else{t=k(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ut(Ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tt(o)}e._authCredentials=new qt(new Bt(t,n))}}(i,...e)}return i}(wh),kh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze(),t=arguments.length>1?arguments[1]:void 0;e=L(e);const n=Ge(e,vh).getImmediate({identifier:t}),r=v("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=w(t);i&&(S("https://".concat(e.host,"/b")),_("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:k(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(wh),Ch=async e=>{if(!e||!(e instanceof File))throw console.error("Invalid file: File object is required"),new Error("Invalid file: Please select a valid file");const t=e.name.replace(/[^a-zA-Z0-9._-]/g,"_"),n=(r=kh,i="uploads/".concat(Date.now(),"_").concat(t),fh(r=L(r),i));var r,i;console.log("Uploading to:",n.fullPath);try{await function(e,t,n){return ch(e=L(e),t,n)}(n,e);const t=await function(e){return uh(e=L(e))}(n);return console.log("File uploaded successfully:",t),t}catch(o){throw console.error("Upload error:",o),o}},Eh=async(e,t)=>{try{const n=Jc(Sh,"prebookUsers",e);await Zu(n,t)}catch(n){throw console.error("Error updating user: ",n),n}},_h=async()=>{try{const e=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),t=new Date(e).toISOString().split("T")[0],n=Mu($c(Sh,"prebookUsers"),Fu("registrationDate","==",t)),r=(await Ju(n)).docs.map((e=>c({id:e.id,firestoreId:e.id},e.data())));return r.sort(((e,t)=>new Date(e.timestamp)-new Date(t.timestamp)))}catch(e){return console.error("Error getting users: ",e),[]}},Th=async()=>{try{return(await Ju($c(Sh,"orders"))).docs.map((e=>c({id:e.id},e.data())))}catch(e){return console.error("Error getting orders: ",e),[]}},Ih=async()=>{try{const e=(await Ju($c(Sh,"history"))).docs.map((e=>c({id:e.id},e.data())));return e.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}catch(e){return console.error("Error getting history: ",e),[]}},Ah=async(e,t)=>{try{const r=(ru(n=Wc(n=Sh,nu)),new nd(n,(e=>td(n,e))));e.forEach((e=>{const n=Jc(Sh,"orders",e);r.update(n,{status:t,lastUpdated:(new Date).toISOString()})})),await r.commit(),console.log("Updated status to ".concat(t," for orders:"),e)}catch(n){throw console.error("Error updating orders status:",n),n}var n},Nh=async()=>{try{const e=(new Date).toISOString().split("T")[0],t=await Ju($c(Sh,"prebookUsers")),n=await Ju($c(Sh,"orders")),r=t.docs.map((e=>c({id:e.id,firestoreId:e.id},e.data()))),i=n.docs.map((e=>c({id:e.id},e.data()))),o=i.filter((e=>xh(e.timestamp))),a=new Set(o.map((e=>e.userId))),s=r.filter((e=>xh(e.timestamp)||a.has(e.firestoreId))),l=10*s.filter((e=>e.commitmentPaid)).length+o.reduce(((e,t)=>e+(t.deliveryFee||0)),0),u=o.length>0?30:0,d=l-u,h=Mu($c(Sh,"history"),Fu("date","==",e)),f=await Ju(h),p={date:e,timestamp:(new Date).toISOString(),orders:o,users:s,totalOrders:o.length,totalUsers:s.length,registeredUsers:s.filter((e=>xh(e.timestamp))).length,paidUsers:s.filter((e=>e.commitmentPaid)).length,totalRevenue:l,driverCost:u,profit:d,commitmentFees:10*s.filter((e=>e.commitmentPaid)).length,deliveryFees:o.reduce(((e,t)=>e+(t.deliveryFee||0)),0)};if(f.empty)await ed($c(Sh,"history"),p);else{const e=f.docs[0].id;await Zu(Jc(Sh,"history",e),p)}}catch(e){console.error("Error updating daily history:",e)}};function Rh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Dh=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},jh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Oh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ph=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Lh=(0,r.forwardRef)(((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:u}=e,d=Rh(e,Ph);return(0,r.createElement)("svg",c(c(c({ref:t},Oh),{},{width:i,height:i,stroke:n,strokeWidth:a?24*Number(o)/Number(i):o,className:jh("lucide",s)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),Mh=["className"],zh=(e,t)=>{const n=(0,r.forwardRef)(((n,i)=>{let{className:o}=n,a=Rh(n,Mh);return(0,r.createElement)(Lh,c({ref:i,iconNode:t,className:jh("lucide-".concat((s=Dh(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},a));var s}));return n.displayName=Dh(e),n},Fh=zh("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Uh=zh("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Vh=zh("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Bh=zh("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Wh=zh("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qh=zh("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var Hh=n(579);const Kh=e=>{let{activeTab:t,onTabChange:n,onHome:i,selectedVendor:o,isTransitioning:a,windowWidth:s}=e;const[l,d]=(0,r.useState)(!1),h=()=>{a||(i(),d(!1))},f=e=>({mixue:{name:"Mixue",icon:"\ud83e\uddcb"},dominos:{name:"Dominos",icon:"\ud83c\udf55"},mcdonalds:{name:"McDonald's",icon:"\ud83c\udf5f"}}[e]),p=(f(o),e=>{a||(n(e),d(!1))}),g=[{id:"student",label:"Student Portal",icon:Fh},{id:"driver",label:"Driver Portal",icon:Uh},{id:"admin",label:"Admin Portal",icon:Vh}],m={navbar:{position:"fixed",top:0,left:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.08)",zIndex:1e3,transition:"all 0.3s ease",pointerEvents:a?"none":"auto",opacity:a?.8:1},container:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"70px"},leftSection:{display:"flex",alignItems:"center",gap:s<=768?"10px":"20px"},logoContainer:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",padding:"5px",borderRadius:"10px",transition:"background-color 0.2s ease"},logoImage:{height:"45px",width:"auto",objectFit:"contain"},logoText:{fontSize:s<=768?"18px":"20px",fontWeight:"bold",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",display:s<=370?"none":"block"},vendorName:{display:"flex",alignItems:"center",padding:"6px 12px",backgroundColor:"#eef2ff",color:"#4338ca",borderRadius:"9999px",fontSize:"13px",fontWeight:"600",border:"1px solid #c7d2fe"},desktopMenu:{display:"flex",alignItems:"center",gap:"8px"},navButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease",border:"none",background:"transparent",color:"#64748b"},activeTab:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},mobileMenuButton:{background:"none",border:"none",padding:"8px",cursor:"pointer",color:"#1f2937"},mobileMenu:{position:"fixed",top:"70px",right:0,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",padding:"20px",borderRadius:"0 0 0 20px",minWidth:"250px",zIndex:999,transform:l?"translateX(0)":"translateX(100%)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},mobileMenuItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"16px",marginBottom:"8px",backgroundColor:"transparent",border:"none",borderRadius:"8px",textAlign:"left",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998,opacity:l?1:0,visibility:l?"visible":"hidden",transition:"all 0.3s ease"}};return(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsx)("style",{children:"\n                @media (max-width: 860px) {\n                    .desktop-menu { display: none !important; }\n                    .mobile-menu-button { display: block !important; }\n                }\n                @media (min-width: 861px) {\n                    .mobile-menu-button { display: none !important; }\n                }\n                .nav-button:hover:not(.active) {\n                    background: rgba(59, 130, 246, 0.1) !important;\n                    color: #3b82f6 !important;\n                }\n                .logo-container:hover {\n                    background: rgba(59, 130, 246, 0.05) !important;\n                    transform: translateY(-1px) !important;\n                }\n                "}),l&&(0,Hh.jsx)("div",{style:m.overlay,onClick:()=>d(!1)}),(0,Hh.jsx)("nav",{style:m.navbar,children:(0,Hh.jsxs)("div",{style:m.container,children:[(0,Hh.jsxs)("div",{style:m.leftSection,children:[(0,Hh.jsxs)("div",{className:"logo-container",style:m.logoContainer,onClick:h,children:[(0,Hh.jsx)("img",{src:u,alt:"Crave 2 Cave Logo",style:m.logoImage}),(0,Hh.jsx)("span",{className:"logo-text",style:m.logoText,children:"Crave 2 Cave"})]}),o&&(0,Hh.jsxs)("div",{className:"vendor-name-display",style:m.vendorName,children:[(0,Hh.jsx)("span",{style:{marginRight:"8px",fontSize:"18px",lineHeight:1},children:f(o).icon}),(0,Hh.jsx)("span",{children:f(o).name})]})]}),(0,Hh.jsxs)("div",{className:"desktop-menu",style:m.desktopMenu,children:[(0,Hh.jsxs)("button",{className:"nav-button",style:m.navButton,onClick:h,children:[(0,Hh.jsx)(Bh,{size:18}),(0,Hh.jsx)("span",{children:"Home"})]}),g.map((e=>{const n=e.icon,r=t===e.id;return(0,Hh.jsxs)("button",{className:"nav-button ".concat(r?"active":""),style:c(c({},m.navButton),r?m.activeTab:{}),onClick:()=>p(e.id),children:[(0,Hh.jsx)(n,{size:18}),(0,Hh.jsx)("span",{children:e.label})]},e.id)}))]}),(0,Hh.jsx)("button",{className:"mobile-menu-button",style:m.mobileMenuButton,onClick:()=>d(!l),children:l?(0,Hh.jsx)(Wh,{size:24}):(0,Hh.jsx)(qh,{size:24})})]})}),(0,Hh.jsxs)("div",{style:m.mobileMenu,children:[(0,Hh.jsxs)("button",{onClick:h,style:m.mobileMenuItem,children:[(0,Hh.jsx)(Bh,{size:20}),(0,Hh.jsx)("span",{children:"Home"})]}),g.map((e=>{const t=e.icon;return(0,Hh.jsxs)("button",{onClick:()=>p(e.id),style:m.mobileMenuItem,children:[(0,Hh.jsx)(t,{size:20}),(0,Hh.jsx)("span",{children:e.label})]},e.id)}))]})]})},Gh=zh("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Qh=e=>{let{message:t="Processing..."}=e;const n={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,backdropFilter:"blur(4px)"},container:{backgroundColor:"white",borderRadius:"20px",padding:"40px",textAlign:"center",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"320px",width:"90%"},spinner:{width:"64px",height:"64px",margin:"0 auto 24px",animation:"spin 1s linear infinite"},message:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},dots:{display:"flex",justifyContent:"center",gap:"8px"},dot:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",animation:"bounce 1.4s infinite ease-in-out"}};return(0,Hh.jsx)("div",{style:n.overlay,children:(0,Hh.jsxs)("div",{style:n.container,children:[(0,Hh.jsx)("div",{style:n.spinner,children:(0,Hh.jsx)(Gh,{size:64,color:"#3b82f6"})}),(0,Hh.jsx)("h3",{style:n.message,children:t}),(0,Hh.jsxs)("div",{style:n.dots,children:[(0,Hh.jsx)("div",{style:c(c({},n.dot),{},{animationDelay:"-0.32s"})}),(0,Hh.jsx)("div",{style:c(c({},n.dot),{},{animationDelay:"-0.16s"})}),(0,Hh.jsx)("div",{style:n.dot})]})]})})},Yh=zh("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Xh=e=>{let{title:t,message:n,additionalInfo:i,duration:o=2e3,showOkButton:a=!0,onClose:s}=e;const[l,c]=(0,r.useState)(!0),u=r.useCallback((()=>{c(!1),setTimeout((()=>{s&&s()}),500)}),[s]);(0,r.useEffect)((()=>{if(o>0){const e=setTimeout(u,o);return()=>clearTimeout(e)}}),[o,u]);const d={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"16px",backdropFilter:"blur(8px)",opacity:l?1:0,transition:"opacity 0.5s ease-in-out"},modal:{backgroundColor:"white",borderRadius:"24px",padding:"32px",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",transform:l?"scale(1) translateY(0)":"scale(0.9) translateY(20px)",transition:"all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)",maxWidth:"420px",width:"100%",animation:l?"modalSlideIn 0.5s ease-out":"none"},iconContainer:{width:"88px",height:"88px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 24px",animation:"successPulse 0.8s ease-out",boxShadow:"0 10px 25px -5px rgba(16, 185, 129, 0.3)"},title:{fontSize:"28px",fontWeight:"bold",color:"#1f2937",marginBottom:"12px",animation:"slideInUp 0.6s ease-out 0.2s both"},message:{fontSize:"16px",color:"#6b7280",marginBottom:"24px",lineHeight:"1.6",animation:"slideInUp 0.6s ease-out 0.3s both"},button:{padding:"12px 32px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"}};return(0,Hh.jsx)("div",{style:d.overlay,children:(0,Hh.jsxs)("div",{style:d.modal,children:[(0,Hh.jsx)("div",{style:d.iconContainer,children:(0,Hh.jsx)(Yh,{size:48,color:"white",strokeWidth:3})}),(0,Hh.jsx)("h2",{style:d.title,children:t}),(0,Hh.jsx)("p",{style:d.message,children:n}),i&&(0,Hh.jsx)("div",{style:{marginBottom:"24px"},children:i}),a&&(0,Hh.jsx)("button",{onClick:u,style:d.button,children:"OK"})]})})},$h=zh("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Jh=zh("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Zh=zh("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ef=e=>{let{targetTime:t="19:00"}=e;const n=(0,r.useCallback)((()=>{const e=new Date,n=new Date,[r,i]=t.split(":");if(n.setHours(parseInt(r),parseInt(i),0,0),e>n)return{hours:0,minutes:0,seconds:0,isReady:!0};const o=n-e;return{hours:Math.floor(o/36e5),minutes:Math.floor(o/6e4%60),seconds:Math.floor(o/1e3%60),isReady:!1}}),[t]),[i,o]=(0,r.useState)(n());return(0,r.useEffect)((()=>{const e=setInterval((()=>{o(n())}),1e3);return()=>clearInterval(e)}),[n]),(0,Hh.jsxs)("div",{style:{backgroundColor:"#fef3c7",padding:"24px",borderRadius:"16px",textAlign:"center",margin:"20px 0",border:"2px solid #fbbf24",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[(0,Hh.jsx)("p",{style:{margin:"0 0 12px 0",fontSize:"18px",fontWeight:"600",color:"#92400e",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:i.isReady?(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsx)(Yh,{size:20,color:"#059669"})," Ready for pickup!"]}):(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsx)(Zh,{size:20,color:"#dc2626"})," Time until pickup:"]})}),(0,Hh.jsx)("div",{style:{fontSize:"36px",fontWeight:"bold",color:i.isReady?"#059669":"#dc2626",fontVariantNumeric:"tabular-nums",letterSpacing:"0.025em",display:"flex",justifyContent:"center",gap:"4px"},children:["hours","minutes","seconds"].map((e=>(0,Hh.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Hh.jsx)("div",{style:{backgroundColor:"#fffbeb",padding:"8px 12px",borderRadius:"8px",minWidth:"60px",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},children:String(i[e]).padStart(2,"0")}),(0,Hh.jsx)("span",{style:{fontSize:"12px",color:"#92400e",marginTop:"4px"},children:e.toUpperCase()})]},e)))}),!i.isReady&&(0,Hh.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280",marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,Hh.jsx)($h,{size:16,color:"#64748b"}),"Please arrive at the main gate by 7:00 PM"]})]})},tf=zh("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),nf=e=>{let{imageUrl:t,onClose:n}=e;const[i,o]=(0,r.useState)(1),[a,s]=(0,r.useState)({x:0,y:0}),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)({x:0,y:0}),[h,f]=(0,r.useState)(0),[p,g]=(0,r.useState)(1),m=(0,r.useRef)(null),y=(0,r.useRef)(null),[v,b]=(0,r.useState)(null);(0,r.useEffect)((()=>{if("string"===typeof t)b(t);else if(t instanceof File){const e=URL.createObjectURL(t);return b(e),()=>URL.revokeObjectURL(e)}}),[t]);const x=()=>{c(!1)},w=e=>{const t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+n*n)},S={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:3e3,padding:"20px",cursor:i>1?l?"grabbing":"grab":"default",touchAction:"none"},container:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",backgroundColor:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"column",touchAction:"none"},header:{position:"absolute",top:0,left:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"12px 16px",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1,backdropFilter:"blur(10px)"},zoomControls:{display:"flex",gap:"8px",alignItems:"center"},zoomButton:{backgroundColor:"#f3f4f6",border:"none",padding:"8px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},zoomLevel:{fontSize:"14px",fontWeight:"600",color:"#1f2937",minWidth:"60px",textAlign:"center"},closeButton:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease"},imageContainer:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",marginTop:"50px",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",transform:"scale(".concat(i,") translate(").concat(a.x/i,"px, ").concat(a.y/i,"px)"),transition:l?"none":"transform 0.3s ease",userSelect:"none",touchAction:"none",pointerEvents:"auto"}};return(0,Hh.jsx)("div",{style:S.overlay,onClick:e=>{e.target===e.currentTarget&&n()},onMouseMove:e=>{l&&(e.preventDefault(),s({x:e.clientX-u.x,y:e.clientY-u.y}))},onMouseUp:x,onMouseLeave:x,children:(0,Hh.jsxs)("div",{style:S.container,children:[(0,Hh.jsxs)("div",{style:S.header,children:[(0,Hh.jsxs)("div",{style:S.zoomControls,children:[(0,Hh.jsx)("button",{style:S.zoomButton,onClick:()=>o((e=>Math.max(e/1.5,.5))),children:(0,Hh.jsx)(tf,{size:16,style:{transform:"rotate(180deg)"}})}),(0,Hh.jsxs)("span",{style:S.zoomLevel,children:[Math.round(100*i),"%"]}),(0,Hh.jsx)("button",{style:S.zoomButton,onClick:()=>o((e=>Math.min(1.5*e,5))),children:(0,Hh.jsx)(tf,{size:16})}),(0,Hh.jsx)("button",{style:S.zoomButton,onClick:()=>{o(1),s({x:0,y:0})},children:"Reset"})]}),(0,Hh.jsxs)("button",{style:S.closeButton,onClick:n,children:[(0,Hh.jsx)(Wh,{size:16,style:{marginRight:"4px",verticalAlign:"middle"}}),"Close"]})]}),(0,Hh.jsx)("div",{ref:y,style:S.imageContainer,onWheel:e=>{e.preventDefault();const t=e.deltaY>0?.9:1.1;o((e=>Math.min(Math.max(e*t,.5),5)))},onMouseDown:e=>{i>.5&&(e.preventDefault(),c(!0),d({x:e.clientX-a.x,y:e.clientY-a.y}))},onTouchStart:e=>{2===e.touches.length?(e.preventDefault(),f(w(e.touches)),g(i)):1===e.touches.length&&i>1&&(e.preventDefault(),c(!0),d({x:e.touches[0].clientX-a.x,y:e.touches[0].clientY-a.y}))},onTouchMove:e=>{if((l||2===e.touches.length)&&e.preventDefault(),2===e.touches.length){const t=w(e.touches),n=p*(t/h);o(Math.min(Math.max(n,.5),5))}else 1===e.touches.length&&l&&s({x:e.touches[0].clientX-u.x,y:e.touches[0].clientY-u.y})},onTouchEnd:()=>{c(!1),f(0)},children:(0,Hh.jsx)("img",{ref:m,src:v,alt:"Order",style:S.image,draggable:!1})})]})})},rf=e=>{let{onClose:t,currentOrder:n}=e;const[i,o]=(0,r.useState)(!1),a={container:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"20px",textAlign:"center",overflowY:"auto"},card:{backgroundColor:"white",borderRadius:"32px",padding:"48px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)",maxWidth:"520px",width:"100%",position:"relative",animation:"slideUp 0.5s ease-out"},closeButton:{position:"absolute",top:"20px",right:"20px",backgroundColor:"#f1f5f9",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},iconContainer:{width:"88px",height:"88px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 24px",animation:"successPulse 0.8s ease-out",boxShadow:"0 10px 25px -5px rgba(16, 185, 129, 0.3)"},title:{fontSize:"28px",fontWeight:"bold",color:"#1f2937",marginBottom:"12px"},locationInfo:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:"#f0f9ff",padding:"12px 24px",borderRadius:"12px",margin:"20px 0",border:"1px solid #bfdbfe"},orderBox:{padding:"24px",border:"2px solid #e2e8f0",borderRadius:"16px",backgroundColor:"#f8fafc",margin:"24px 0",textAlign:"left"},orderHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"8px"},orderGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"16px"},orderLabel:{margin:"0",color:"#64748b",fontSize:"14px",fontWeight:"500"},orderValue:{margin:"0",fontWeight:"600",fontSize:"16px"},viewPhotoButton:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"15px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s",width:"100%",marginTop:"16px"},message:{fontSize:"16px",color:"#64748b",lineHeight:"1.6",margin:"24px 0"},button:{padding:"16px 40px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 14px rgba(59, 130, 246, 0.3)"}};return(0,Hh.jsxs)("div",{style:a.container,children:[(0,Hh.jsxs)("div",{style:a.card,children:[(0,Hh.jsx)("button",{style:a.closeButton,onClick:t,children:(0,Hh.jsx)(Wh,{size:24,color:"#64748b"})}),(0,Hh.jsx)("div",{style:a.iconContainer,children:(0,Hh.jsx)(Yh,{size:48,color:"white",strokeWidth:3})}),(0,Hh.jsx)("h2",{style:a.title,children:"Your Order is Being Prepared"}),(0,Hh.jsx)(ef,{targetTime:"19:00"}),(0,Hh.jsxs)("div",{style:a.locationInfo,children:[(0,Hh.jsx)($h,{size:20,color:"#3b82f6"}),(0,Hh.jsx)("span",{style:{fontWeight:"600",color:"#1e40af"},children:"Pickup Location: Main Gate"})]}),n&&(0,Hh.jsxs)("div",{style:a.orderBox,children:[(0,Hh.jsxs)("div",{style:a.orderHeader,children:[(0,Hh.jsx)("h4",{style:{margin:0,fontSize:"18px",color:"#1e293b"},children:"Your Order Details"}),(0,Hh.jsx)("span",{style:{backgroundColor:"#fef3c7",color:"#92400e",padding:"6px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"600"},children:n.orderNumber})]}),(0,Hh.jsxs)("div",{style:a.orderGrid,children:[(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("p",{style:a.orderLabel,children:"Order Total"}),(0,Hh.jsxs)("p",{style:c(c({},a.orderValue),{},{color:"#059669"}),children:["RM",n.orderTotal]})]}),(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("p",{style:a.orderLabel,children:"Delivery Fee"}),(0,Hh.jsxs)("p",{style:a.orderValue,children:["RM",n.deliveryFee]})]}),(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("p",{style:a.orderLabel,children:"Total Amount"}),(0,Hh.jsxs)("p",{style:c(c({},a.orderValue),{},{color:"#dc2626"}),children:["RM",n.totalWithDelivery]})]}),(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("p",{style:a.orderLabel,children:"Student ID"}),(0,Hh.jsx)("p",{style:a.orderValue,children:n.studentId})]})]}),n.orderImageURL&&(0,Hh.jsxs)("button",{onClick:()=>o(!0),style:a.viewPhotoButton,children:[(0,Hh.jsx)(Jh,{size:20}),"View Order Photo"]})]}),(0,Hh.jsx)("p",{style:a.message,children:"Please arrive at the main gate by 7:00 PM to receive your order"}),(0,Hh.jsx)("button",{style:a.button,onClick:t,children:"Close"})]}),i&&(null===n||void 0===n?void 0:n.orderImageURL)&&(0,Hh.jsx)(nf,{imageUrl:n.orderImageURL,onClose:()=>o(!1)})]})},of=zh("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),af=e=>{let{scannedData:t,onConfirm:n,orderImage:r,windowWidth:i}=e;const o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"20px"},modal:{backgroundColor:"white",borderRadius:"20px",padding:i<=480?"24px":"32px",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.3)"},header:{fontSize:i<=480?"20px":"24px",fontWeight:"bold",marginBottom:"20px",color:"#1e293b",textAlign:"center"},dataSection:{backgroundColor:"#f8fafc",padding:i<=480?"16px":"20px",borderRadius:"12px",marginBottom:"20px"},dataRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:i<=480?"10px 0":"12px 0",borderBottom:"1px solid #e2e8f0",gap:"8px"},label:{fontWeight:"600",color:"#64748b",fontSize:i<=768?"14px":"16px",flexShrink:0},value:{fontWeight:"bold",fontSize:i<=768?"14px":"18px",color:"#1e293b",textAlign:"right",wordBreak:"break-all"},imagePreview:{width:"100%",maxHeight:i<=480?"150px":"200px",objectFit:"contain",borderRadius:"8px",marginBottom:"20px",border:"1px solid #e2e8f0"},buttonGroup:{display:"flex",gap:i<=480?"8px":"12px",marginTop:"24px",flexWrap:i<=360?"wrap":"nowrap"},button:{flex:i<=360?"1 1 100%":1,padding:i<=480?"10px 16px":"14px 24px",borderRadius:"10px",border:"none",fontSize:i<=768?"14px":"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",whiteSpace:"nowrap"}};return(0,Hh.jsx)("div",{style:o.overlay,children:(0,Hh.jsxs)("div",{style:o.modal,children:[(0,Hh.jsxs)("h3",{style:o.header,children:[(0,Hh.jsx)(of,{size:i<=480?24:28,style:{marginRight:"8px",verticalAlign:"middle"}}),"Confirm Scanned Details"]}),r&&(0,Hh.jsx)("img",{src:URL.createObjectURL(r),alt:"Scanned receipt",style:o.imagePreview}),(0,Hh.jsxs)("div",{style:o.dataSection,children:[(0,Hh.jsxs)("div",{style:o.dataRow,children:[(0,Hh.jsx)("span",{style:o.label,children:i<=360?"Order #:":"Order Number:"}),(0,Hh.jsx)("span",{style:o.value,title:t.orderNumber,children:t.orderNumber})]}),(0,Hh.jsxs)("div",{style:c(c({},o.dataRow),{},{borderBottom:"none"}),children:[(0,Hh.jsx)("span",{style:o.label,children:i<=360?"Total:":"Order Total:"}),(0,Hh.jsxs)("span",{style:o.value,children:["RM ",t.orderTotal]})]})]}),(0,Hh.jsx)("p",{style:{textAlign:"center",color:"#64748b",marginBottom:"20px",fontSize:i<=768?"14px":"15px"},children:"Are these details correct?"}),(0,Hh.jsxs)("div",{style:o.buttonGroup,children:[(0,Hh.jsxs)("button",{onClick:()=>n(!0),style:c(c({},o.button),{},{backgroundColor:"#10b981",color:"white"}),children:[(0,Hh.jsx)(Yh,{size:i<=480?16:18,style:{flexShrink:0}}),(0,Hh.jsx)("span",{children:i<=360?"Yes":"Yes, Correct"})]}),(0,Hh.jsxs)("button",{onClick:()=>n(!1),style:c(c({},o.button),{},{backgroundColor:"#ef4444",color:"white"}),children:[(0,Hh.jsx)(Wh,{size:i<=480?16:18,style:{flexShrink:0}}),(0,Hh.jsx)("span",{children:i<=360?"No":"No, Re-enter"})]})]})]})})},sf=zh("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),lf=zh("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),cf=zh("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),uf=e=>{let{onStart:t,onNavigateToPortal:n,windowWidth:i}=e;const[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),d=[{emoji:"\ud83c\udf54"},{emoji:"\ud83c\udf55"},{emoji:"\ud83c\udf5f"},{emoji:"\ud83e\uddcb"},{emoji:"\ud83c\udf2e"},{emoji:"\ud83c\udf66"},{emoji:"\ud83e\udd64"},{emoji:"\ud83c\udf70"}],h={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",boxSizing:"border-box"},backgroundElements:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",overflow:"hidden"},floatingFood:{position:"absolute",animation:"float 6s ease-in-out infinite",opacity:.1},centerLogo:{position:"relative",marginBottom:"40px",textAlign:"center",zIndex:2},logoContainer:{position:"relative",width:i<=768?"150px":"200px",height:i<=768?"150px":"200px",margin:"0 auto",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center"},mainLogo:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover",filter:"drop-shadow(0 8px 32px rgba(0,0,0,0.3))",animation:"pulse 3s ease-in-out infinite",background:"rgba(255, 255, 255, 0.95)",padding:"10px",border:"3px solid rgba(255,255,255,0.3)"},title:{fontSize:i<=768?"2.5rem":"3.5rem",fontWeight:"800",background:"linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"10px",textShadow:"0 4px 20px rgba(0,0,0,0.3)"},subtitle:{fontSize:i<=768?"1rem":"1.25rem",color:"rgba(255,255,255,0.9)",marginBottom:"40px",textShadow:"0 2px 10px rgba(0,0,0,0.3)"},vendorContainer:{display:"grid",gridTemplateColumns:i<=768?"1fr":"repeat(3, 1fr)",gap:"16px",maxWidth:"1000px",width:"100%",marginBottom:"40px",zIndex:2,position:"relative"},vendorCard:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"24px",padding:i<=768?"20px":"32px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"2px solid transparent",position:"relative",overflow:"hidden",backdropFilter:"blur(20px)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},vendorCardSelected:{transform:"scale(1.05)",boxShadow:"0 20px 60px rgba(0,0,0,0.2)"},vendorLogo:{fontSize:i<=768?"40px":"56px",marginBottom:"16px",display:"block",filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.1))"},vendorName:{fontSize:i<=768?"1rem":"1.25rem",fontWeight:"700",color:"#1a1a1a"},startButton:{background:o?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #94a3b8 0%, #64748b 100%)",color:"white",border:"none",borderRadius:"16px",padding:i<=768?"14px 28px":"18px 40px",fontSize:i<=768?"1rem":"1.125rem",fontWeight:"600",cursor:o?"pointer":"not-allowed",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"12px",boxShadow:o?"0 8px 32px rgba(16, 185, 129, 0.3)":"0 4px 16px rgba(0,0,0,0.1)",zIndex:2},staffMenuContainer:{position:"absolute",top:i<=768?"20px":"40px",right:i<=768?"20px":"40px",zIndex:20},staffMenuButton:{background:"rgba(0, 0, 0, 0.2)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255, 255, 255, 0.9)",transition:"all 0.3s ease",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},staffMenuDropdown:{position:"absolute",top:"65px",right:0,background:"rgba(25, 25, 45, 0.7)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"10px",display:"flex",flexDirection:"column",gap:"8px",boxShadow:"0 8px 30px rgba(0,0,0,0.3)",opacity:s?1:0,transform:s?"translateY(0) scale(1)":"translateY(-10px) scale(0.95)",visibility:s?"visible":"hidden",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},staffMenuItem:{background:"none",border:"none",color:"#ffffff",display:"flex",alignItems:"center",gap:"12px",padding:"10px 15px",borderRadius:"10px",cursor:"pointer",textAlign:"left",transition:"background-color 0.2s ease",fontSize:"15px",fontWeight:"500"},shimmer:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",animation:"shimmer 2s infinite"}};return(0,Hh.jsxs)("div",{style:h.container,children:[(0,Hh.jsxs)("div",{style:h.staffMenuContainer,children:[(0,Hh.jsx)("button",{className:"staff-menu-button",style:h.staffMenuButton,onClick:()=>l(!s),children:(0,Hh.jsx)(sf,{size:24})}),(0,Hh.jsxs)("div",{style:h.staffMenuDropdown,children:[(0,Hh.jsxs)("button",{className:"staff-menu-item",style:h.staffMenuItem,onClick:()=>{n("driver"),l(!1)},children:[(0,Hh.jsx)(Uh,{size:20}),(0,Hh.jsx)("span",{children:"Driver Portal"})]}),(0,Hh.jsxs)("button",{className:"staff-menu-item",style:h.staffMenuItem,onClick:()=>{n("admin"),l(!1)},children:[(0,Hh.jsx)(lf,{size:20}),(0,Hh.jsx)("span",{children:"Admin Portal"})]})]})]}),(0,Hh.jsx)("style",{jsx:!0,children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(180deg); }\n        }\n        @keyframes shimmer {\n          0% { left: -100%; }\n          100% { left: 100%; }\n        }\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n        .staff-menu-button:hover {\n          background: rgba(0, 0, 0, 0.3);\n          transform: scale(1.05);\n        }\n        .staff-menu-item:hover {\n          background-color: rgba(255, 255, 255, 0.1);\n        }\n      "}),(0,Hh.jsx)("div",{style:h.backgroundElements,children:Array.from({length:20},((e,t)=>(0,Hh.jsx)("div",{style:c(c({},h.floatingFood),{},{fontSize:"".concat(30*Math.random()+20,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(6*Math.random(),"s"),animationDuration:"".concat(6+4*Math.random(),"s")}),children:d[Math.floor(Math.random()*d.length)].emoji},t)))}),(0,Hh.jsxs)("div",{style:h.centerLogo,children:[(0,Hh.jsx)("div",{style:h.logoContainer,children:(0,Hh.jsx)("img",{src:u,alt:"Crave2Cave Logo",style:h.mainLogo})}),(0,Hh.jsx)("h1",{style:h.title,children:"Crave 2 Cave"}),(0,Hh.jsx)("p",{style:h.subtitle,children:"Choose your favourite restaurant and start ordering!"})]}),(0,Hh.jsx)("div",{style:h.vendorContainer,children:[{id:"dominos",name:"Domino's Pizza",logo:"\ud83c\udf55",color:"#0078d4"},{id:"mcdonalds",name:"McDonald's",logo:"\ud83c\udf5f",color:"#ffcc02"},{id:"mixue",name:"MIXUE",logo:"\ud83e\uddcb",color:"#ff69b4"}].map((e=>(0,Hh.jsxs)("div",{style:c(c(c({},h.vendorCard),o===e.id?h.vendorCardSelected:{}),{},{borderColor:o===e.id?e.color:"transparent"}),onClick:()=>a(e.id),children:[o===e.id&&(0,Hh.jsx)("div",{style:h.shimmer}),(0,Hh.jsx)("div",{style:h.vendorLogo,children:e.logo}),(0,Hh.jsx)("h3",{style:h.vendorName,children:e.name})]},e.id)))}),(0,Hh.jsxs)("button",{style:h.startButton,onClick:()=>{o?t(o):alert("Please select a vendor first!")},disabled:!o,children:[(0,Hh.jsx)("span",{children:"Start Ordering"}),(0,Hh.jsx)(cf,{size:24})]})]})},df=zh("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),hf=zh("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),ff=e=>{let{user:t,onSubmit:n,onCancel:i}=e;const[o,a]=(0,r.useState)(""),s={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"white",borderRadius:"20px",padding:"32px",width:"90%",maxWidth:"450px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",textAlign:"center"},title:{fontSize:"24px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},subtitle:{fontSize:"16px",color:"#64748b",margin:"0 0 24px 0"},inputContainer:{position:"relative",marginBottom:"24px"},input:{width:"100%",padding:"14px 14px 14px 45px",borderRadius:"12px",border:"2px solid #e2e8f0",fontSize:"16px",boxSizing:"border-box"},icon:{position:"absolute",top:"50%",left:"15px",transform:"translateY(-50%)",color:"#94a3b8"},button:{width:"100%",padding:"16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}};return(0,Hh.jsx)("div",{style:s.overlay,onClick:i,children:(0,Hh.jsxs)("div",{style:s.modal,onClick:e=>e.stopPropagation(),children:[(0,Hh.jsx)("h2",{style:s.title,children:"One Last Step!"}),(0,Hh.jsx)("p",{style:s.subtitle,children:"Enter your email to receive a notification when your order is on its way."}),(0,Hh.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!t||!t.firestoreId)return console.error("Invalid user data in EmailPromptModal",{user:t}),void alert("Error: User data is missing. Please try again.");o.includes("@")&&o.includes(".")?(console.log("Submitting email:",{userId:t.firestoreId,email:o}),n(t.firestoreId,o)):alert("Please enter a valid email address.")},children:[(0,Hh.jsxs)("div",{style:s.inputContainer,children:[(0,Hh.jsx)(df,{size:20,style:s.icon}),(0,Hh.jsx)("input",{type:"email",placeholder:"your.email@example.com",value:o,onChange:e=>a(e.target.value),style:s.input,required:!0})]}),(0,Hh.jsxs)("button",{type:"submit",style:s.button,children:[(0,Hh.jsx)(hf,{size:18}),"Confirm and Track Order"]})]})]})})},pf=zh("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gf=async e=>new Promise((t=>{const n=new FileReader;n.onload=n=>{const r=new Image;r.onload=()=>{const n=document.createElement("canvas");let i=r.width,o=r.height;i>o?i>801&&(o*=801/i,i=801):o>800&&(i*=800/o,o=800),n.width=i,n.height=o;n.getContext("2d").drawImage(r,0,0,i,o),n.toBlob((n=>{t(new File([n],e.name,{type:"image/jpeg",lastModified:Date.now()}))}),"image/jpeg",1)},r.src=n.target.result},n.readAsDataURL(e)})),mf=e=>e<50?10:e>=50&&e<100?17:e>=100&&e<150?25:e>=150&&e<200?30:Math.min(.15*e,55),yf=zh("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),vf=e=>{let{onRetrieve:t,isVisible:n,onToggle:i,windowWidth:o}=e;const[a,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),g=o<=480,m=o<=768,y=e=>e.trim()?e.trim().split(" ").length<2?(h("Please enter your full name (first and last name)"),!1):(h(""),!0):(h("Name is required"),!1),v=e=>e.trim()?e.length<4?(p("Student ID must be at least 4 characters"),!1):/\d{4}\/\d{2}$/.test(e)?(p(""),!0):(p("Student ID format should be like 0469/24"),!1):(p("Student ID is required"),!1),b={container:{backgroundColor:"#f0f9ff",border:"2px solid #3b82f6",borderRadius:"16px",overflow:"hidden",marginBottom:"24px",transition:"all 0.3s ease"},toggleButton:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:g?"12px":m?"14px":"16px",backgroundColor:"#3b82f6",color:"white",border:"none",cursor:"pointer",fontSize:g?"13px":m?"14px":"15px",fontWeight:"600",transition:"all 0.2s"},content:{padding:n?g?"16px":m?"20px":"24px":"0",maxHeight:n?"400px":"0",opacity:n?1:0,overflow:"hidden",transition:"all 0.3s ease"},title:{fontSize:g?"16px":"18px",fontWeight:"bold",color:"#1e40af",marginBottom:"12px"},input:{width:"100%",padding:g?"12px 14px":"14px 18px",border:"2px solid #e5e7eb",borderRadius:"10px",marginBottom:"16px",fontSize:g?"14px":"15px",boxSizing:"border-box",transition:"all 0.2s"},inputError:{borderColor:"#ef4444"},errorText:{color:"#ef4444",fontSize:"13px",marginTop:"-12px",marginBottom:"12px"},buttonGroup:{display:"flex",gap:"12px",marginTop:"20px"},button:{flex:1,padding:g?"12px 16px":"14px 20px",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:g?"14px":"15px",fontWeight:"600",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},primaryButton:{backgroundColor:"#059669",color:"white"},secondaryButton:{backgroundColor:"#6b7280",color:"white"}};return(0,Hh.jsxs)("div",{style:b.container,children:[(0,Hh.jsxs)("button",{onClick:i,style:b.toggleButton,children:[(0,Hh.jsx)(yf,{size:g?16:18}),n?"Hide":"Already Registered? Retrieve Your Registration"]}),(0,Hh.jsxs)("div",{style:b.content,children:[(0,Hh.jsx)("h3",{style:b.title,children:"Retrieve Your Registration"}),(0,Hh.jsx)("p",{style:{color:"#6b7280",fontSize:g?"13px":"14px",marginBottom:"20px"},children:"Enter your name and student ID to continue where you left off."}),(0,Hh.jsx)("input",{type:"text",placeholder:"Enter your full name (Bryan Ngu)",value:a,onChange:e=>{s(e.target.value),y(e.target.value)},style:c(c({},b.input),d&&b.inputError)}),d&&(0,Hh.jsx)("p",{style:b.errorText,children:d}),(0,Hh.jsx)("input",{type:"text",placeholder:"Enter your student ID (0469/24)",value:l,onChange:e=>{u(e.target.value),v(e.target.value)},style:c(c({},b.input),f&&b.inputError)}),f&&(0,Hh.jsx)("p",{style:b.errorText,children:f}),(0,Hh.jsxs)("div",{style:b.buttonGroup,children:[(0,Hh.jsx)("button",{onClick:()=>{const e=y(a),n=v(l);e&&n&&t(a.trim(),l.trim())},style:c(c({},b.button),b.primaryButton),children:"Retrieve Registration"}),(0,Hh.jsx)("button",{onClick:()=>{s(""),u(""),h(""),p("")},style:c(c({},b.button),b.secondaryButton),children:"Clear"})]})]})]})},bf=e=>{let{type:t="info",title:n,message:i,icon:o,children:a,onClose:s}=e;const l=(()=>{switch(t){case"success":return{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",border:"2px solid #10b981",iconBg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",iconColor:"white",textColor:"#047857"};case"warning":return{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b",iconBg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",iconColor:"white",textColor:"#92400e"};case"error":return{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"2px solid #ef4444",iconBg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",iconColor:"white",textColor:"#991b1b"};default:return{background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"2px solid #3b82f6",iconBg:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",iconColor:"white",textColor:"#1e40af"}}})();return(0,Hh.jsxs)("div",{style:{background:l.background,border:l.border,borderRadius:"20px",padding:window.innerWidth<=480?"20px":"28px",marginBottom:"24px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[(0,Hh.jsx)("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"100px",height:"100px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",pointerEvents:"none"}}),(0,Hh.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:window.innerWidth<=480?"12px":"16px"},children:[o&&(0,Hh.jsx)("div",{style:{width:window.innerWidth<=480?"48px":"56px",height:window.innerWidth<=480?"48px":"56px",borderRadius:"16px",background:l.iconBg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:r.cloneElement(o,{size:window.innerWidth<=480?24:28,color:l.iconColor})}),(0,Hh.jsxs)("div",{style:{flex:1,minWidth:0},children:[n&&(0,Hh.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:window.innerWidth<=480?"16px":"18px",fontWeight:"bold",color:l.textColor},children:n}),(0,Hh.jsx)("p",{style:{margin:"0 0 12px 0",fontSize:window.innerWidth<=480?"14px":"15px",color:l.textColor,lineHeight:"1.5"},children:i}),a]}),s&&(0,Hh.jsx)("button",{onClick:s,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:l.textColor,transition:"all 0.2s ease"},children:(0,Hh.jsx)(Wh,{size:16})})]})]})},xf=e=>{let{orderTotal:t,userIndex:n,isCommitmentFeePaid:r,registrationOrder:i,selectedUserId:o}=e;const a=i.find((e=>e.userId===o)),s=a?a.order>=4:n>=3,l=mf(t),c=!s&&n<3&&r&&l>0?10:0,u=Math.max(0,l-c);return(0,Hh.jsxs)("div",{style:{backgroundColor:"#fef3c7",padding:"24px",borderRadius:"16px",border:"2px solid #fbbf24",marginBottom:"20px"},children:[(0,Hh.jsx)("h4",{style:{margin:"0 0 16px 0",color:"#92400e",fontSize:"18px"},children:"Fee Breakdown"}),(0,Hh.jsxs)("p",{style:{margin:"6px 0"},children:["Order Total: RM",t.toFixed(2)]}),(0,Hh.jsxs)("p",{style:{margin:"6px 0"},children:["Delivery Fee: RM",l.toFixed(2)]}),c>0&&(0,Hh.jsxs)("p",{style:{margin:"6px 0",color:"#059669"},children:["Commitment Fee Deduction: -RM",c.toFixed(2)]}),(0,Hh.jsx)("hr",{style:{margin:"12px 0",borderColor:"#fbbf24"}}),(0,Hh.jsx)("p",{style:{margin:"6px 0",fontSize:"18px"},children:(0,Hh.jsxs)("strong",{children:["Amount to Pay: RM",u.toFixed(2)]})})]})},wf=zh("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Sf=n.p+"static/media/qrtng.acebc3850d2d7bc87fc1.jpg",kf=e=>{let{amount:t,isCommitmentFee:n=!1,userIndex:r=0,registrationOrder:i=[],selectedUserId:o=""}=e;const a=i.find((e=>e.userId===o)),s=a?4===a.order:3===r,l=n?s?0:10:t;if(!n&&0===t)return(0,Hh.jsxs)("div",{style:{padding:window.innerWidth<=480?"16px":"24px",backgroundColor:"#f0fdf4",borderRadius:"16px",border:"2px solid #86efac",textAlign:"center",marginBottom:"24px"},children:[(0,Hh.jsx)(Yh,{color:"#16a34a",size:window.innerWidth<=480?28:36}),(0,Hh.jsx)("p",{style:{margin:"12px 0 0 0",fontWeight:"600",color:"#166534",fontSize:window.innerWidth<=480?"15px":"17px"},children:"No delivery fee for orders under RM50!"}),(0,Hh.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:window.innerWidth<=480?"13px":"15px",color:"#166534"},children:"Please proceed to upload your order image."})]});if(s&&n)return(0,Hh.jsxs)("div",{style:{backgroundColor:"#f0fdf4",padding:window.innerWidth<=480?"16px":"20px",borderRadius:"12px",border:"2px solid #86efac",marginBottom:"24px",textAlign:"center"},children:[(0,Hh.jsx)(Yh,{color:"#16a34a",size:window.innerWidth<=480?24:32}),(0,Hh.jsx)("p",{style:{margin:"12px 0 0 0",fontWeight:"600",color:"#166534",fontSize:window.innerWidth<=480?"16px":"18px"},children:"Congratulations! You're the 4th registrant!"}),(0,Hh.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:window.innerWidth<=480?"13px":"15px",color:"#166534"},children:"Your commitment fee is waived. Please proceed to continue."})]});const c=()=>window.innerWidth<=480?"180px":window.innerWidth<=768?"200px":"220px";return(0,Hh.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:window.innerWidth<=480?"20px":"32px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"20px",border:"2px solid #7dd3fc",marginBottom:"24px",boxShadow:"0 10px 30px rgba(59, 130, 246, 0.1)",width:"100%",boxSizing:"border-box"},children:[(0,Hh.jsxs)("div",{style:{fontSize:window.innerWidth<=480?"16px":"20px",fontWeight:"bold",color:"#0369a1",marginBottom:window.innerWidth<=480?"16px":"20px",display:"flex",alignItems:"center",gap:"10px",textAlign:"center"},children:[(0,Hh.jsx)(wf,{size:window.innerWidth<=480?20:28}),n?"Commitment Fee Payment":"Delivery Fee Payment"]}),(0,Hh.jsx)("div",{style:{padding:window.innerWidth<=480?"16px":"20px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Hh.jsx)("img",{src:Sf,alt:"TNG Payment QR Code",style:{width:c(),height:c(),display:"block",objectFit:"contain"}})}),(0,Hh.jsxs)("div",{style:{marginTop:window.innerWidth<=480?"16px":"20px",padding:window.innerWidth<=480?"12px 24px":"16px 32px",background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",borderRadius:"12px",fontWeight:"bold",fontSize:window.innerWidth<=480?"16px":"20px",boxShadow:"0 4px 12px rgba(5, 150, 105, 0.3)"},children:["Amount: RM",l.toFixed(2)]}),(0,Hh.jsx)("p",{style:{fontSize:window.innerWidth<=480?"13px":"15px",color:"#64748b",marginTop:"16px",textAlign:"center",margin:"16px 0 0 0"},children:"Scan to pay"})]})},Cf=e=>{var t,n,i,o,a,s,l;let{prebookUsers:u,todayUsers:d,todayOrders:h,minOrderReached:f,systemActivatedToday:p,registrationOrder:g,windowWidth:m,showSuccessAnimation:y,showLoadingAnimation:v,hideLoadingAnimation:b,fetchAllData:x,setSelectedImage:w,setShowScanConfirmation:S,setScannedData:k,setOrderConfirmed:C,setCurrentOrder:E,setResetStudentForm:_,setShowEmailModal:T,setUserForEmail:I,selectedVendor:A}=e;const[N,R]=(0,r.useState)(1),[D,j]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),[z,F]=(0,r.useState)(null),[U,V]=(0,r.useState)(""),[B,W]=(0,r.useState)(null),[q,H]=(0,r.useState)(null),[K,G]=(0,r.useState)(""),[Q,Y]=(0,r.useState)(0),[X,$]=(0,r.useState)(!1),[J,Z]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),[ne,re]=(0,r.useState)(""),[ie,oe]=(0,r.useState)(!1),[ae,se]=(0,r.useState)("scanning"),le={card:{backgroundColor:"white",borderRadius:"20px",padding:m<=480?"20px":"32px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.08)",marginBottom:"24px",border:"1px solid #f1f5f9"},cardHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px",flexDirection:m<=480?"column":"row",textAlign:m<=480?"center":"left"},cardTitle:{fontSize:m<=480?"20px":"24px",fontWeight:"700",margin:0,color:"#1e293b"},progressBar:{marginBottom:"28px"},progressText:{display:"flex",justifyContent:"space-between",fontSize:m<=480?"12px":"14px",color:"#64748b",marginBottom:"10px",fontWeight:"500",flexWrap:"wrap",gap:"8px"},progressTrack:{width:"100%",height:"12px",backgroundColor:"#e2e8f0",borderRadius:"6px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.06)"},progressFill:{height:"100%",backgroundColor:"#10b981",transition:"width 0.5s ease",borderRadius:"6px",background:"linear-gradient(90deg, #10b981 0%, #059669 100%)",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.3)"},input:{width:"100%",padding:m<=480?"14px 16px":"16px 20px",border:"2px solid #e2e8f0",borderRadius:"12px",marginBottom:"16px",fontSize:m<=480?"14px":"16px",boxSizing:"border-box",transition:"all 0.2s",backgroundColor:"#f8fafc"},button:{width:"100%",padding:m<=480?"14px 24px":"16px 32px",borderRadius:"12px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:m<=480?"14px":"16px",transition:"all 0.3s ease",boxShadow:"0 4px 14px rgba(0, 0, 0, 0.1)"},buttonRow:{display:"flex",gap:"12px",flexDirection:m<=480?"column":"row"},inputError:{borderColor:"#ef4444"},errorText:{color:"#ef4444",fontSize:"13px",marginTop:"-12px",marginBottom:"12px"},buttonGreen:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white"},buttonBlue:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white"},buttonOrange:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",color:"white"},buttonGray:{backgroundColor:"#64748b",color:"white"},sectionCard:{backgroundColor:"#f8fafc",padding:m<=480?"16px":"24px",borderRadius:"16px",marginBottom:"24px",border:"2px solid #e2e8f0"},sectionHeader:{margin:"0 0 16px 0",color:"#1e293b",display:"flex",alignItems:"center",gap:"8px",fontSize:m<=480?"16px":"18px"},stepNumber:{backgroundColor:"#3b82f6",color:"white",width:"28px",height:"28px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},infoCard:{backgroundColor:"#f0f9ff",padding:m<=480?"16px":"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #bfdbfe"},scanningIndicator:{marginTop:"16px",padding:"20px",borderRadius:"12px",backgroundColor:"#e0f2fe",border:"1px solid #7dd3fc",textAlign:"center"},errorCard:{marginTop:"16px",padding:"16px",borderRadius:"8px",backgroundColor:"#fef3c7",color:"#92400e",border:"1px solid #fbbf24"},imagePreview:{marginTop:"16px",textAlign:"center"},previewImage:{maxWidth:m<=480?"150px":"200px",maxHeight:m<=480?"150px":"200px",borderRadius:"8px",border:"2px solid #e2e8f0",cursor:"pointer"}},ce=e=>e.trim()?e.trim().split(" ").length<2?(Z("Please enter your full name (first and last name)"),!1):(Z(""),!0):(Z("Name is required"),!1),ue=e=>e.trim()?e.length<4?(te("Student ID must be at least 4 characters"),!1):/\d{4}\/\d{2}$/.test(e)?(te(""),!0):(te("Student ID format should be like 0469/24"),!1):(te("Student ID is required"),!1),de=async e=>{if(e){W(e),re(""),k({orderNumber:"",orderTotal:""}),se("scanning"),oe(!0);try{const t=await gf(e),n=await(async e=>{const t=new FormData;t.append("file",e);try{const e=await fetch("/api/google-vision-scan",{method:"POST",body:t}),n=await e.json();if(!e.ok||!n.success)throw console.error("API or Server Error:",n),new Error(n.message||"Failed to process receipt via proxy.");return{orderNumber:n.orderNumber,orderTotal:n.orderTotal}}catch(n){throw console.error("Error calling backend for scanning:",n),n}})(t),{orderNumber:r,orderTotal:i}=n;if(k({orderNumber:r,orderTotal:i}),r&&i)se("confirm"),S(!0),G(r),V(i);else{se("manual");let e="Some information could not be detected:\n";r||(e+="\u2022 Order number not found\n"),i||(e+="\u2022 Order total not found\n"),e+="\nPlease enter the missing information manually.",re(e),i&&V(i),r&&G(r)}}catch(t){console.error("Receipt processing failed:",t),se("manual"),re("Unable to scan the receipt. Please enter the details manually.")}finally{oe(!1)}}},he=async()=>{if(!U||!K.trim()||!B)return void y("Missing Fields","Please complete all required fields: Order Total, Order Number, and upload a receipt image.",null,3e3,!0);const e=parseFloat(U);if(isNaN(e))return void y("Invalid Total","Please enter a valid order total.",null,3e3,!0);const t=mf(e),n=u.find((e=>e.firestoreId===L)),r=Q<3&&null!==n&&void 0!==n&&n.commitmentPaid&&t>0?10:0,i=Math.max(0,t-r);if(i>0&&!q)y("Payment Receipt Required","Please upload your payment receipt for the delivery fee.",null,3e3,!0);else{v("Processing order...");try{if(!(B instanceof File))throw new Error("Invalid order receipt file: Please select a valid image");const n=await gf(B),o=await Ch(n);let a=null;if(q){if(!(q instanceof File))throw new Error("Invalid payment proof file: Please select a valid image");const e=await gf(q);a=await Ch(e)}const s={userId:L,userName:D,studentId:O,orderTotal:e,originalDeliveryFee:t,deliveryFee:i,commitmentFeeDeducted:r,totalWithDelivery:e+i,orderImageURL:o,paymentProofURL:a,orderNumber:K.trim(),status:"pending",userPosition:Q+1,wasFourthUser:Q>=3,timestamp:(new Date).toISOString(),vendor:A};await(async e=>{try{const t=c(c({},e),{},{timestamp:(new Date).toISOString(),status:"pending",orderDate:(new Date).toLocaleDateString("en-US",{timeZone:"Asia/Kuala_Lumpur"})}),n=await ed($c(Sh,"orders"),t);return await Nh(),n.id}catch(t){throw console.error("Error saving order: ",t),t}})(s),await Eh(L,{orderTotal:s.orderTotal,orderSubmitted:!0,hasOrdered:!0,orderImageURL:s.orderImageURL,lastOrderDate:(new Date).toISOString()}),console.log("Order saved, preparing to show email modal",{selectedUserId:L,studentName:D}),b(),y("Order Submitted!","Please provide your email to receive order updates.",null,3e3,!0,(()=>{if(!L)return console.error("selectedUserId is undefined"),void y("Error","Unable to proceed: User ID is missing. Please try again.",null,3e3,!0);I({firestoreId:L,name:D}),T(!0),E(s)}))}catch(o){b(),y("Order Submission Failed","Failed to submit order: ".concat(o.message),null,3e3,!0),console.error("Order submission error:",o)}}},fe=(0,r.useCallback)((()=>{R(1),j(""),P(""),M(""),F(null),V(""),W(null),H(null),G(""),Y(0),Z(""),te(""),re(""),oe(!1),se("scanning")}),[]);return(0,r.useEffect)((()=>{_&&_((()=>fe))}),[fe,_]),(0,Hh.jsxs)("div",{style:le.card,children:[(0,Hh.jsxs)("div",{style:le.cardHeader,children:[(0,Hh.jsx)(Fh,{color:"#3b82f6",size:28}),(0,Hh.jsx)("h2",{style:le.cardTitle,children:"Food Delivery Registration"})]}),(0,Hh.jsx)(vf,{onRetrieve:(e,t)=>{const n=u.find((n=>{var r;return(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())===e.toLowerCase()&&n.studentId===t&&xh(n.timestamp)}));if(!n)return void y("Registration Not Found","We couldn't find your registration details for today.",(0,Hh.jsx)(bf,{type:"warning",title:"Daily Registration Required",message:"Registrations are only valid for the current day. Please register again for today's delivery.",icon:(0,Hh.jsx)(pf,{})}),0,!0);if(n.orderSubmitted&&xh(n.lastOrderDate))return void y("Order Already Submitted","Hi ".concat(n.name,", you have already submitted your order today."),(0,Hh.jsx)(bf,{type:"info",title:"Daily Order Limit",message:"You can only submit one order per day.",icon:(0,Hh.jsx)(Yh,{}),onClose:()=>C(!0)}),3e3,!0,(()=>C(!0)));const r=g.find((e=>e.userId===n.firestoreId)),i=r?r.order-1:u.findIndex((e=>e.firestoreId===n.firestoreId));if(Y(i),j(n.name),P(n.studentId),M(n.firestoreId),n.commitmentPaid||p&&i>=3)R(3),y("Welcome back ".concat(n.name,"!"),p&&i>=3?"System is active! You can proceed directly to order submission.":"Your payment has been confirmed. You can now submit your order.",null,2500,!0);else{R(2);const e=u.filter((e=>e.commitmentPaid)).length;y("Welcome back ".concat(n.name,"!"),"Please complete your commitment fee payment to continue.",(0,Hh.jsxs)("p",{children:["We still need ",3-e," more paid users before order submission opens."]}),5e3,!0)}$(!1)},isVisible:X,onToggle:()=>$(!X),windowWidth:m}),(0,Hh.jsxs)("div",{style:le.progressBar,children:[(0,Hh.jsxs)("div",{style:le.progressText,children:[(0,Hh.jsx)("span",{children:"Minimum 3 paid users required"}),(0,Hh.jsxs)("span",{children:[d.filter((e=>e.commitmentPaid)).length,"/",Math.max(3,d.filter((e=>e.commitmentPaid)).length)]})]}),(0,Hh.jsx)("div",{style:le.progressTrack,children:(0,Hh.jsx)("div",{style:c(c({},le.progressFill),{},{width:"".concat(Math.min(d.filter((e=>e.commitmentPaid)).length/Math.max(3,d.filter((e=>e.commitmentPaid)).length)*100,100),"%")})})})]}),1===N&&(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("h3",{style:{marginBottom:"20px",color:"#1e293b",fontSize:m<=480?"16px":"18px"},children:"Step 1: Register"}),(0,Hh.jsx)("input",{type:"text",placeholder:"Enter your full name (e.g., Bryan Ngu)",value:D,onChange:e=>{j(e.target.value),ce(e.target.value)},style:c(c({},le.input),J&&le.inputError)}),J&&(0,Hh.jsx)("p",{style:le.errorText,children:J}),(0,Hh.jsx)("input",{type:"text",placeholder:"Enter your student ID (e.g., 0469/24)",value:O,onChange:e=>{P(e.target.value),ue(e.target.value)},style:c(c({},le.input),ee&&le.inputError)}),ee&&(0,Hh.jsx)("p",{style:le.errorText,children:ee}),(0,Hh.jsx)("button",{onClick:async()=>{if(!ce(D)||!ue(O))return;const e=u.find((e=>xh(e.timestamp)&&(e.studentId===O||e.name.toLowerCase()===D.toLowerCase())));if(e){let t="You have already registered today.";return e.studentId===O?t="Student ID ".concat(O," has already been used."):e.name.toLowerCase()===D.toLowerCase()&&(t='Name "'.concat(D,'" has already been used.')),void y("Registration Already Exists",t,(0,Hh.jsx)(bf,{type:"error",message:"Please try again tomorrow.",icon:(0,Hh.jsx)(pf,{})}),3e3,!0)}v("Registering...");try{const e=u.filter((e=>e.commitmentPaid)).length>=3,t=u.length,n=e||t>=3,r={name:D,studentId:O,timestamp:(new Date).toISOString(),hasOrdered:!1,commitmentPaid:n,orderTotal:0,orderSubmitted:!1,wasFourthUser:n,registrationOrder:t+1},i=await(async e=>{try{const t=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),n=new Date(t).toISOString().split("T")[0],r=c(c({},e),{},{email:e.email||"no-email@crave2cave.com",registrationDate:n,timestamp:(new Date).toISOString()});return(await ed($c(Sh,"prebookUsers"),r)).id}catch(t){throw console.error("Error adding document: ",t),t}})(r);M(i),Y(t),await x(),b(),n?y("Registration Successful!","You have been registered for the food delivery service.",(0,Hh.jsx)("p",{style:{color:"#059669",fontWeight:"600",fontSize:"18px"},children:"\ud83c\udf89 System is active! You can now submit your order."}),2500,!0,(()=>R(3))):y("Registration Successful!","You have been registered for the food delivery service.",(0,Hh.jsx)("p",{children:"Please proceed to pay the RM10 commitment fee."}),3e3,!0,(()=>R(2)))}catch(t){b(),alert("Error registering user. Please try again."),console.error("Registration error:",t)}},style:c(c({},le.button),le.buttonGreen),children:"Register for Delivery"})]}),2===N&&(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("h3",{style:{marginBottom:"20px",color:"#1e293b",fontSize:m<=480?"16px":"18px"},children:"Step 2: Pay Commitment Fee"}),(0,Hh.jsx)(kf,{isCommitmentFee:!0,userIndex:Q,registrationOrder:g,selectedUserId:L}),(0,Hh.jsxs)("div",{style:le.infoCard,children:[(0,Hh.jsxs)("p",{style:{margin:"0 0 8px 0"},children:[(0,Hh.jsx)("strong",{children:"Name:"})," ",D]}),(0,Hh.jsxs)("p",{style:{margin:"0 0 8px 0"},children:[(0,Hh.jsx)("strong",{children:"Student ID:"})," ",O]}),(0,Hh.jsxs)("p",{style:{margin:0},children:[(0,Hh.jsx)("strong",{children:"Commitment Fee:"})," ",Q>=3||(null===(t=g.find((e=>e.userId===L)))||void 0===t?void 0:t.order)>=4?"FREE (4th+ user!)":"RM10"]})]}),!(Q>=3||(null===(n=g.find((e=>e.userId===L)))||void 0===n?void 0:n.order)>=4)&&(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsx)("p",{style:{marginBottom:"16px",color:"#64748b"},children:"Upload proof of payment (RM10 commitment fee):"}),(0,Hh.jsx)("input",{type:"file",accept:"image/*",onChange:e=>F(e.target.files[0]),style:le.input}),z&&(0,Hh.jsxs)("div",{style:le.imagePreview,children:[(0,Hh.jsx)("img",{src:URL.createObjectURL(z),alt:"Payment Receipt",style:le.previewImage,onClick:()=>w(z)}),(0,Hh.jsx)("p",{style:{fontSize:"12px",color:"#64748b",marginTop:"8px"},children:"Click image to enlarge"})]})]}),(0,Hh.jsxs)("div",{style:le.buttonRow,children:[(0,Hh.jsx)("button",{onClick:async()=>{const e=g.find((e=>e.userId===L)),t=e?e.order>=4:Q>=3;if(t||z){v(t?"Processing...":"Uploading receipt...");try{let e=null;if(!t){if(!(z instanceof File))throw new Error("Invalid receipt file: Please select a valid image");e=await Ch(z)}await Eh(L,{commitmentPaid:!0,paymentReceiptUploaded:!t,receiptURL:e,wasFourthUser:t});const n=u.find((e=>e.firestoreId===L)),r=u.filter((e=>e.commitmentPaid)).length,i=n&&!n.commitmentPaid?r+1:r;if(await x(),b(),i>=3||t)y(t?"Processing Complete!":"Payment Confirmed!",t?"As a 4th+ registrant, you can proceed without payment!":"Your RM10 commitment fee has been received.",(0,Hh.jsx)("p",{children:"You can now submit your order!"}),2500,!0,(()=>R(3)));else{const e=3-i;y("Payment Confirmed!","Your RM10 commitment fee has been received.",(0,Hh.jsxs)("p",{children:["We need ",e," more paid user",e>1?"s":""," before order submission opens. Please check back later!"]}),0,!0,(()=>{R(1),j(""),P(""),M(""),F(null)}))}}catch(n){b(),y("Upload Failed","Failed to upload payment receipt: ".concat(n.message),null,3e3,!0),console.error("Payment error:",n)}}else y("Missing Receipt","Please upload a payment receipt for the commitment fee.",null,3e3,!0)},disabled:!(Q>=3||(null===(i=g.find((e=>e.userId===L)))||void 0===i?void 0:i.order)>=4)&&!z,style:c(c(c({},le.button),le.buttonBlue),{},{opacity:Q>=3||(null===(o=g.find((e=>e.userId===L)))||void 0===o?void 0:o.order)>=4||z?1:.5,cursor:Q>=3||(null===(a=g.find((e=>e.userId===L)))||void 0===a?void 0:a.order)>=4||z?"pointer":"not-allowed"}),children:Q>=3||(null===(s=g.find((e=>e.userId===L)))||void 0===s?void 0:s.order)>=4?"Continue (Free)":"Submit Payment"}),(0,Hh.jsx)("button",{onClick:()=>{R(1),M(""),F(null)},style:c(c({},le.button),le.buttonGray),children:"Back"})]})]}),3===N&&f&&(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("h3",{style:{marginBottom:"20px",color:"#1e293b",fontSize:m<=480?"18px":"20px"},children:"Step 3: Submit Your Order"}),(0,Hh.jsxs)("div",{style:{backgroundColor:"#f0fdf4",padding:"20px",borderRadius:"12px",marginBottom:"24px",border:"1px solid #86efac",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Hh.jsx)(Yh,{color:"#16a34a",size:24}),"Payment confirmed! You can now submit your order."]}),(0,Hh.jsxs)("div",{style:le.sectionCard,children:[(0,Hh.jsxs)("h4",{style:le.sectionHeader,children:[(0,Hh.jsx)("span",{style:le.stepNumber,children:"1"}),"Upload Order Receipt"]}),(0,Hh.jsxs)("p",{style:{marginBottom:"12px",color:"#64748b"},children:[(0,Hh.jsx)(Jh,{size:16,style:{marginRight:"4px",verticalAlign:"middle"}}),"Take a clear photo of your receipt. We'll try to scan the details."]}),(0,Hh.jsx)("input",{type:"file",accept:"image/*",onChange:e=>de(e.target.files[0]),style:c(c({},le.input),{},{backgroundColor:"#f0f9ff",border:"2px dashed #3b82f6",padding:"16px",cursor:"pointer"}),disabled:ie}),ie&&(0,Hh.jsxs)("div",{style:le.scanningIndicator,children:[(0,Hh.jsx)(Gh,{size:24,style:{animation:"spin 1s linear infinite",marginRight:"12px"}}),"Scanning receipt..."]}),ne&&!ie&&(0,Hh.jsxs)("div",{style:le.errorCard,children:[(0,Hh.jsx)(pf,{size:20,style:{marginRight:"8px",verticalAlign:"middle"}}),ne.split("\n").map(((e,t)=>(0,Hh.jsx)("div",{children:e},t)))]}),B&&!ie&&(0,Hh.jsxs)("div",{style:le.imagePreview,children:[(0,Hh.jsx)("img",{src:URL.createObjectURL(B),alt:"Uploaded Receipt",style:le.previewImage,onClick:()=>w(B)}),(0,Hh.jsx)("p",{style:{fontSize:"12px",color:"#64748b",marginTop:"8px"},children:"Click image to enlarge"})]})]}),(B||"manual"===ae)&&(0,Hh.jsxs)("div",{style:le.sectionCard,children:[(0,Hh.jsxs)("h4",{style:le.sectionHeader,children:[(0,Hh.jsx)("span",{style:le.stepNumber,children:"2"}),"Order Details"]}),(0,Hh.jsxs)("label",{style:{display:"block",marginBottom:"8px",color:"#374151",fontWeight:"500"},children:["Order Number ",(0,Hh.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,Hh.jsx)("input",{type:"text",placeholder:"Enter order number from receipt",value:K,onChange:e=>G(e.target.value),style:c(c({},le.input),{},{backgroundColor:K?"#f0fdf4":"#fff"})}),(0,Hh.jsxs)("label",{style:{display:"block",marginBottom:"8px",marginTop:"16px",color:"#374151",fontWeight:"500"},children:["Order Total (RM) ",(0,Hh.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,Hh.jsx)("input",{type:"number",step:"0.01",placeholder:"Enter order total amount",value:U,onChange:e=>V(e.target.value),style:c(c({},le.input),{},{backgroundColor:U?"#f0fdf4":"#fff"})})]}),U&&(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsx)(xf,{orderTotal:parseFloat(U)||0,userIndex:Q,isCommitmentFeePaid:null===(l=u.find((e=>e.firestoreId===L)))||void 0===l?void 0:l.commitmentPaid,registrationOrder:g,selectedUserId:L}),(()=>{const e=mf(parseFloat(U)||0),t=u.find((e=>e.firestoreId===L)),n=Q<3&&null!==t&&void 0!==t&&t.commitmentPaid&&e>0?10:0,r=Math.max(0,e-n);return r>0?(0,Hh.jsxs)("div",{style:le.sectionCard,children:[(0,Hh.jsx)("h4",{style:le.sectionHeader,children:"Delivery Fee Payment"}),(0,Hh.jsx)(kf,{amount:r}),(0,Hh.jsx)("p",{style:{marginTop:"16px",marginBottom:"12px",color:"#64748b"},children:"Please upload proof of payment for the delivery fee:"}),(0,Hh.jsx)("input",{type:"file",accept:"image/*",onChange:e=>H(e.target.files[0]),style:le.input}),q&&(0,Hh.jsx)("div",{style:le.imagePreview,children:(0,Hh.jsx)("img",{src:URL.createObjectURL(q),alt:"Payment Proof",style:le.previewImage,onClick:()=>w(q)})})]}):null})(),(()=>{const e=mf(parseFloat(U)||0),t=u.find((e=>e.firestoreId===L)),n=Q<3&&null!==t&&void 0!==t&&t.commitmentPaid&&e>0?10:0,r=Math.max(0,e-n),i=!B||!K.trim()||r>0&&!q;return(0,Hh.jsx)("button",{onClick:he,disabled:i,style:c(c(c({},le.button),le.buttonOrange),{},{opacity:i?.5:1,cursor:i?"not-allowed":"pointer"}),children:"Submit Order"})})()]})]}),3===N&&!f&&(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)(bf,{type:"success",title:"Payment Confirmed!",message:"Thank you for your base delivery fee. Your payment has been successfully processed.",icon:(0,Hh.jsx)(Yh,{})}),(0,Hh.jsx)(bf,{type:"warning",title:"Waiting for More Orders",message:"We need at least 3 paid users before order submission opens. Current progress: ".concat(d.filter((e=>e.commitmentPaid)).length,"/3 users"),icon:(0,Hh.jsx)(pf,{}),children:(0,Hh.jsx)("p",{style:{margin:"0",fontSize:"14px",color:"#92400e"},children:"You'll be able to submit your order once we reach the minimum requirement. Please check back later!"})}),(0,Hh.jsx)("button",{onClick:fe,style:c(c(c({},le.button),le.buttonGray),{},{marginTop:"16px"}),children:"Return to Home"})]})]})},Ef=zh("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_f=zh("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Tf=zh("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),If=zh("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Af=zh("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Nf=zh("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Rf=zh("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Df=zh("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jf=e=>{let{title:t,onAuth:n}=e;const[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(!1),l={authCard:{backgroundColor:"white",padding:"40px",borderRadius:"24px",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.1)",border:"1px solid #f1f5f9",maxWidth:"420px",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},iconWrapper:{backgroundColor:"#f1f5f9",padding:"16px",borderRadius:"50%",marginBottom:"16px"},title:{fontSize:"28px",fontWeight:"700",margin:0,color:"#1e293b"},prompt:{color:"#64748b",fontSize:"16px",margin:"8px 0 24px 0"},inputContainer:{position:"relative",width:"100%"},input:{width:"100%",padding:"16px 50px 16px 20px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",boxSizing:"border-box",transition:"border-color 0.2s",backgroundColor:"#f8fafc"},toggleButton:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#64748b",padding:"8px"},button:{width:"100%",padding:"16px 32px",borderRadius:"12px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"16px",transition:"all 0.3s ease",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",marginTop:"16px",boxShadow:"0 4px 20px rgba(59, 130, 246, 0.2)"}};return(0,Hh.jsxs)("div",{style:l.authCard,children:[(0,Hh.jsx)("div",{style:l.iconWrapper,children:(0,Hh.jsx)(Nf,{size:32,color:"#3b82f6"})}),(0,Hh.jsx)("h2",{style:l.title,children:t}),(0,Hh.jsx)("p",{style:l.prompt,children:"Enter the passcode to access the dashboard."}),(0,Hh.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(i)},style:{width:"100%"},children:[(0,Hh.jsxs)("div",{style:l.inputContainer,children:[(0,Hh.jsx)("input",{type:a?"text":"password",value:i,onChange:e=>o(e.target.value),style:l.input,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e2e8f0"}),(0,Hh.jsx)("button",{type:"button",onClick:()=>s(!a),style:l.toggleButton,"aria-label":"Toggle passcode visibility",children:a?(0,Hh.jsx)(Rf,{size:20}):(0,Hh.jsx)(Df,{size:20})})]}),(0,Hh.jsx)("button",{type:"submit",style:l.button,children:"Access Dashboard"})]})]})},Of=e=>{let{headers:t,data:n,onImageClick:i}=e;const[o,a]=(0,r.useState)(window.innerWidth<=768);return(0,r.useEffect)((()=>{const e=()=>{a(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),o?(0,Hh.jsx)("div",{style:{width:"100%"},children:n.map(((e,n)=>(0,Hh.jsx)("div",{style:{backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"16px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:e.map(((n,r)=>(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:r<e.length-1?"1px solid #e2e8f0":"none"},children:[(0,Hh.jsxs)("span",{style:{fontWeight:"600",color:"#374151",fontSize:"13px",flex:"0 0 auto",marginRight:"12px"},children:[t[r],":"]}),(0,Hh.jsx)("div",{style:{flex:"1",textAlign:"right"},children:n&&"object"===typeof n&&"image"===n.type?(0,Hh.jsx)("img",{src:n.value,alt:"Order",style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"6px",cursor:"pointer"},onClick:()=>i&&i(n.value)}):n&&"object"===typeof n&&"status"===n.type?(0,Hh.jsx)("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"500",backgroundColor:n.value>=0?"#d1fae5":"#fee2e2",color:n.value>=0?"#065f46":"#991b1b"},children:n.display}):(0,Hh.jsx)("span",{style:{fontSize:"13px",color:"#1f2937",wordBreak:"break-word"},children:n})})]},r)))},n)))}):(0,Hh.jsx)("div",{style:{overflowX:"auto",width:"100%",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",WebkitOverflowScrolling:"touch"},children:(0,Hh.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[(0,Hh.jsx)("thead",{children:(0,Hh.jsx)("tr",{children:t.map(((e,t)=>(0,Hh.jsx)("th",{style:{backgroundColor:"#f9fafb",padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"14px",color:"#4b5563",borderBottom:"2px solid #e5e7eb",whiteSpace:"nowrap"},children:e},t)))})}),(0,Hh.jsx)("tbody",{children:n.map(((e,t)=>(0,Hh.jsx)("tr",{style:{transition:"background-color 0.2s ease"},children:e.map(((e,t)=>(0,Hh.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",fontSize:"14px",color:"#1f2937"},children:e&&"object"===typeof e&&"image"===e.type?(0,Hh.jsx)("img",{src:e.value,alt:"Order",style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"8px",cursor:"pointer",transition:"transform 0.2s ease"},onClick:()=>i&&i(e.value)}):e&&"object"===typeof e&&"status"===e.type?(0,Hh.jsx)("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"500",backgroundColor:e.value>=0?"#d1fae5":"#fee2e2",color:e.value>=0?"#065f46":"#991b1b",whiteSpace:"nowrap"},children:e.display}):e},t)))},t)))})]})})},Pf=e=>{let{data:t,type:n="bar",title:i,height:o=300}=e;const[a,s]=(0,r.useState)(!1),l=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=()=>{l.current&&s(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const u=Math.max(1,...t.map((e=>e.value))),d=a?180:o,h={container:{backgroundColor:"white",padding:a?"12px":"20px",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",border:"1px solid #f3f4f6",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},title:{fontSize:a?"14px":"16px",fontWeight:"600",marginBottom:a?"12px":"20px",color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},chartArea:{position:"relative",height:"".concat(d,"px"),display:"flex",alignItems:"flex-end",justifyContent:"space-around",gap:a?"2px":"6px",paddingBottom:"40px",width:"100%"},bar:{position:"relative",backgroundColor:"#3b82f6",borderRadius:"6px 6px 0 0",transition:"all 0.3s ease",cursor:"pointer",flex:"1",maxWidth:a?"25px":"40px",minWidth:a?"20px":"30px",background:"linear-gradient(180deg, #60a5fa 0%, #3b82f6 100%)"},barLabel:{position:"absolute",bottom:"-35px",left:"50%",transform:"translateX(-50%)",fontSize:a?"8px":"10px",color:"#6b7280",whiteSpace:"nowrap",fontWeight:"500",writingMode:a&&t.length>4?"vertical-rl":"horizontal-tb",textOrientation:"mixed",maxWidth:"40px",overflow:"hidden",textOverflow:"ellipsis"},barValue:{position:"absolute",top:"-18px",left:"50%",transform:"translateX(-50%)",fontSize:a?"9px":"11px",fontWeight:"bold",color:"#1f2937",backgroundColor:"#f3f4f6",padding:"1px 3px",borderRadius:"3px",whiteSpace:"nowrap"},pieContainer:{display:"flex",alignItems:"center",justifyContent:"center",gap:a?"16px":"32px",flexWrap:"wrap",flexDirection:a?"column":"row"},pieChart:{width:a?"120px":"160px",height:a?"120px":"160px",position:"relative"},legend:{display:"flex",flexDirection:"column",gap:a?"4px":"8px",fontSize:a?"10px":"12px",maxWidth:"100%"},legendItem:{display:"flex",alignItems:"center",gap:"4px",flexWrap:"wrap"},legendColor:{width:a?"12px":"16px",height:a?"12px":"16px",borderRadius:"3px",flexShrink:0}};if("pie"===n){const e=t.reduce(((e,t)=>e+t.value),0)||1,n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];let r=-90;return(0,Hh.jsxs)("div",{ref:l,style:h.container,children:[(0,Hh.jsx)("h3",{style:h.title,children:i}),(0,Hh.jsxs)("div",{style:h.pieContainer,children:[(0,Hh.jsx)("svg",{viewBox:"0 0 200 200",style:h.pieChart,children:t.map(((t,i)=>{const o=t.value/e*100/100*360,a=o>180?1:0,s=r,l=r+o,c=100+80*Math.cos(s*Math.PI/180),u=100+80*Math.sin(s*Math.PI/180),d=100+80*Math.cos(l*Math.PI/180),h=100+80*Math.sin(l*Math.PI/180);return r=l,(0,Hh.jsx)("path",{d:"M 100 100 L ".concat(c," ").concat(u," A 80 80 0 ").concat(a," 1 ").concat(d," ").concat(h," Z"),fill:n[i%n.length],stroke:"white",strokeWidth:"3",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}},i)}))}),(0,Hh.jsx)("div",{style:h.legend,children:t.map(((t,r)=>(0,Hh.jsxs)("div",{style:h.legendItem,children:[(0,Hh.jsx)("div",{style:c(c({},h.legendColor),{},{backgroundColor:n[r%n.length]})}),(0,Hh.jsxs)("span",{style:{color:"#4b5563",fontSize:"inherit"},children:[t.label,": ",t.value," (",(t.value/e*100).toFixed(1),"%)"]})]},r)))})]})]})}return(0,Hh.jsxs)("div",{ref:l,style:h.container,children:[(0,Hh.jsx)("h3",{style:h.title,children:i}),(0,Hh.jsx)("div",{style:h.chartArea,children:t.map(((e,t)=>(0,Hh.jsxs)("div",{style:c(c({},h.bar),{},{height:"".concat(e.value/u*(d-60),"px"),backgroundColor:e.color||"#3b82f6"}),children:[(0,Hh.jsx)("span",{style:h.barValue,children:e.value}),(0,Hh.jsx)("span",{style:h.barLabel,children:e.label})]},t)))})]})},Lf=e=>{let{prebookUsers:t,todayOrders:n,todayUsers:i,historyData:o,loadingUsers:a,loadingOrders:s,loadingHistory:l,windowWidth:u,setSelectedImage:d,isAuthenticated:h,onAuth:f,resetAuth:p}=e;const[g,m]=(0,r.useState)(!1),y={card:{backgroundColor:"white",borderRadius:"20px",padding:"32px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.08)",marginBottom:"24px",border:"1px solid #f1f5f9"},cardHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},cardTitle:{fontSize:"24px",fontWeight:"700",margin:0,color:"#1e293b"},button:{width:"100%",padding:"16px 32px",borderRadius:"12px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"16px",transition:"all 0.3s ease",boxShadow:"0 4px 14px rgba(0, 0, 0, 0.1)"},statCard:{backgroundColor:"white",padding:"28px",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",display:"flex",alignItems:"center",gap:"20px",transition:"all 0.3s ease",cursor:"pointer",border:"1px solid #f1f5f9"},statIcon:{width:"64px",height:"64px",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},statContent:{flex:1,minWidth:0},statLabel:{fontSize:"14px",color:"#64748b",marginBottom:"4px",fontWeight:"500"},statValue:{fontSize:"28px",fontWeight:"bold",color:"#1e293b",lineHeight:"1.2"}},v=()=>{const e=o.reduce(((e,t)=>e+(t.registeredUsers||0)),0),t=o.reduce(((e,t)=>e+(t.totalRevenue||0)),0),r=o.reduce(((e,t)=>e+(t.profit||0)),0),a=o.reduce(((e,t)=>e+(t.totalOrders||0)),0),s=(new Date).toISOString().split("T")[0];if(!o.some((e=>e.date===s))&&i.length>0){const o=i.filter((e=>xh(e.timestamp))).length,s=10*i.filter((e=>e.commitmentPaid)).length+n.reduce(((e,t)=>e+(t.deliveryFee||0)),0);return{totalRegistered:e+o,totalRevenue:t+s,totalProfit:r+(s-(n.length>0?30:0)),totalOrders:a+n.length}}return{totalRegistered:e,totalRevenue:t,totalProfit:r,totalOrders:a}};return h?a||s||l?(0,Hh.jsxs)("div",{style:{textAlign:"center",padding:"60px",backgroundColor:"white",borderRadius:"20px",marginBottom:"32px"},children:[(0,Hh.jsx)(Gh,{size:56,color:"#3b82f6",style:{animation:"spin 1s linear infinite"}}),(0,Hh.jsx)("p",{style:{marginTop:"24px",color:"#64748b",fontSize:"18px"},children:"Loading dashboard data..."})]}):(0,Hh.jsx)("div",{children:g?(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("h2",{style:{margin:0,fontSize:"32px",color:"#1e293b"},children:"History Overview"}),(0,Hh.jsx)("p",{style:{margin:"8px 0 0 0",color:"#64748b",fontSize:"16px"},children:"All-time data and analytics"})]}),(0,Hh.jsx)("button",{onClick:()=>m(!1),style:c(c({},y.button),{},{width:"auto",backgroundColor:"#64748b",color:"white",padding:"14px 28px"}),children:"Back to Today"})]}),(0,Hh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:u<=480||u<=768?"repeat(2, 1fr)":"repeat(auto-fit, minmax(200px, 1fr))",gap:u<=480?"8px":u<=768?"12px":"20px",marginBottom:u<=480?"24px":"32px"},children:[(0,Hh.jsxs)("div",{style:c(c({},y.statCard),{},{padding:u<=480?"12px":u<=768?"16px":"24px",gap:u<=480?"8px":"12px"}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",width:u<=480?"32px":u<=768?"40px":"56px",height:u<=480?"32px":u<=768?"40px":"56px"}),children:(0,Hh.jsx)(Fh,{size:u<=480?16:u<=768?20:28,color:"#3b82f6"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),{},{fontSize:u<=480?"10px":"12px"}),children:"Total Registered"}),(0,Hh.jsx)("p",{style:c(c({},y.statValue),{},{fontSize:u<=480?"16px":u<=768?"20px":"24px"}),children:v().totalRegistered})]})]}),(0,Hh.jsxs)("div",{style:c(c({},y.statCard),{},{padding:u<=480?"12px":u<=768?"16px":"24px",gap:u<=480?"8px":"12px"}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",width:u<=480?"32px":u<=768?"40px":"56px",height:u<=480?"32px":u<=768?"40px":"56px"}),children:(0,Hh.jsx)(_f,{size:u<=480?16:u<=768?20:28,color:"#ef4444"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),{},{fontSize:u<=480?"10px":"12px"}),children:"Total Orders"}),(0,Hh.jsx)("p",{style:c(c({},y.statValue),{},{fontSize:u<=480?"16px":u<=768?"20px":"24px"}),children:v().totalOrders})]})]}),(0,Hh.jsxs)("div",{style:c(c({},y.statCard),{},{padding:u<=480?"12px":u<=768?"16px":"24px",gap:u<=480?"8px":"12px"}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",width:u<=480?"32px":u<=768?"40px":"56px",height:u<=480?"32px":u<=768?"40px":"56px"}),children:(0,Hh.jsx)(Tf,{size:u<=480?16:u<=768?20:28,color:"#f59e0b"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),{},{fontSize:u<=480?"10px":"12px"}),children:"Total Revenue"}),(0,Hh.jsxs)("p",{style:c(c({},y.statValue),{},{fontSize:u<=480?"16px":u<=768?"20px":"24px"}),children:["RM",v().totalRevenue.toFixed(2)]})]})]}),(0,Hh.jsxs)("div",{style:c(c({},y.statCard),{},{padding:u<=480?"12px":u<=768?"16px":"24px",gap:u<=480?"8px":"12px"}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",width:u<=480?"32px":u<=768?"40px":"56px",height:u<=480?"32px":u<=768?"40px":"56px"}),children:(0,Hh.jsx)(If,{size:u<=480?16:u<=768?20:28,color:"#10b981"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),{},{fontSize:u<=480?"10px":"12px"}),children:"Total Profit"}),(0,Hh.jsxs)("p",{style:c(c({},y.statValue),{},{fontSize:u<=480?"16px":u<=768?"20px":"24px"}),children:["RM",v().totalProfit.toFixed(2)]})]})]})]}),(0,Hh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:u<=768?"1fr":"repeat(auto-fit, minmax(350px, 1fr))",gap:u<=480?"12px":"20px",marginBottom:"32px",width:"100%",overflow:"hidden"},children:[(0,Hh.jsx)(Pf,{type:"bar",title:"Daily Orders Trend (Last 7 Days)",data:o.slice(0,7).reverse().map((e=>({label:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:e.totalOrders||0,color:"#3b82f6"})))}),(0,Hh.jsx)(Pf,{type:"bar",title:"Daily Profit Trend (Last 7 Days)",data:o.slice(0,7).reverse().map((e=>({label:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:e.profit||0,color:e.profit>=0?"#10b981":"#ef4444"})))})]}),(0,Hh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:u<=768?"1fr":"repeat(auto-fit, minmax(350px, 1fr))",gap:u<=480?"12px":"20px",marginBottom:"32px",width:"100%",overflow:"hidden"},children:[(0,Hh.jsx)(Pf,{type:"bar",title:"Monthly Order Trends",data:(()=>{const e={};return o.forEach((t=>{const n=new Date(t.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});e[n]||(e[n]=0),e[n]+=t.totalOrders||0})),Object.entries(e).slice(-6).map((e=>{let[t,n]=e;return{label:t,value:n,color:"#3b82f6"}}))})()}),(0,Hh.jsx)(Pf,{type:"bar",title:"Monthly Profit Trends",data:(()=>{const e={};return o.forEach((t=>{const n=new Date(t.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});e[n]||(e[n]=0),e[n]+=t.profit||0})),Object.entries(e).slice(-6).map((e=>{let[t,n]=e;return{label:t,value:n,color:n>=0?"#10b981":"#ef4444"}}))})()})]}),(0,Hh.jsxs)("div",{style:y.card,children:[(0,Hh.jsx)("h3",{style:{fontSize:"22px",marginBottom:"24px"},children:"Daily History"}),0===o.length?(0,Hh.jsxs)("div",{style:{textAlign:"center",padding:"60px",color:"#64748b"},children:[(0,Hh.jsx)(Ef,{size:56,style:{marginBottom:"20px"}}),(0,Hh.jsx)("p",{style:{fontSize:"18px"},children:"No history data available yet."})]}):(0,Hh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:o.map(((e,t)=>(0,Hh.jsxs)("div",{style:{backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"16px",padding:"24px",transition:"all 0.3s ease",cursor:"pointer"},children:[(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Hh.jsx)("h4",{style:{margin:0,fontSize:"18px",color:"#1e293b",fontWeight:"600"},children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,Hh.jsx)("span",{style:{backgroundColor:e.profit>=0?"#d1fae5":"#fee2e2",color:e.profit>=0?"#065f46":"#991b1b",padding:"4px 12px",borderRadius:"6px",fontSize:"13px",fontWeight:"600"},children:e.profit>=0?"Profit":"Loss"})]}),(0,Hh.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"white",borderRadius:"8px"},children:[(0,Hh.jsx)("span",{style:{color:"#64748b",fontSize:"14px"},children:"Orders"}),(0,Hh.jsx)("span",{style:{fontWeight:"600",color:"#1e293b"},children:e.totalOrders||0})]}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"white",borderRadius:"8px"},children:[(0,Hh.jsx)("span",{style:{color:"#64748b",fontSize:"14px"},children:"Revenue"}),(0,Hh.jsxs)("span",{style:{fontWeight:"600",color:"#059669"},children:["RM",(e.totalRevenue||0).toFixed(2)]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:e.profit>=0?"#f0fdf4":"#fef2f2",borderRadius:"8px",border:"2px solid ".concat(e.profit>=0?"#86efac":"#fecaca")},children:[(0,Hh.jsx)("span",{style:{color:e.profit>=0?"#047857":"#991b1b",fontSize:"14px",fontWeight:"600"},children:"Profit"}),(0,Hh.jsxs)("span",{style:{fontWeight:"bold",color:e.profit>=0?"#047857":"#991b1b"},children:["RM",(e.profit||0).toFixed(2)]})]})]})]},t)))})]})]}):(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("h2",{style:{margin:0,fontSize:"32px",color:"#1e293b"},children:"Admin Dashboard"}),(0,Hh.jsxs)("p",{style:{margin:"8px 0 0 0",color:"#64748b",fontSize:"16px"},children:["Today's Data - ",(new Date).toLocaleDateString()]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Hh.jsxs)("button",{onClick:()=>m(!0),style:c(c({},y.button),{},{width:"auto",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",padding:"14px 28px",display:"flex",alignItems:"center",gap:"10px"}),children:[(0,Hh.jsx)(Ef,{size:20})," View History"]}),(0,Hh.jsx)("button",{onClick:p,style:c(c({},y.button),{},{width:"auto",backgroundColor:"#64748b",color:"white",padding:"14px 28px"}),children:"Logout"})]})]}),(0,Hh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:u<=480||u<=768?"repeat(2, 1fr)":"repeat(auto-fit, minmax(240px, 1fr))",gap:u<=480?"10px":u<=768?"16px":"24px",marginBottom:u<=480?"24px":"40px"},children:[(0,Hh.jsxs)("div",{style:c(c({},y.statCard),u<=768?{padding:u<=480?"12px":"16px",gap:u<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)"},u<=768?{width:u<=480?"40px":"48px",height:u<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(Fh,{size:u<=480?20:u<=768?24:32,color:"#3b82f6"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),u<=480?{fontSize:"11px"}:{}),children:"Today's Registered"}),(0,Hh.jsx)("p",{style:c(c({},y.statValue),u<=480?{fontSize:"18px"}:{}),children:i.filter((e=>xh(e.timestamp))).length})]})]}),(0,Hh.jsxs)("div",{style:c(c({},y.statCard),u<=768?{padding:u<=480?"12px":"16px",gap:u<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)"},u<=768?{width:u<=480?"40px":"48px",height:u<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(_f,{size:u<=480?20:u<=768?24:32,color:"#ef4444"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),u<=480?{fontSize:"11px"}:{}),children:"Today's Orders"}),(0,Hh.jsx)("p",{style:c(c({},y.statValue),u<=480?{fontSize:"18px"}:{}),children:n.length})]})]}),(0,Hh.jsxs)("div",{style:c(c({},y.statCard),u<=768?{padding:u<=480?"12px":"16px",gap:u<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)"},u<=768?{width:u<=480?"40px":"48px",height:u<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(Tf,{size:u<=480?20:u<=768?24:32,color:"#f59e0b"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),u<=480?{fontSize:"11px"}:{}),children:"Today's Revenue"}),(0,Hh.jsxs)("p",{style:c(c({},y.statValue),u<=480?{fontSize:"18px"}:{}),children:["RM",(10*i.filter((e=>e.commitmentPaid)).length+n.reduce(((e,t)=>e+(t.deliveryFee||0)),0)).toFixed(2)]})]})]}),(0,Hh.jsxs)("div",{style:c(c({},y.statCard),u<=768?{padding:u<=480?"12px":"16px",gap:u<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},y.statIcon),{},{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)"},u<=768?{width:u<=480?"40px":"48px",height:u<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(If,{size:u<=480?20:u<=768?24:32,color:"#10b981"})}),(0,Hh.jsxs)("div",{style:y.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},y.statLabel),u<=480?{fontSize:"11px"}:{}),children:"Today's Profit"}),(0,Hh.jsxs)("p",{style:c(c({},y.statValue),u<=480?{fontSize:"18px"}:{}),children:["RM",(10*i.filter((e=>e.commitmentPaid)).length+n.reduce(((e,t)=>e+(t.deliveryFee||0)),0)-(n.length>0?30:0)).toFixed(2)]})]})]})]}),(0,Hh.jsxs)("div",{style:y.card,children:[(0,Hh.jsx)("h3",{style:{fontSize:u<=480?"18px":"22px",marginBottom:"20px"},children:"Today's Profit Calculation"}),(0,Hh.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:u<=480?"16px":"24px",borderRadius:"16px",marginBottom:"24px"},children:[(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",flexWrap:"wrap",gap:"8px"},children:[(0,Hh.jsxs)("span",{style:{fontSize:u<=480?"13px":"16px",lineHeight:"1.4"},children:["Commitment Fees (",i.filter((e=>e.commitmentPaid)).length," \xd7 RM10):"]}),(0,Hh.jsxs)("span",{style:{fontWeight:"bold",fontSize:u<=480?"13px":"16px"},children:["+RM",(10*i.filter((e=>e.commitmentPaid)).length).toFixed(2)]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",flexWrap:"wrap",gap:"8px"},children:[(0,Hh.jsx)("span",{style:{fontSize:u<=480?"13px":"16px",lineHeight:"1.4"},children:"Delivery Fees:"}),(0,Hh.jsxs)("span",{style:{fontWeight:"bold",fontSize:u<=480?"13px":"16px"},children:["+RM",n.reduce(((e,t)=>e+(t.deliveryFee||0)),0).toFixed(2)]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"2px solid #e2e8f0",paddingTop:"12px",marginTop:"12px",flexWrap:"wrap",gap:"8px"},children:[(0,Hh.jsx)("span",{style:{fontSize:u<=480?"14px":"16px",lineHeight:"1.4"},children:"Total Revenue:"}),(0,Hh.jsxs)("span",{style:{fontWeight:"bold",fontSize:u<=480?"14px":"16px"},children:["RM",(10*i.filter((e=>e.commitmentPaid)).length+n.reduce(((e,t)=>e+(t.deliveryFee||0)),0)).toFixed(2)]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"12px",flexWrap:"wrap",gap:"8px"},children:[(0,Hh.jsx)("span",{style:{fontSize:u<=480?"13px":"16px",lineHeight:"1.4"},children:"Driver Cost:"}),(0,Hh.jsxs)("span",{style:{fontWeight:"bold",color:"#dc2626",fontSize:u<=480?"13px":"16px"},children:["-RM",n.length>0?"30.00":"0.00"]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"2px solid #1e293b",paddingTop:"12px",marginTop:"12px",flexWrap:"wrap",gap:"8px"},children:[(0,Hh.jsx)("span",{style:{fontSize:u<=480?"16px":"20px",fontWeight:"bold",lineHeight:"1.4"},children:"Today's Profit:"}),(0,Hh.jsxs)("span",{style:{fontSize:u<=480?"16px":"20px",fontWeight:"bold",color:10*i.filter((e=>e.commitmentPaid)).length+n.reduce(((e,t)=>e+(t.deliveryFee||0)),0)-(n.length>0?30:0)>=0?"#059669":"#dc2626"},children:["RM",(10*i.filter((e=>e.commitmentPaid)).length+n.reduce(((e,t)=>e+(t.deliveryFee||0)),0)-(n.length>0?30:0)).toFixed(2)]})]})]})]}),(0,Hh.jsxs)("div",{style:y.card,children:[(0,Hh.jsxs)("div",{style:y.cardHeader,children:[(0,Hh.jsx)(Af,{color:"#f59e0b",size:28}),(0,Hh.jsx)("h2",{style:y.cardTitle,children:"Awaiting Order Submission"})]}),i.filter((e=>e.commitmentPaid&&!e.orderSubmitted)).length>0?(0,Hh.jsx)("div",{style:{display:"grid",gap:"12px",marginTop:"16px",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:i.filter((e=>e.commitmentPaid&&!e.orderSubmitted)).map((e=>(0,Hh.jsxs)("div",{style:{padding:"12px",backgroundColor:"#fffbeb",border:"1px solid #fef3c7",borderRadius:"8px"},children:[(0,Hh.jsx)("p",{style:{margin:0,fontWeight:"600",color:"#92400e"},children:e.name}),(0,Hh.jsx)("p",{style:{margin:"4px 0 0",fontSize:"12px",color:"#b45309"},children:e.studentId})]},e.id)))}):(0,Hh.jsx)("p",{style:{marginTop:"20px",color:"#64748b",textAlign:"center"},children:"All paid users have submitted their orders for today."})]}),(0,Hh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:u<=768?"1fr":"repeat(auto-fit, minmax(350px, 1fr))",gap:u<=480?"12px":"20px",marginBottom:"32px",width:"100%",overflow:"hidden"},children:[(0,Hh.jsx)(Pf,{type:"bar",title:"Today's Order Distribution by Amount",data:[{label:"<RM50",value:n.filter((e=>e.orderTotal<50)).length,color:"#3b82f6"},{label:"RM50-100",value:n.filter((e=>e.orderTotal>=50&&e.orderTotal<100)).length,color:"#10b981"},{label:"RM100-150",value:n.filter((e=>e.orderTotal>=100&&e.orderTotal<150)).length,color:"#f59e0b"},{label:">RM150",value:n.filter((e=>e.orderTotal>=150)).length,color:"#ef4444"}]}),(0,Hh.jsx)(Pf,{type:"pie",title:"Today's Revenue Breakdown",data:[{label:"Commitment Fees",value:10*i.filter((e=>e.commitmentPaid)).length},{label:"Delivery Fees",value:n.reduce(((e,t)=>e+(t.deliveryFee||0)),0)}]})]}),(0,Hh.jsxs)("div",{style:y.card,children:[(0,Hh.jsx)("h3",{style:{fontSize:"22px",marginBottom:"24px"},children:"Today's Orders"}),0===n.length?(0,Hh.jsxs)("div",{style:{textAlign:"center",padding:"60px",color:"#64748b"},children:[(0,Hh.jsx)(pf,{size:56,style:{marginBottom:"20px"}}),(0,Hh.jsx)("p",{style:{fontSize:"18px"},children:"No orders for today yet."})]}):(0,Hh.jsx)(Of,{headers:["Order #","Photo","Customer","Student ID","Order Total","Delivery Fee","Total","Time"],onImageClick:e=>d(e),data:n.map(((e,t)=>[e.orderNumber,{type:"image",value:e.orderImageURL},e.userName,e.studentId,"RM".concat(e.orderTotal),"RM".concat(e.deliveryFee),"RM".concat(e.totalWithDelivery),new Date(e.timestamp).toLocaleString()]))})]})]})}):(0,Hh.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,Hh.jsx)(jf,{title:"Admin Dashboard",onAuth:f})})},Mf=zh("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),zf=zh("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ff=zh("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Uf=zh("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Vf={dominos:{name:"Domino's",color:"#006491",backgroundColor:"#E5F0F4",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Domino%27s_pizza_logo.svg/240px-Domino%27s_pizza_logo.svg.png"},mcdonalds:{name:"McDonald's",color:"#DA291C",backgroundColor:"#FFDBCF",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/McDonald%27s_Golden_Arches.svg/240px-McDonald%27s_Golden_Arches.svg.png"},mixue:{name:"Mixue",color:"#D83131",backgroundColor:"#F9EBEB",logoUrl:"https://img.ws.mms.shopee.com.my/43b78294cf7b8f9e685f02c668b55633"},default:{name:"Unknown Store",color:"#475569",backgroundColor:"#F1F5F9",logoUrl:""}},Bf=e=>{let{vendor:t}=e;const n=Vf[null===t||void 0===t?void 0:t.toLowerCase()]||Vf.default;return(0,Hh.jsx)("div",{style:{padding:"4px 10px",borderRadius:"999px",backgroundColor:n.backgroundColor,color:n.color,fontSize:"11px",fontWeight:"bold",display:"inline-block",letterSpacing:"0.5px",textTransform:"uppercase"},children:n.name})},Wf=e=>{let{prebookUsers:t,todayOrders:n,todayUsers:i,loadingUsers:o,loadingOrders:a,windowWidth:s,setSelectedImage:l,isAuthenticated:u,onAuth:d,resetAuth:h,fetchAllData:f,showSuccessAnimation:p,showLoadingAnimation:g,hideLoadingAnimation:m}=e;const[y,v]=(0,r.useState)("pending"),[b,x]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=n.some((e=>"in-progress"===e.status));v(e?"in-progress":"pending")}),[n]);const w={card:{backgroundColor:"white",borderRadius:"20px",padding:"32px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.08)",marginBottom:"24px",border:"1px solid #f1f5f9"},cardHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},cardTitle:{fontSize:"24px",fontWeight:"700",margin:0,color:"#1e293b"},button:{padding:"10px 20px",borderRadius:"12px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"15px",transition:"all 0.3s ease",boxShadow:"0 4px 14px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",gap:"8px"},statCard:{backgroundColor:"white",padding:"28px",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",display:"flex",alignItems:"center",gap:"20px",transition:"all 0.3s ease",cursor:"pointer",border:"1px solid #f1f5f9"},statIcon:{width:"64px",height:"64px",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},statContent:{flex:1,minWidth:0},statLabel:{fontSize:"14px",color:"#64748b",marginBottom:"4px",fontWeight:"500"},statValue:{fontSize:"28px",fontWeight:"bold",color:"#1e293b",lineHeight:"1.2"},orderCard:{backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"16px",padding:"16px",transition:"all 0.3s ease",display:"flex",gap:"16px",alignItems:"stretch"},orderCardSelected:{backgroundColor:"#f0f9ff",borderColor:"#3b82f6",boxShadow:"0 4px 20px rgba(59, 130, 246, 0.15)"}};if(!u)return(0,Hh.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,Hh.jsx)(jf,{title:"Driver Dashboard",onAuth:d})});if(o||a)return(0,Hh.jsxs)("div",{style:{textAlign:"center",padding:"60px",backgroundColor:"white",borderRadius:"20px",marginBottom:"32px"},children:[(0,Hh.jsx)(Gh,{size:56,color:"#3b82f6",style:{animation:"spin 1s linear infinite"}}),(0,Hh.jsx)("p",{style:{marginTop:"24px",color:"#64748b",fontSize:"18px"},children:"Loading driver dashboard..."})]});const S=(()=>{const e=n.length,t=n.filter((e=>"delivered"===e.status)).length,r=n.filter((e=>"pending"===e.status)).length,i=n.reduce(((e,t)=>e+(t.deliveryFee||0)),0);return{totalOrders:e,completedOrders:t,pendingOrders:r,totalRevenue:i}})();return(0,Hh.jsxs)("div",{children:[(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("h2",{style:{margin:0,fontSize:"32px",color:"#1e293b"},children:"Driver Dashboard"}),(0,Hh.jsxs)("p",{style:{margin:"8px 0 0 0",color:"#64748b",fontSize:"16px"},children:["Today's Deliveries - ",(new Date).toLocaleDateString()]})]}),(0,Hh.jsx)("div",{style:{display:"flex",gap:"12px"},children:(0,Hh.jsx)("button",{onClick:h,style:c(c({},w.button),{},{width:"auto",backgroundColor:"#64748b",color:"white",padding:"14px 28px"}),children:"Logout"})})]}),(0,Hh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:s<=480||s<=768?"repeat(2, 1fr)":"repeat(auto-fit, minmax(240px, 1fr))",gap:s<=480?"10px":s<=768?"16px":"24px",marginBottom:s<=480?"24px":"40px"},children:[(0,Hh.jsxs)("div",{style:c(c({},w.statCard),s<=768?{padding:s<=480?"12px":"16px",gap:s<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},w.statIcon),{},{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)"},s<=768?{width:s<=480?"40px":"48px",height:s<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(_f,{size:s<=480?20:s<=768?24:32,color:"#ef4444"})}),(0,Hh.jsxs)("div",{style:w.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},w.statLabel),s<=480?{fontSize:"11px"}:{}),children:"Total Orders"}),(0,Hh.jsx)("p",{style:c(c({},w.statValue),s<=480?{fontSize:"18px"}:{}),children:S.totalOrders})]})]}),(0,Hh.jsxs)("div",{style:c(c({},w.statCard),s<=768?{padding:s<=480?"12px":"16px",gap:s<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},w.statIcon),{},{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)"},s<=768?{width:s<=480?"40px":"48px",height:s<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(Zh,{size:s<=480?20:s<=768?24:32,color:"#f59e0b"})}),(0,Hh.jsxs)("div",{style:w.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},w.statLabel),s<=480?{fontSize:"11px"}:{}),children:"Pending"}),(0,Hh.jsx)("p",{style:c(c({},w.statValue),s<=480?{fontSize:"18px"}:{}),children:S.pendingOrders})]})]}),(0,Hh.jsxs)("div",{style:c(c({},w.statCard),s<=768?{padding:s<=480?"12px":"16px",gap:s<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},w.statIcon),{},{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)"},s<=768?{width:s<=480?"40px":"48px",height:s<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(Mf,{size:s<=480?20:s<=768?24:32,color:"#10b981"})}),(0,Hh.jsxs)("div",{style:w.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},w.statLabel),s<=480?{fontSize:"11px"}:{}),children:"Completed"}),(0,Hh.jsx)("p",{style:c(c({},w.statValue),s<=480?{fontSize:"18px"}:{}),children:S.completedOrders})]})]}),(0,Hh.jsxs)("div",{style:c(c({},w.statCard),s<=768?{padding:s<=480?"12px":"16px",gap:s<=480?"10px":"12px"}:{}),children:[(0,Hh.jsx)("div",{style:c(c({},w.statIcon),{},{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)"},s<=768?{width:s<=480?"40px":"48px",height:s<=480?"40px":"48px"}:{}),children:(0,Hh.jsx)(Uh,{size:s<=480?20:s<=768?24:32,color:"#3b82f6"})}),(0,Hh.jsxs)("div",{style:w.statContent,children:[(0,Hh.jsx)("p",{style:c(c({},w.statLabel),s<=480?{fontSize:"11px"}:{}),children:"Delivery Fees"}),(0,Hh.jsxs)("p",{style:c(c({},w.statValue),s<=480?{fontSize:"18px"}:{}),children:["RM",S.totalRevenue.toFixed(2)]})]})]})]}),(0,Hh.jsxs)("div",{style:w.card,children:[(0,Hh.jsx)("div",{style:w.cardHeader,children:(0,Hh.jsx)(Zh,{color:"#f59e0b",size:28})}),(0,Hh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hh.jsx)("h3",{style:{marginBottom:"16px",color:"#1e293b"},children:"Next Pickup Time"}),(0,Hh.jsx)(ef,{targetTime:"19:00"}),(0,Hh.jsx)("p",{style:{marginTop:"12px",color:"#64748b"},children:"\ud83d\ude9a Daily pickup at 7:00 PM"})]})]}),n.length>0?(0,Hh.jsxs)("div",{style:w.card,children:[(0,Hh.jsxs)("div",{style:w.cardHeader,children:[(0,Hh.jsx)(_f,{color:"#3b82f6",size:28}),(0,Hh.jsx)("h2",{style:w.cardTitle,children:"Today's Orders"})]}),(0,Hh.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"16px 20px",borderRadius:"12px",marginBottom:"24px",display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center",justifyContent:"space-between"},children:[(0,Hh.jsxs)("p",{style:{margin:"0",fontWeight:"600",color:"#1e293b"},children:["Selected: ",b.length," / ",n.length]}),(0,Hh.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:[(0,Hh.jsx)("button",{onClick:()=>{const e=n.map((e=>e.id));b.length<n.length?x(e):x([])},style:{background:"#ffffff",border:"1px solid #cbd5e1",color:"#475569",fontWeight:"600",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:b.length<n.length?"Select All":"Deselect All"}),"pending"===y&&(0,Hh.jsxs)("button",{onClick:async()=>{if(0!==b.length){g("Starting delivery for ".concat(b.length," orders..."));try{console.log("Starting delivery for orders:",b),await Ah(b,"in-progress"),m(),v("in-progress"),await f(),p("Delivery Started!","".concat(b.length," order(s) are now in progress. Customers will be notified automatically."),null,3500)}catch(e){m(),console.error("Error starting delivery:",e),p("Error","Could not start delivery: ".concat(e.message),null,3e3)}}else p("No Orders Selected","Please select at least one order to start delivery.")},disabled:0===b.length,style:c(c({},w.button),{},{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",opacity:0===b.length?.5:1,cursor:0===b.length?"not-allowed":"pointer"}),children:[(0,Hh.jsx)(Uh,{size:16}),"Start Delivery"]}),"in-progress"===y&&(0,Hh.jsxs)("button",{onClick:async()=>{if(0!==b.length){g("Completing deliveries...");try{await Ah(b,"delivered"),m(),v("completed"),x([]),await f(),p("Deliveries Completed!","All selected orders have been marked as delivered.")}catch(e){m(),console.error("Error completing delivery:",e),p("Error","Failed to update delivery status. Please try again.")}}},disabled:0===b.length,style:c(c({},w.button),{},{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",opacity:0===b.length?.5:1,cursor:0===b.length?"not-allowed":"pointer"}),children:[(0,Hh.jsx)(Mf,{size:16}),"Complete Delivery"]})]})]}),(0,Hh.jsx)("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fit, minmax(340px, 1fr))"},children:n.map((e=>{var t;const n=Vf[null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase()]||Vf.default;return(0,Hh.jsxs)("div",{style:c(c(c({},w.orderCard),b.includes(e.id)?w.orderCardSelected:{}),{},{cursor:"pointer"}),onClick:()=>{return t=e.id,void x((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},children:[(0,Hh.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px",minWidth:0},children:[(0,Hh.jsx)(Bf,{vendor:e.vendor}),(0,Hh.jsxs)("h4",{style:{margin:0,fontSize:"16px",color:"#1e293b",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["Order #",e.orderNumber]}),(0,Hh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",backgroundColor:"white",borderRadius:"8px"},children:[(0,Hh.jsx)(zf,{size:16,color:"#64748b"}),(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("p",{style:{margin:0,fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.userName}),(0,Hh.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#64748b"},children:e.studentId})]})]}),(0,Hh.jsx)("div",{style:{flexGrow:1}}),(0,Hh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 8px",backgroundColor:"white",borderRadius:"8px"},children:[(0,Hh.jsx)("span",{style:{color:"#64748b",fontSize:"13px",fontWeight:"500"},children:"Order Total"}),(0,Hh.jsxs)("span",{style:{fontWeight:"bold",fontSize:"16px"},children:["RM",e.orderTotal]})]})]}),(0,Hh.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end",flexShrink:0},children:[(0,Hh.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"6px",border:"2px solid ".concat(b.includes(e.id)?"#3b82f6":"#d1d5db"),backgroundColor:b.includes(e.id)?"#3b82f6":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:b.includes(e.id)&&(0,Hh.jsx)(Ff,{size:16,color:"white"})}),(0,Hh.jsxs)("div",{style:{textAlign:"center",cursor:"pointer"},onClick:t=>{t.stopPropagation(),l(e.orderImageURL||n.logoUrl)},children:[(0,Hh.jsx)("img",{src:e.orderImageURL||n.logoUrl,alt:e.orderImageURL?"Receipt":"Vendor Logo",style:{width:"70px",height:"70px",borderRadius:"8px",objectFit:"contain",border:"2px solid #e2e8f0",padding:"4px",background:"white",display:e.orderImageURL||n.logoUrl?"block":"none"}}),(0,Hh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",fontSize:"11px",color:"#64748b",marginTop:"4px"},children:[(0,Hh.jsx)(Uf,{size:12}),(0,Hh.jsx)("span",{children:"View"})]})]})]})]},e.id)}))})]}):(0,Hh.jsx)("div",{style:w.card,children:(0,Hh.jsxs)("div",{style:{textAlign:"center",padding:"60px",color:"#64748b"},children:[(0,Hh.jsx)(pf,{size:56,style:{marginBottom:"20px"}}),(0,Hh.jsx)("h3",{style:{marginBottom:"8px"},children:"No Orders Today"}),(0,Hh.jsx)("p",{style:{fontSize:"16px",margin:0},children:"No delivery orders have been placed yet."})]})})]})};const qf=function(){const[e,t]=(0,r.useState)("student"),[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)([]),[g,m]=(0,r.useState)([]),[y,v]=(0,r.useState)([]),[b,x]=(0,r.useState)([]),[w,S]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[E,_]=(0,r.useState)(!0),[T,I]=(0,r.useState)(!0),[A,N]=(0,r.useState)(!0),[R,D]=(0,r.useState)(!1),[j,O]=(0,r.useState)(""),[P,L]=(0,r.useState)(!1),[M,z]=(0,r.useState)({}),[F,U]=(0,r.useState)(null),[V,B]=(0,r.useState)(!1),[W,q]=(0,r.useState)({orderNumber:"",orderTotal:""}),[H,K]=(0,r.useState)(!1),[G,Q]=(0,r.useState)(null),[Y,X]=(0,r.useState)(window.innerWidth),[$,J]=(0,r.useState)([]),[Z,ee]=(0,r.useState)(null),[te,ne]=(0,r.useState)(!1),[re,ie]=(0,r.useState)(null),[oe,ae]=(0,r.useState)(null),se={container:{minHeight:"100vh",paddingTop:s?"90px":"0"},maxWidth:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px",width:"100%",boxSizing:"border-box"}},le=(0,r.useCallback)((function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>xh(e.timestamp))),n=e.filter((e=>xh(e.registrationDate)||xh(e.timestamp)));m(t),v(n);const r=n.filter((e=>e.commitmentPaid)).length>=3;S(r),C(r)}),[]),ce=(0,r.useCallback)((async()=>{try{_(!0),I(!0),N(!0);const[e,t,n]=await Promise.all([_h(),Th(),Ih()]);p(e),x(n),le(t,e);const r=e.map(((e,t)=>({userId:e.firestoreId,order:t+1})));J(r)}catch(e){console.error("Error fetching data:",e)}finally{_(!1),I(!1),N(!1)}}),[le]),ue=(e,t)=>{ee(e),setTimeout((()=>{t(),ee(null)}),1600)},de=function(e,t){z({title:e,message:t,additionalInfo:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,duration:arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,showOkButton:!(arguments.length>4&&void 0!==arguments[4])||arguments[4],onClose:arguments.length>5&&void 0!==arguments[5]?arguments[5]:null}),L(!0)},he=e=>{O(e),D(!0)},fe=()=>{D(!1),O("")},pe=e=>{"byyc"===e?(localStorage.setItem("isAdminAuthenticated","true"),i(!0)):alert("Invalid passcode")},ge=()=>{i(!1),localStorage.removeItem("isAdminAuthenticated")},me=e=>{ue({background:"#ffffff"},(()=>{h(e),a(!1),l(!0)}))},ye=e=>{ue({background:"#ffffff"},(()=>{ge(),h(""),a(!1),l(!0),t(e)}))},ve=()=>{ue({background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},(()=>{a(!0),l(!1),t("student"),oe&&oe()}))};(0,r.useEffect)((()=>{const e=()=>X(window.innerWidth);window.addEventListener("resize",e);return"true"===localStorage.getItem("isAdminAuthenticated")&&i(!0),()=>window.removeEventListener("resize",e)}),[]),(0,r.useEffect)((()=>{const e=()=>{const e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"})),n=localStorage.getItem("lastAccessDate"),r=t.toDateString();n!==r&&(localStorage.setItem("lastAccessDate",r),localStorage.removeItem("selectedVendor-".concat(n)),h(""),a(!0),l(!1),ce())};e();const t=setInterval(e,6e4);return()=>clearInterval(t)}),[ce,oe]),(0,r.useEffect)((()=>{s&&ce()}),[ce,s]),(0,r.useEffect)((()=>{d&&localStorage.setItem("selectedVendor-".concat((new Date).toDateString()),d)}),[d]);const be={prebookUsers:f,todayOrders:g,todayUsers:y,historyData:b,minOrderReached:w,systemActivatedToday:k,registrationOrder:$,loadingUsers:E,loadingOrders:T,loadingHistory:A,windowWidth:Y,showSuccessAnimation:de,showLoadingAnimation:he,hideLoadingAnimation:fe,fetchAllData:ce,setSelectedImage:U,setShowScanConfirmation:B,setScannedData:q,setOrderConfirmed:K,setCurrentOrder:Q,selectedVendor:d,setShowEmailModal:ne,setUserForEmail:ie},xe="\n    /* --- KEYFRAMES --- */\n    @keyframes gateCloseLeft { from { transform: translateX(-100%); } to { transform: translateX(0); } }\n    @keyframes gateCloseRight { from { transform: translateX(100%); } to { transform: translateX(0); } }\n    @keyframes gateOpenLeft { from { transform: translateX(0); } to { transform: translateX(-100%); } }\n    @keyframes gateOpenRight { from { transform: translateX(0); } to { transform: translateX(100%); } }\n\n    @keyframes logoFadeIn {\n  from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }\n  to   { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n}\n@keyframes logoFadeOut {\n  from { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n  to   { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }\n}\n\n    /* --- MAIN OVERLAY CONTAINER --- */\n    .gate-overlay {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: 99999;\n      pointer-events: none;\n      opacity: 0;\n      visibility: hidden;\n      overflow: hidden;\n    }\n    .gate-overlay.is-active {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* --- THE GATE DOORS --- */\n    .gate-half {\n      position: absolute;\n      top: 0;\n      width: 50.5%;\n      height: 100%;\n      background-color: #1f2937;\n    }\n    .gate-half.left { left: 0; }\n    .gate-half.right { right: 0; }\n\n    /* --- THE LOGO --- */\n    .gate-logo-container {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: white;\n      border-radius: 50%;\n      padding: 25px;\n      box-shadow: 0 10px 40px rgba(0,0,0,0.3);\n    }\n    .gate-logo {\n      display: block;\n      width: 150px;\n      height: 150px;\n    }\n\n    /* --- APPLYING THE ANIMATIONS IN SEQUENCE --- */\n    .gate-overlay.is-active .gate-half.left {\n      animation: gateCloseLeft 0.8s cubic-bezier(0.83, 0, 0.17, 1) forwards,\n                 gateOpenLeft 0.8s cubic-bezier(0.83, 0, 0.17, 1) 0.8s forwards;\n    }\n    .gate-overlay.is-active .gate-half.right {\n      animation: gateCloseRight 0.8s cubic-bezier(0.83, 0, 0.17, 1) forwards,\n                 gateOpenRight 0.8s cubic-bezier(0.83, 0, 0.17, 1) 0.8s forwards;\n    }\n    .gate-overlay.is-active .gate-logo-container {\n      animation: logoFadeIn 0.8s cubic-bezier(0.83, 0, 0.17, 1) forwards,\n                 logoFadeOut 0.8s cubic-bezier(0.83, 0, 0.17, 1) 0.8s forwards;\n    }\n  ",we=e=>{let{config:t}=e;return t?(0,Hh.jsxs)("div",{className:"gate-overlay is-active",style:{background:t.background},children:[(0,Hh.jsx)("div",{className:"gate-half left"}),(0,Hh.jsx)("div",{className:"gate-half right"}),(0,Hh.jsx)("div",{className:"gate-logo-container",children:(0,Hh.jsx)("img",{src:u,alt:"Loading...",className:"gate-logo"})})]}):null};return o?(0,Hh.jsxs)(Hh.Fragment,{children:[(0,Hh.jsx)("style",{children:xe}),(0,Hh.jsx)(we,{config:Z}),R&&(0,Hh.jsx)(Qh,{message:j}),P&&(0,Hh.jsx)(Xh,c(c({},M),{},{onClose:()=>L(!1)})),(0,Hh.jsx)(uf,{onStart:me,onNavigateToPortal:ye,windowWidth:Y})]}):(0,Hh.jsxs)("div",{style:se.container,children:[(0,Hh.jsx)("style",{children:xe}),(0,Hh.jsx)(we,{config:Z}),(0,Hh.jsx)(Kh,{activeTab:e,onTabChange:e=>{"student"!==e||d?("admin"!==e&&"driver"!==e||ge(),t(e)):ve()},onHome:ve,selectedVendor:d,isTransitioning:!!Z,windowWidth:Y}),R&&(0,Hh.jsx)(Qh,{message:j}),P&&(0,Hh.jsx)(Xh,c(c({},M),{},{onClose:()=>{L(!1),M.onClose&&M.onClose()}})),H&&(0,Hh.jsx)(rf,{onClose:()=>{K(!1),Q(null),oe&&oe(),ce()},currentOrder:G}),F&&(0,Hh.jsx)(nf,{imageUrl:F,onClose:()=>U(null)}),V&&(0,Hh.jsx)(af,{scannedData:W,onConfirm:(e,t)=>{e?(B(!1),de("Scan Successful!","Order details have been filled automatically.",null,1500,!0)):B(!1)},windowWidth:Y}),te&&(0,Hh.jsx)(ff,{user:re,onSubmit:async(e,t)=>{he("Saving your email...");try{if(!e||"string"!==typeof e)throw new Error("Invalid user ID provided");console.log("handleEmailSubmit called with:",{userId:e,email:t}),await(async(e,t)=>{try{if(!e||"string"!==typeof e)throw new Error("Invalid userId provided");const n=Jc(Sh,"prebookUsers",e);await Zu(n,{email:t}),console.log("User email updated successfully")}catch(n){throw console.error("Error updating user email: ",n),n}})(e,t),ne(!1),de("Order Confirmed!","Your order has been submitted successfully. You\u2019ll receive a confirmation email soon.",null,4e3,!0,(()=>{K(!0)}))}catch(n){console.error("Failed to save email:",n),de("Email Save Failed","Failed to save your email: ".concat(n.message),null,3e3,!0)}finally{fe()}},onClose:()=>ne(!1),windowWidth:Y}),(0,Hh.jsxs)("div",{style:se.maxWidth,children:["student"===e&&(0,Hh.jsx)(Cf,c(c({},be),{},{setResetStudentForm:ae})),"admin"===e&&(0,Hh.jsx)(Lf,c(c({},be),{},{isAuthenticated:n,onAuth:pe,resetAuth:ge})),"driver"===e&&(0,Hh.jsx)(Wf,c(c({},be),{},{isAuthenticated:n,onAuth:pe,resetAuth:ge}))]})]})},Hf=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,Hh.jsx)(r.StrictMode,{children:(0,Hh.jsx)(qf,{})})),Hf()})();
//# sourceMappingURL=main.1f686aa8.js.map